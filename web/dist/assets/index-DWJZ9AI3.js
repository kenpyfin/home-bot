var Bx=Object.defineProperty;var Lf=e=>{throw TypeError(e)};var Fx=(e,t,n)=>t in e?Bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>Fx(e,typeof t!="symbol"?t+"":t,n),Bf=(e,t,n)=>t.has(e)||Lf("Cannot "+n);var ls=(e,t,n)=>(Bf(e,t,"read from private field"),n?n.call(e):t.get(e)),us=(e,t,n)=>t.has(e)?Lf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),cs=(e,t,n,r)=>(Bf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function zx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var im={exports:{}},fa={},am={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=Symbol.for("react.element"),$x=Symbol.for("react.portal"),Ux=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),Gx=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),qx=Symbol.for("react.memo"),Xx=Symbol.for("react.lazy"),Ff=Symbol.iterator;function Qx(e){return e===null||typeof e!="object"?null:(e=Ff&&e[Ff]||e["@@iterator"],typeof e=="function"?e:null)}var lm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},um=Object.assign,cm={};function ts(e,t,n){this.props=e,this.context=t,this.refs=cm,this.updater=n||lm}ts.prototype.isReactComponent={};ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dm(){}dm.prototype=ts.prototype;function sc(e,t,n){this.props=e,this.context=t,this.refs=cm,this.updater=n||lm}var oc=sc.prototype=new dm;oc.constructor=sc;um(oc,ts.prototype);oc.isPureReactComponent=!0;var zf=Array.isArray,fm=Object.prototype.hasOwnProperty,ic={current:null},hm={key:!0,ref:!0,__self:!0,__source:!0};function pm(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)fm.call(t,r)&&!hm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:go,type:e,key:o,ref:i,props:s,_owner:ic.current}}function Jx(e,t){return{$$typeof:go,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===go}function Zx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $f=/\/+/g;function Xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zx(""+e.key):t.toString(36)}function ri(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case go:case $x:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Xa(i,0):r,zf(s)?(n="",e!=null&&(n=e.replace($f,"$&/")+"/"),ri(s,t,n,"",function(u){return u})):s!=null&&(ac(s)&&(s=Jx(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace($f,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",zf(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Xa(o,a);i+=ri(o,t,n,l,s)}else if(l=Qx(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Xa(o,a++),i+=ri(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ao(e,t,n){if(e==null)return e;var r=[],s=0;return ri(e,r,"","",function(o){return t.call(n,o,s++)}),r}function e_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},si={transition:null},t_={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:si,ReactCurrentOwner:ic};function mm(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Ao,forEach:function(e,t,n){Ao(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ao(e,function(){t++}),t},toArray:function(e){return Ao(e,function(t){return t})||[]},only:function(e){if(!ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=ts;$.Fragment=Ux;$.Profiler=Vx;$.PureComponent=sc;$.StrictMode=Hx;$.Suspense=Kx;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t_;$.act=mm;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=um({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ic.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)fm.call(t,l)&&!hm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:go,type:e.type,key:s,ref:o,props:r,_owner:i}};$.createContext=function(e){return e={$$typeof:Yx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wx,_context:e},e.Consumer=e};$.createElement=pm;$.createFactory=function(e){var t=pm.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:Gx,render:e}};$.isValidElement=ac;$.lazy=function(e){return{$$typeof:Xx,_payload:{_status:-1,_result:e},_init:e_}};$.memo=function(e,t){return{$$typeof:qx,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=si.transition;si.transition={};try{e()}finally{si.transition=t}};$.unstable_act=mm;$.useCallback=function(e,t){return De.current.useCallback(e,t)};$.useContext=function(e){return De.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return De.current.useDeferredValue(e)};$.useEffect=function(e,t){return De.current.useEffect(e,t)};$.useId=function(){return De.current.useId()};$.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return De.current.useMemo(e,t)};$.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};$.useRef=function(e){return De.current.useRef(e)};$.useState=function(e){return De.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return De.current.useTransition()};$.version="18.3.1";am.exports=$;var c=am.exports;const Ue=da(c),lc=zx({__proto__:null,default:Ue},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_=c,r_=Symbol.for("react.element"),s_=Symbol.for("react.fragment"),o_=Object.prototype.hasOwnProperty,i_=n_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a_={key:!0,ref:!0,__self:!0,__source:!0};function gm(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)o_.call(t,r)&&!a_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:r_,type:e,key:o,ref:i,props:s,_owner:i_.current}}fa.Fragment=s_;fa.jsx=gm;fa.jsxs=gm;im.exports=fa;var h=im.exports,vm={exports:{}},tt={},ym={exports:{}},wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,j){var L=k.length;k.push(j);e:for(;0<L;){var X=L-1>>>1,te=k[X];if(0<s(te,j))k[X]=j,k[L]=te,L=X;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var j=k[0],L=k.pop();if(L!==j){k[0]=L;e:for(var X=0,te=k.length,pn=te>>>1;X<pn;){var st=2*(X+1)-1,Hn=k[st],gt=st+1,Gt=k[gt];if(0>s(Hn,L))gt<te&&0>s(Gt,Hn)?(k[X]=Gt,k[gt]=L,X=gt):(k[X]=Hn,k[st]=L,X=st);else if(gt<te&&0>s(Gt,L))k[X]=Gt,k[gt]=L,X=gt;else break e}}return j}function s(k,j){var L=k.sortIndex-j.sortIndex;return L!==0?L:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,p=null,f=3,m=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=k)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function x(k){if(w=!1,y(k),!S)if(n(l)!==null)S=!0,O(C);else{var j=n(u);j!==null&&z(x,j.startTime-k)}}function C(k,j){S=!1,w&&(w=!1,g(T),T=-1),m=!0;var L=f;try{for(y(j),p=n(l);p!==null&&(!(p.expirationTime>j)||k&&!D());){var X=p.callback;if(typeof X=="function"){p.callback=null,f=p.priorityLevel;var te=X(p.expirationTime<=j);j=e.unstable_now(),typeof te=="function"?p.callback=te:p===n(l)&&r(l),y(j)}else r(l);p=n(l)}if(p!==null)var pn=!0;else{var st=n(u);st!==null&&z(x,st.startTime-j),pn=!1}return pn}finally{p=null,f=L,m=!1}}var R=!1,E=null,T=-1,I=5,P=-1;function D(){return!(e.unstable_now()-P<I)}function F(){if(E!==null){var k=e.unstable_now();P=k;var j=!0;try{j=E(!0,k)}finally{j?Y():(R=!1,E=null)}}else R=!1}var Y;if(typeof v=="function")Y=function(){v(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,he=K.port2;K.port1.onmessage=F,Y=function(){he.postMessage(null)}}else Y=function(){b(F,0)};function O(k){E=k,R||(R=!0,Y())}function z(k,j){T=b(function(){k(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,O(C))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var L=f;f=j;try{return k()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=f;f=k;try{return j()}finally{f=L}},e.unstable_scheduleCallback=function(k,j,L){var X=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?X+L:X):L=X,k){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=L+te,k={id:d++,callback:j,priorityLevel:k,startTime:L,expirationTime:te,sortIndex:-1},L>X?(k.sortIndex=L,t(u,k),n(l)===null&&k===n(u)&&(w?(g(T),T=-1):w=!0,z(x,L-X))):(k.sortIndex=te,t(l,k),S||m||(S=!0,O(C))),k},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(k){var j=f;return function(){var L=f;f=j;try{return k.apply(this,arguments)}finally{f=L}}}})(wm);ym.exports=wm;var l_=ym.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=c,et=l_;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sm=new Set,zs={};function ur(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(zs[e]=t,e=0;e<t.length;e++)Sm.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=Object.prototype.hasOwnProperty,c_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uf={},Hf={};function d_(e){return Hl.call(Hf,e)?!0:Hl.call(Uf,e)?!1:c_.test(e)?Hf[e]=!0:(Uf[e]=!0,!1)}function f_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h_(e,t,n,r){if(t===null||typeof t>"u"||f_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var uc=/[\-:]([a-z])/g;function cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uc,cc);be[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uc,cc);be[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uc,cc);be[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function dc(e,t,n,r){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h_(t,n,s,r)&&(n=null),r||s===null?d_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=u_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),fc=Symbol.for("react.strict_mode"),Vl=Symbol.for("react.profiler"),xm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),bm=Symbol.for("react.offscreen"),Vf=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=Vf&&e[Vf]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Qa;function xs(e){if(Qa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qa=t&&t[1]||""}return`
`+Qa+e}var Ja=!1;function Za(e,t){if(!e||Ja)return"";Ja=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Ja=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xs(e):""}function p_(e){switch(e.tag){case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return e=Za(e.type,!1),e;case 11:return e=Za(e.type.render,!1),e;case 1:return e=Za(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case Sr:return"Portal";case Vl:return"Profiler";case fc:return"StrictMode";case Wl:return"Suspense";case Yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _m:return(e.displayName||"Context")+".Consumer";case xm:return(e._context.displayName||"Context")+".Provider";case hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pc:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case yn:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function m_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===fc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function g_(e){var t=Cm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Io(e){e._valueTracker||(e._valueTracker=g_(e))}function Em(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kl(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tm(e,t){t=t.checked,t!=null&&dc(e,"checked",t,!1)}function ql(e,t){Tm(e,t);var n=Mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xl(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xl(e,t,n){(t!=="number"||Ci(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _s=Array.isArray;function Nr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(_s(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mn(n)}}function Rm(e,t){var n=Mn(t.value),r=Mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function km(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?km(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var No,Am=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(No=No||document.createElement("div"),No.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=No.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v_=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(e){v_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Es[t]=Es[e]})});function Pm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Es.hasOwnProperty(e)&&Es[e]?(""+t).trim():t+"px"}function Im(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Pm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var y_=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(e,t){if(t){if(y_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function eu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=null;function mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nu=null,Mr=null,jr=null;function qf(e){if(e=wo(e)){if(typeof nu!="function")throw Error(A(280));var t=e.stateNode;t&&(t=va(t),nu(e.stateNode,e.type,t))}}function Nm(e){Mr?jr?jr.push(e):jr=[e]:Mr=e}function Mm(){if(Mr){var e=Mr,t=jr;if(jr=Mr=null,qf(e),t)for(e=0;e<t.length;e++)qf(t[e])}}function jm(e,t){return e(t)}function Om(){}var el=!1;function Dm(e,t,n){if(el)return e(t,n);el=!0;try{return jm(e,t,n)}finally{el=!1,(Mr!==null||jr!==null)&&(Om(),Mm())}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var r=va(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var ru=!1;if(sn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){ru=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{ru=!1}function w_(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ts=!1,Ei=null,Ti=!1,su=null,S_={onError:function(e){Ts=!0,Ei=e}};function x_(e,t,n,r,s,o,i,a,l){Ts=!1,Ei=null,w_.apply(S_,arguments)}function __(e,t,n,r,s,o,i,a,l){if(x_.apply(this,arguments),Ts){if(Ts){var u=Ei;Ts=!1,Ei=null}else throw Error(A(198));Ti||(Ti=!0,su=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xf(e){if(cr(e)!==e)throw Error(A(188))}function b_(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Xf(s),e;if(o===r)return Xf(s),t;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Bm(e){return e=b_(e),e!==null?Fm(e):null}function Fm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fm(e);if(t!==null)return t;e=e.sibling}return null}var zm=et.unstable_scheduleCallback,Qf=et.unstable_cancelCallback,C_=et.unstable_shouldYield,E_=et.unstable_requestPaint,de=et.unstable_now,T_=et.unstable_getCurrentPriorityLevel,gc=et.unstable_ImmediatePriority,$m=et.unstable_UserBlockingPriority,Ri=et.unstable_NormalPriority,R_=et.unstable_LowPriority,Um=et.unstable_IdlePriority,ha=null,Ft=null;function k_(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:I_,A_=Math.log,P_=Math.LN2;function I_(e){return e>>>=0,e===0?32:31-(A_(e)/P_|0)|0}var Mo=64,jo=4194304;function bs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ki(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=bs(a):(o&=i,o!==0&&(r=bs(o)))}else i=n&~s,i!==0?r=bs(i):o!==0&&(r=bs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),s=1<<n,r|=e[n],t&=~s;return r}function N_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-_t(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=N_(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hm(){var e=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),e}function tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function j_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_t(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function vc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function Vm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wm,yc,Ym,Gm,Km,iu=!1,Oo=[],En=null,Tn=null,Rn=null,Hs=new Map,Vs=new Map,Sn=[],O_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function hs(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=wo(t),t!==null&&yc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function D_(e,t,n,r,s){switch(t){case"focusin":return En=hs(En,e,t,n,r,s),!0;case"dragenter":return Tn=hs(Tn,e,t,n,r,s),!0;case"mouseover":return Rn=hs(Rn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Hs.set(o,hs(Hs.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Vs.set(o,hs(Vs.get(o)||null,e,t,n,r,s)),!0}return!1}function qm(e){var t=qn(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=Lm(n),t!==null){e.blockedOn=t,Km(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=au(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tu=r,n.target.dispatchEvent(r),tu=null}else return t=wo(n),t!==null&&yc(t),e.blockedOn=n,!1;t.shift()}return!0}function Zf(e,t,n){oi(e)&&n.delete(t)}function L_(){iu=!1,En!==null&&oi(En)&&(En=null),Tn!==null&&oi(Tn)&&(Tn=null),Rn!==null&&oi(Rn)&&(Rn=null),Hs.forEach(Zf),Vs.forEach(Zf)}function ps(e,t){e.blockedOn===t&&(e.blockedOn=null,iu||(iu=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,L_)))}function Ws(e){function t(s){return ps(s,e)}if(0<Oo.length){ps(Oo[0],e);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&ps(En,e),Tn!==null&&ps(Tn,e),Rn!==null&&ps(Rn,e),Hs.forEach(t),Vs.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)qm(n),n.blockedOn===null&&Sn.shift()}var Or=fn.ReactCurrentBatchConfig,Ai=!0;function B_(e,t,n,r){var s=Q,o=Or.transition;Or.transition=null;try{Q=1,wc(e,t,n,r)}finally{Q=s,Or.transition=o}}function F_(e,t,n,r){var s=Q,o=Or.transition;Or.transition=null;try{Q=4,wc(e,t,n,r)}finally{Q=s,Or.transition=o}}function wc(e,t,n,r){if(Ai){var s=au(e,t,n,r);if(s===null)dl(e,t,r,Pi,n),Jf(e,r);else if(D_(s,e,t,n,r))r.stopPropagation();else if(Jf(e,r),t&4&&-1<O_.indexOf(e)){for(;s!==null;){var o=wo(s);if(o!==null&&Wm(o),o=au(e,t,n,r),o===null&&dl(e,t,r,Pi,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else dl(e,t,r,null,n)}}var Pi=null;function au(e,t,n,r){if(Pi=null,e=mc(r),e=qn(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pi=e,null}function Xm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T_()){case gc:return 1;case $m:return 4;case Ri:case R_:return 16;case Um:return 536870912;default:return 16}default:return 16}}var _n=null,Sc=null,ii=null;function Qm(){if(ii)return ii;var e,t=Sc,n=t.length,r,s="value"in _n?_n.value:_n.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return ii=s.slice(e,1<r?1-r:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Do(){return!0}function eh(){return!1}function nt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Do:eh,this.isPropagationStopped=eh,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=nt(ns),yo=ue({},ns,{view:0,detail:0}),z_=nt(yo),nl,rl,ms,pa=ue({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(nl=e.screenX-ms.screenX,rl=e.screenY-ms.screenY):rl=nl=0,ms=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),th=nt(pa),$_=ue({},pa,{dataTransfer:0}),U_=nt($_),H_=ue({},yo,{relatedTarget:0}),sl=nt(H_),V_=ue({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),W_=nt(V_),Y_=ue({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G_=nt(Y_),K_=ue({},ns,{data:0}),nh=nt(K_),q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Q_[e])?!!t[e]:!1}function _c(){return J_}var Z_=ue({},yo,{key:function(e){if(e.key){var t=q_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?X_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eb=nt(Z_),tb=ue({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=nt(tb),nb=ue({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),rb=nt(nb),sb=ue({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),ob=nt(sb),ib=ue({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ab=nt(ib),lb=[9,13,27,32],bc=sn&&"CompositionEvent"in window,Rs=null;sn&&"documentMode"in document&&(Rs=document.documentMode);var ub=sn&&"TextEvent"in window&&!Rs,Jm=sn&&(!bc||Rs&&8<Rs&&11>=Rs),sh=" ",oh=!1;function Zm(e,t){switch(e){case"keyup":return lb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function cb(e,t){switch(e){case"compositionend":return eg(t);case"keypress":return t.which!==32?null:(oh=!0,sh);case"textInput":return e=t.data,e===sh&&oh?null:e;default:return null}}function db(e,t){if(_r)return e==="compositionend"||!bc&&Zm(e,t)?(e=Qm(),ii=Sc=_n=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jm&&t.locale!=="ko"?null:t.data;default:return null}}var fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fb[e.type]:t==="textarea"}function tg(e,t,n,r){Nm(r),t=Ii(t,"onChange"),0<t.length&&(n=new xc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ks=null,Ys=null;function hb(e){fg(e,0)}function ma(e){var t=Er(e);if(Em(t))return e}function pb(e,t){if(e==="change")return t}var ng=!1;if(sn){var ol;if(sn){var il="oninput"in document;if(!il){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),il=typeof ah.oninput=="function"}ol=il}else ol=!1;ng=ol&&(!document.documentMode||9<document.documentMode)}function lh(){ks&&(ks.detachEvent("onpropertychange",rg),Ys=ks=null)}function rg(e){if(e.propertyName==="value"&&ma(Ys)){var t=[];tg(t,Ys,e,mc(e)),Dm(hb,t)}}function mb(e,t,n){e==="focusin"?(lh(),ks=t,Ys=n,ks.attachEvent("onpropertychange",rg)):e==="focusout"&&lh()}function gb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ma(Ys)}function vb(e,t){if(e==="click")return ma(t)}function yb(e,t){if(e==="input"||e==="change")return ma(t)}function wb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:wb;function Gs(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hl.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ch(e,t){var n=uh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uh(n)}}function sg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function og(){for(var e=window,t=Ci();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ci(e.document)}return t}function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sb(e){var t=og(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sg(n.ownerDocument.documentElement,n)){if(r!==null&&Cc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=ch(n,o);var i=ch(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xb=sn&&"documentMode"in document&&11>=document.documentMode,br=null,lu=null,As=null,uu=!1;function dh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uu||br==null||br!==Ci(r)||(r=br,"selectionStart"in r&&Cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Gs(As,r)||(As=r,r=Ii(lu,"onSelect"),0<r.length&&(t=new xc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},al={},ig={};sn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function ga(e){if(al[e])return al[e];if(!Cr[e])return e;var t=Cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ig)return al[e]=t[n];return e}var ag=ga("animationend"),lg=ga("animationiteration"),ug=ga("animationstart"),cg=ga("transitionend"),dg=new Map,fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){dg.set(e,t),ur(t,[e])}for(var ll=0;ll<fh.length;ll++){var ul=fh[ll],_b=ul.toLowerCase(),bb=ul[0].toUpperCase()+ul.slice(1);Bn(_b,"on"+bb)}Bn(ag,"onAnimationEnd");Bn(lg,"onAnimationIteration");Bn(ug,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(cg,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function hh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,__(r,t,void 0,e),e.currentTarget=null}function fg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;hh(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;hh(s,a,u),o=l}}}if(Ti)throw e=su,Ti=!1,su=null,e}function ne(e,t){var n=t[pu];n===void 0&&(n=t[pu]=new Set);var r=e+"__bubble";n.has(r)||(hg(t,e,2,!1),n.add(r))}function cl(e,t,n){var r=0;t&&(r|=4),hg(n,e,r,t)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Ks(e){if(!e[Bo]){e[Bo]=!0,Sm.forEach(function(n){n!=="selectionchange"&&(Cb.has(n)||cl(n,!1,e),cl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bo]||(t[Bo]=!0,cl("selectionchange",!1,t))}}function hg(e,t,n,r){switch(Xm(t)){case 1:var s=B_;break;case 4:s=F_;break;default:s=wc}n=s.bind(null,t,n,e),s=void 0,!ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function dl(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=qn(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Dm(function(){var u=o,d=mc(n),p=[];e:{var f=dg.get(e);if(f!==void 0){var m=xc,S=e;switch(e){case"keypress":if(ai(n)===0)break e;case"keydown":case"keyup":m=eb;break;case"focusin":S="focus",m=sl;break;case"focusout":S="blur",m=sl;break;case"beforeblur":case"afterblur":m=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=U_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=rb;break;case ag:case lg:case ug:m=W_;break;case cg:m=ob;break;case"scroll":m=z_;break;case"wheel":m=ab;break;case"copy":case"cut":case"paste":m=G_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rh}var w=(t&4)!==0,b=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,y;v!==null;){y=v;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=Us(v,g),x!=null&&w.push(qs(v,x,y)))),b)break;v=v.return}0<w.length&&(f=new m(f,S,null,n,d),p.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==tu&&(S=n.relatedTarget||n.fromElement)&&(qn(S)||S[on]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?qn(S):null,S!==null&&(b=cr(S),S!==b||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(w=th,x="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=rh,x="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?f:Er(m),y=S==null?f:Er(S),f=new w(x,v+"leave",m,n,d),f.target=b,f.relatedTarget=y,x=null,qn(d)===u&&(w=new w(g,v+"enter",S,n,d),w.target=y,w.relatedTarget=b,x=w),b=x,m&&S)t:{for(w=m,g=S,v=0,y=w;y;y=pr(y))v++;for(y=0,x=g;x;x=pr(x))y++;for(;0<v-y;)w=pr(w),v--;for(;0<y-v;)g=pr(g),y--;for(;v--;){if(w===g||g!==null&&w===g.alternate)break t;w=pr(w),g=pr(g)}w=null}else w=null;m!==null&&ph(p,f,m,w,!1),S!==null&&b!==null&&ph(p,b,S,w,!0)}}e:{if(f=u?Er(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=pb;else if(ih(f))if(ng)C=yb;else{C=gb;var R=mb}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=vb);if(C&&(C=C(e,u))){tg(p,C,n,d);break e}R&&R(e,f,u),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Xl(f,"number",f.value)}switch(R=u?Er(u):window,e){case"focusin":(ih(R)||R.contentEditable==="true")&&(br=R,lu=u,As=null);break;case"focusout":As=lu=br=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,dh(p,n,d);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":dh(p,n,d)}var E;if(bc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _r?Zm(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Jm&&n.locale!=="ko"&&(_r||T!=="onCompositionStart"?T==="onCompositionEnd"&&_r&&(E=Qm()):(_n=d,Sc="value"in _n?_n.value:_n.textContent,_r=!0)),R=Ii(u,T),0<R.length&&(T=new nh(T,e,null,n,d),p.push({event:T,listeners:R}),E?T.data=E:(E=eg(n),E!==null&&(T.data=E)))),(E=ub?cb(e,n):db(e,n))&&(u=Ii(u,"onBeforeInput"),0<u.length&&(d=new nh("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=E))}fg(p,t)})}function qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Us(e,n),o!=null&&r.unshift(qs(e,o,s)),o=Us(e,t),o!=null&&r.push(qs(e,o,s))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ph(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Us(n,o),l!=null&&i.unshift(qs(n,l,a))):s||(l=Us(n,o),l!=null&&i.push(qs(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Eb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function mh(e){return(typeof e=="string"?e:""+e).replace(Eb,`
`).replace(Tb,"")}function Fo(e,t,n){if(t=mh(t),mh(e)!==t&&n)throw Error(A(425))}function Ni(){}var cu=null,du=null;function fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(e){return gh.resolve(null).then(e).catch(Ab)}:hu;function Ab(e){setTimeout(function(){throw e})}function fl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ws(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ws(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Ot="__reactFiber$"+rs,Xs="__reactProps$"+rs,on="__reactContainer$"+rs,pu="__reactEvents$"+rs,Pb="__reactListeners$"+rs,Ib="__reactHandles$"+rs;function qn(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[on]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vh(e);e!==null;){if(n=e[Ot])return n;e=vh(e)}return t}e=n,n=e.parentNode}return null}function wo(e){return e=e[Ot]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function va(e){return e[Xs]||null}var mu=[],Tr=-1;function Fn(e){return{current:e}}function re(e){0>Tr||(e.current=mu[Tr],mu[Tr]=null,Tr--)}function ee(e,t){Tr++,mu[Tr]=e.current,e.current=t}var jn={},Pe=Fn(jn),Ve=Fn(!1),tr=jn;function Ur(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function We(e){return e=e.childContextTypes,e!=null}function Mi(){re(Ve),re(Pe)}function yh(e,t,n){if(Pe.current!==jn)throw Error(A(168));ee(Pe,t),ee(Ve,n)}function pg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,m_(e)||"Unknown",s));return ue({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,tr=Pe.current,ee(Pe,e),ee(Ve,Ve.current),!0}function wh(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=pg(e,t,tr),r.__reactInternalMemoizedMergedChildContext=e,re(Ve),re(Pe),ee(Pe,e)):re(Ve),ee(Ve,n)}var Qt=null,ya=!1,hl=!1;function mg(e){Qt===null?Qt=[e]:Qt.push(e)}function Nb(e){ya=!0,mg(e)}function zn(){if(!hl&&Qt!==null){hl=!0;var e=0,t=Q;try{var n=Qt;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qt=null,ya=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(e+1)),zm(gc,zn),s}finally{Q=t,hl=!1}}return null}var Rr=[],kr=0,Oi=null,Di=0,at=[],lt=0,nr=null,en=1,tn="";function Gn(e,t){Rr[kr++]=Di,Rr[kr++]=Oi,Oi=e,Di=t}function gg(e,t,n){at[lt++]=en,at[lt++]=tn,at[lt++]=nr,nr=e;var r=en;e=tn;var s=32-_t(r)-1;r&=~(1<<s),n+=1;var o=32-_t(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,en=1<<32-_t(t)+s|n<<s|r,tn=o+e}else en=1<<o|n<<s|r,tn=e}function Ec(e){e.return!==null&&(Gn(e,1),gg(e,1,0))}function Tc(e){for(;e===Oi;)Oi=Rr[--kr],Rr[kr]=null,Di=Rr[--kr],Rr[kr]=null;for(;e===nr;)nr=at[--lt],at[lt]=null,tn=at[--lt],at[lt]=null,en=at[--lt],at[lt]=null}var Je=null,Qe=null,oe=!1,St=null;function vg(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Qe=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(oe){var t=Qe;if(t){var n=t;if(!Sh(e,t)){if(gu(e))throw Error(A(418));t=kn(n.nextSibling);var r=Je;t&&Sh(e,t)?vg(r,n):(e.flags=e.flags&-4097|2,oe=!1,Je=e)}}else{if(gu(e))throw Error(A(418));e.flags=e.flags&-4097|2,oe=!1,Je=e}}}function xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function zo(e){if(e!==Je)return!1;if(!oe)return xh(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fu(e.type,e.memoizedProps)),t&&(t=Qe)){if(gu(e))throw yg(),Error(A(418));for(;t;)vg(e,t),t=kn(t.nextSibling)}if(xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?kn(e.stateNode.nextSibling):null;return!0}function yg(){for(var e=Qe;e;)e=kn(e.nextSibling)}function Hr(){Qe=Je=null,oe=!1}function Rc(e){St===null?St=[e]:St.push(e)}var Mb=fn.ReactCurrentBatchConfig;function gs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _h(e){var t=e._init;return t(e._payload)}function wg(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Nn(g,v),g.index=0,g.sibling=null,g}function o(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,y,x){return v===null||v.tag!==6?(v=Sl(y,g.mode,x),v.return=g,v):(v=s(v,y),v.return=g,v)}function l(g,v,y,x){var C=y.type;return C===xr?d(g,v,y.props.children,x,y.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yn&&_h(C)===v.type)?(x=s(v,y.props),x.ref=gs(g,v,y),x.return=g,x):(x=pi(y.type,y.key,y.props,null,g.mode,x),x.ref=gs(g,v,y),x.return=g,x)}function u(g,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=xl(y,g.mode,x),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function d(g,v,y,x,C){return v===null||v.tag!==7?(v=Zn(y,g.mode,x,C),v.return=g,v):(v=s(v,y),v.return=g,v)}function p(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sl(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Po:return y=pi(v.type,v.key,v.props,null,g.mode,y),y.ref=gs(g,null,v),y.return=g,y;case Sr:return v=xl(v,g.mode,y),v.return=g,v;case yn:var x=v._init;return p(g,x(v._payload),y)}if(_s(v)||ds(v))return v=Zn(v,g.mode,y,null),v.return=g,v;$o(g,v)}return null}function f(g,v,y,x){var C=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(g,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Po:return y.key===C?l(g,v,y,x):null;case Sr:return y.key===C?u(g,v,y,x):null;case yn:return C=y._init,f(g,v,C(y._payload),x)}if(_s(y)||ds(y))return C!==null?null:d(g,v,y,x,null);$o(g,y)}return null}function m(g,v,y,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,a(v,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Po:return g=g.get(x.key===null?y:x.key)||null,l(v,g,x,C);case Sr:return g=g.get(x.key===null?y:x.key)||null,u(v,g,x,C);case yn:var R=x._init;return m(g,v,y,R(x._payload),C)}if(_s(x)||ds(x))return g=g.get(y)||null,d(v,g,x,C,null);$o(v,x)}return null}function S(g,v,y,x){for(var C=null,R=null,E=v,T=v=0,I=null;E!==null&&T<y.length;T++){E.index>T?(I=E,E=null):I=E.sibling;var P=f(g,E,y[T],x);if(P===null){E===null&&(E=I);break}e&&E&&P.alternate===null&&t(g,E),v=o(P,v,T),R===null?C=P:R.sibling=P,R=P,E=I}if(T===y.length)return n(g,E),oe&&Gn(g,T),C;if(E===null){for(;T<y.length;T++)E=p(g,y[T],x),E!==null&&(v=o(E,v,T),R===null?C=E:R.sibling=E,R=E);return oe&&Gn(g,T),C}for(E=r(g,E);T<y.length;T++)I=m(E,g,T,y[T],x),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?T:I.key),v=o(I,v,T),R===null?C=I:R.sibling=I,R=I);return e&&E.forEach(function(D){return t(g,D)}),oe&&Gn(g,T),C}function w(g,v,y,x){var C=ds(y);if(typeof C!="function")throw Error(A(150));if(y=C.call(y),y==null)throw Error(A(151));for(var R=C=null,E=v,T=v=0,I=null,P=y.next();E!==null&&!P.done;T++,P=y.next()){E.index>T?(I=E,E=null):I=E.sibling;var D=f(g,E,P.value,x);if(D===null){E===null&&(E=I);break}e&&E&&D.alternate===null&&t(g,E),v=o(D,v,T),R===null?C=D:R.sibling=D,R=D,E=I}if(P.done)return n(g,E),oe&&Gn(g,T),C;if(E===null){for(;!P.done;T++,P=y.next())P=p(g,P.value,x),P!==null&&(v=o(P,v,T),R===null?C=P:R.sibling=P,R=P);return oe&&Gn(g,T),C}for(E=r(g,E);!P.done;T++,P=y.next())P=m(E,g,T,P.value,x),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?T:P.key),v=o(P,v,T),R===null?C=P:R.sibling=P,R=P);return e&&E.forEach(function(F){return t(g,F)}),oe&&Gn(g,T),C}function b(g,v,y,x){if(typeof y=="object"&&y!==null&&y.type===xr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Po:e:{for(var C=y.key,R=v;R!==null;){if(R.key===C){if(C=y.type,C===xr){if(R.tag===7){n(g,R.sibling),v=s(R,y.props.children),v.return=g,g=v;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yn&&_h(C)===R.type){n(g,R.sibling),v=s(R,y.props),v.ref=gs(g,R,y),v.return=g,g=v;break e}n(g,R);break}else t(g,R);R=R.sibling}y.type===xr?(v=Zn(y.props.children,g.mode,x,y.key),v.return=g,g=v):(x=pi(y.type,y.key,y.props,null,g.mode,x),x.ref=gs(g,v,y),x.return=g,g=x)}return i(g);case Sr:e:{for(R=y.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=xl(y,g.mode,x),v.return=g,g=v}return i(g);case yn:return R=y._init,b(g,v,R(y._payload),x)}if(_s(y))return S(g,v,y,x);if(ds(y))return w(g,v,y,x);$o(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,y),v.return=g,g=v):(n(g,v),v=Sl(y,g.mode,x),v.return=g,g=v),i(g)):n(g,v)}return b}var Vr=wg(!0),Sg=wg(!1),Li=Fn(null),Bi=null,Ar=null,kc=null;function Ac(){kc=Ar=Bi=null}function Pc(e){var t=Li.current;re(Li),e._currentValue=t}function yu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){Bi=e,kc=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Bi===null)throw Error(A(308));Ar=e,Bi.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Xn=null;function Ic(e){Xn===null?Xn=[e]:Xn.push(e)}function xg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ic(t)):(n.next=s.next,s.next=n),t.interleaved=n,an(e,r)}function an(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function Nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,an(e,n)}return s=r.interleaved,s===null?(t.next=t,Ic(r)):(t.next=s.next,s.next=t),r.interleaved=t,an(e,n)}function li(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vc(e,n)}}function bh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var s=e.updateQueue;wn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var p=s.baseState;i=0,d=u=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,w=a;switch(f=t,m=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){p=S.call(m,p,f);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,f=typeof S=="function"?S.call(m,p,f):S,f==null)break e;p=ue({},p,f);break e;case 2:wn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=p):d=d.next=m,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);sr|=i,e.lanes=i,e.memoizedState=p}}function Ch(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var So={},zt=Fn(So),Qs=Fn(So),Js=Fn(So);function Qn(e){if(e===So)throw Error(A(174));return e}function Mc(e,t){switch(ee(Js,t),ee(Qs,e),ee(zt,So),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jl(t,e)}re(zt),ee(zt,t)}function Wr(){re(zt),re(Qs),re(Js)}function bg(e){Qn(Js.current);var t=Qn(zt.current),n=Jl(t,e.type);t!==n&&(ee(Qs,e),ee(zt,n))}function jc(e){Qs.current===e&&(re(zt),re(Qs))}var ae=Fn(0);function zi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pl=[];function Oc(){for(var e=0;e<pl.length;e++)pl[e]._workInProgressVersionPrimary=null;pl.length=0}var ui=fn.ReactCurrentDispatcher,ml=fn.ReactCurrentBatchConfig,rr=0,le=null,ge=null,ye=null,$i=!1,Ps=!1,Zs=0,jb=0;function Re(){throw Error(A(321))}function Dc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Lc(e,t,n,r,s,o){if(rr=o,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=e===null||e.memoizedState===null?Bb:Fb,e=n(r,s),Ps){o=0;do{if(Ps=!1,Zs=0,25<=o)throw Error(A(301));o+=1,ye=ge=null,t.updateQueue=null,ui.current=zb,e=n(r,s)}while(Ps)}if(ui.current=Ui,t=ge!==null&&ge.next!==null,rr=0,ye=ge=le=null,$i=!1,t)throw Error(A(300));return e}function Bc(){var e=Zs!==0;return Zs=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?le.memoizedState=ye=e:ye=ye.next=e,ye}function ft(){if(ge===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=ye===null?le.memoizedState:ye.next;if(t!==null)ye=t,ge=e;else{if(e===null)throw Error(A(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ye===null?le.memoizedState=ye=e:ye=ye.next=e}return ye}function eo(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=ft(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=ge,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((rr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,i=r):l=l.next=p,le.lanes|=d,sr|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,Et(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,le.lanes|=o,sr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vl(e){var t=ft(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Et(o,t.memoizedState)||(He=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Cg(){}function Eg(e,t){var n=le,r=ft(),s=t(),o=!Et(r.memoizedState,s);if(o&&(r.memoizedState=s,He=!0),r=r.queue,Fc(kg.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,to(9,Rg.bind(null,n,r,s,t),void 0,null),we===null)throw Error(A(349));rr&30||Tg(n,t,s)}return s}function Tg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rg(e,t,n,r){t.value=n,t.getSnapshot=r,Ag(t)&&Pg(e)}function kg(e,t,n){return n(function(){Ag(t)&&Pg(e)})}function Ag(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Pg(e){var t=an(e,1);t!==null&&bt(t,e,1,-1)}function Eh(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e},t.queue=e,e=e.dispatch=Lb.bind(null,le,e),[t.memoizedState,e]}function to(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ig(){return ft().memoizedState}function ci(e,t,n,r){var s=jt();le.flags|=e,s.memoizedState=to(1|t,n,void 0,r===void 0?null:r)}function wa(e,t,n,r){var s=ft();r=r===void 0?null:r;var o=void 0;if(ge!==null){var i=ge.memoizedState;if(o=i.destroy,r!==null&&Dc(r,i.deps)){s.memoizedState=to(t,n,o,r);return}}le.flags|=e,s.memoizedState=to(1|t,n,o,r)}function Th(e,t){return ci(8390656,8,e,t)}function Fc(e,t){return wa(2048,8,e,t)}function Ng(e,t){return wa(4,2,e,t)}function Mg(e,t){return wa(4,4,e,t)}function jg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Og(e,t,n){return n=n!=null?n.concat([e]):null,wa(4,4,jg.bind(null,t,e),n)}function zc(){}function Dg(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lg(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bg(e,t,n){return rr&21?(Et(n,t)||(n=Hm(),le.lanes|=n,sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Ob(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=ml.transition;ml.transition={};try{e(!1),t()}finally{Q=n,ml.transition=r}}function Fg(){return ft().memoizedState}function Db(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zg(e))$g(t,n);else if(n=xg(e,t,n,r),n!==null){var s=Oe();bt(n,e,r,s),Ug(n,t,r)}}function Lb(e,t,n){var r=In(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zg(e))$g(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Et(a,i)){var l=t.interleaved;l===null?(s.next=s,Ic(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=xg(e,t,s,r),n!==null&&(s=Oe(),bt(n,e,r,s),Ug(n,t,r))}}function zg(e){var t=e.alternate;return e===le||t!==null&&t===le}function $g(e,t){Ps=$i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ug(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vc(e,n)}}var Ui={readContext:dt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Bb={readContext:dt,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Th,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ci(4194308,4,jg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return ci(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Db.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Eh,useDebugValue:zc,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Eh(!1),t=e[0];return e=Ob.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,s=jt();if(oe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),we===null)throw Error(A(349));rr&30||Tg(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Th(kg.bind(null,r,o,e),[e]),r.flags|=2048,to(9,Rg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jt(),t=we.identifierPrefix;if(oe){var n=tn,r=en;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fb={readContext:dt,useCallback:Dg,useContext:dt,useEffect:Fc,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:Mg,useMemo:Lg,useReducer:gl,useRef:Ig,useState:function(){return gl(eo)},useDebugValue:zc,useDeferredValue:function(e){var t=ft();return Bg(t,ge.memoizedState,e)},useTransition:function(){var e=gl(eo)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Cg,useSyncExternalStore:Eg,useId:Fg,unstable_isNewReconciler:!1},zb={readContext:dt,useCallback:Dg,useContext:dt,useEffect:Fc,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:Mg,useMemo:Lg,useReducer:vl,useRef:Ig,useState:function(){return vl(eo)},useDebugValue:zc,useDeferredValue:function(e){var t=ft();return ge===null?t.memoizedState=e:Bg(t,ge.memoizedState,e)},useTransition:function(){var e=vl(eo)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Cg,useSyncExternalStore:Eg,useId:Fg,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sa={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=In(e),o=rn(r,s);o.payload=t,n!=null&&(o.callback=n),t=An(e,o,s),t!==null&&(bt(t,e,s,r),li(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=In(e),o=rn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=An(e,o,s),t!==null&&(bt(t,e,s,r),li(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=In(e),s=rn(n,r);s.tag=2,t!=null&&(s.callback=t),t=An(e,s,r),t!==null&&(bt(t,e,r,n),li(t,e,r))}};function Rh(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Gs(n,r)||!Gs(s,o):!0}function Hg(e,t,n){var r=!1,s=jn,o=t.contextType;return typeof o=="object"&&o!==null?o=dt(o):(s=We(t)?tr:Pe.current,r=t.contextTypes,o=(r=r!=null)?Ur(e,s):jn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function kh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Su(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Nc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=dt(o):(o=We(t)?tr:Pe.current,s.context=Ur(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(wu(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sa.enqueueReplaceState(s,s.state,null),Fi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var n="",r=t;do n+=p_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $b=typeof WeakMap=="function"?WeakMap:Map;function Vg(e,t,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vi||(Vi=!0,Iu=r),xu(e,t)},n}function Wg(e,t,n){n=rn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xu(e,t),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ah(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $b;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=t0.bind(null,e,t,n),t.then(e,e))}function Ph(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ih(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rn(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var Ub=fn.ReactCurrentOwner,He=!1;function Me(e,t,n,r){t.child=e===null?Sg(t,null,n,r):Vr(t,e.child,n,r)}function Nh(e,t,n,r,s){n=n.render;var o=t.ref;return Dr(t,s),r=Lc(e,t,n,r,o,s),n=Bc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(oe&&n&&Ec(t),t.flags|=1,Me(e,t,r,s),t.child)}function Mh(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Kc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Yg(e,t,o,r,s)):(e=pi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gs,n(i,r)&&e.ref===t.ref)return ln(e,t,s)}return t.flags|=1,e=Nn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Yg(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Gs(o,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,ln(e,t,s)}return _u(e,t,n,r,s)}function Gg(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Ir,Ke),Ke|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Ir,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ee(Ir,Ke),Ke|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ee(Ir,Ke),Ke|=r;return Me(e,t,s,n),t.child}function Kg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,s){var o=We(n)?tr:Pe.current;return o=Ur(t,o),Dr(t,s),n=Lc(e,t,n,r,o,s),r=Bc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(oe&&r&&Ec(t),t.flags|=1,Me(e,t,n,s),t.child)}function jh(e,t,n,r,s){if(We(n)){var o=!0;ji(t)}else o=!1;if(Dr(t,s),t.stateNode===null)di(e,t),Hg(t,n,r),Su(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=We(n)?tr:Pe.current,u=Ur(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kh(t,i,r,u),wn=!1;var f=t.memoizedState;i.state=f,Fi(t,r,i,s),l=t.memoizedState,a!==r||f!==l||Ve.current||wn?(typeof d=="function"&&(wu(t,n,d,r),l=t.memoizedState),(a=wn||Rh(t,n,a,r,f,l,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_g(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yt(t.type,a),i.props=u,p=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=dt(l):(l=We(n)?tr:Pe.current,l=Ur(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||f!==l)&&kh(t,i,r,l),wn=!1,f=t.memoizedState,i.state=f,Fi(t,r,i,s);var S=t.memoizedState;a!==p||f!==S||Ve.current||wn?(typeof m=="function"&&(wu(t,n,m,r),S=t.memoizedState),(u=wn||Rh(t,n,u,r,f,S,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),i.props=r,i.state=S,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return bu(e,t,n,r,o,s)}function bu(e,t,n,r,s,o){Kg(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&wh(t,n,!1),ln(e,t,o);r=t.stateNode,Ub.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Vr(t,e.child,null,o),t.child=Vr(t,null,a,o)):Me(e,t,a,o),t.memoizedState=r.state,s&&wh(t,n,!0),t.child}function qg(e){var t=e.stateNode;t.pendingContext?yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yh(e,t.context,!1),Mc(e,t.containerInfo)}function Oh(e,t,n,r,s){return Hr(),Rc(s),t.flags|=256,Me(e,t,n,r),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xg(e,t,n){var r=t.pendingProps,s=ae.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(ae,s&1),e===null)return vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ba(i,r,0,null),e=Zn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Eu(n),t.memoizedState=Cu,e):$c(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Hb(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Nn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Nn(a,o):(o=Zn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Eu(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Cu,r}return o=e.child,e=o.sibling,r=Nn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $c(e,t){return t=ba({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,n,r){return r!==null&&Rc(r),Vr(t,e.child,null,n),e=$c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hb(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=yl(Error(A(422))),Uo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=ba({mode:"visible",children:r.children},s,0,null),o=Zn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Vr(t,e.child,null,i),t.child.memoizedState=Eu(i),t.memoizedState=Cu,o);if(!(t.mode&1))return Uo(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(A(419)),r=yl(o,r,void 0),Uo(e,t,i,r)}if(a=(i&e.childLanes)!==0,He||a){if(r=we,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,an(e,s),bt(r,e,s,-1))}return Gc(),r=yl(Error(A(421))),Uo(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=n0.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Qe=kn(s.nextSibling),Je=t,oe=!0,St=null,e!==null&&(at[lt++]=en,at[lt++]=tn,at[lt++]=nr,en=e.id,tn=e.overflow,nr=t),t=$c(t,r.children),t.flags|=4096,t)}function Dh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yu(e.return,t,n)}function wl(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Qg(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Me(e,t,r.children,n),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dh(e,n,t);else if(e.tag===19)Dh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(ae,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&zi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wl(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wl(t,!0,n,null,o);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vb(e,t,n){switch(t.tag){case 3:qg(t),Hr();break;case 5:bg(t);break;case 1:We(t.type)&&ji(t);break;case 4:Mc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(Li,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?Xg(e,t,n):(ee(ae,ae.current&1),e=ln(e,t,n),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Gg(e,t,n)}return ln(e,t,n)}var Jg,Tu,Zg,ev;Jg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tu=function(){};Zg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qn(zt.current);var o=null;switch(n){case"input":s=Kl(e,s),r=Kl(e,r),o=[];break;case"select":s=ue({},s,{value:void 0}),r=ue({},r,{value:void 0}),o=[];break;case"textarea":s=Ql(e,s),r=Ql(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ni)}Zl(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ev=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wb(e,t,n){var r=t.pendingProps;switch(Tc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return We(t.type)&&Mi(),ke(t),null;case 3:return r=t.stateNode,Wr(),re(Ve),re(Pe),Oc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(ju(St),St=null))),Tu(e,t),ke(t),null;case 5:jc(t);var s=Qn(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)Zg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return ke(t),null}if(e=Qn(zt.current),zo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ot]=t,r[Xs]=o,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Cs.length;s++)ne(Cs[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Wf(r,o),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ne("invalid",r);break;case"textarea":Gf(r,o),ne("invalid",r)}Zl(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Fo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Fo(r.textContent,a,e),s=["children",""+a]):zs.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ne("scroll",r)}switch(n){case"input":Io(r),Yf(r,o,!0);break;case"textarea":Io(r),Kf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ni)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=km(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ot]=t,e[Xs]=r,Jg(e,t,!1,!1),t.stateNode=e;e:{switch(i=eu(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cs.length;s++)ne(Cs[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":Wf(e,r),s=Kl(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ue({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Gf(e,r),s=Ql(e,r),ne("invalid",e);break;default:s=r}Zl(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Im(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Am(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$s(e,l):typeof l=="number"&&$s(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ne("scroll",e):l!=null&&dc(e,o,l,i))}switch(n){case"input":Io(e),Yf(e,r,!1);break;case"textarea":Io(e),Kf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Nr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)ev(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Qn(Js.current),Qn(zt.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ot]=t,(o=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Fo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=t,t.stateNode=r}return ke(t),null;case 13:if(re(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Qe!==null&&t.mode&1&&!(t.flags&128))yg(),Hr(),t.flags|=98560,o=!1;else if(o=zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Ot]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),o=!1}else St!==null&&(ju(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ve===0&&(ve=3):Gc())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return Wr(),Tu(e,t),e===null&&Ks(t.stateNode.containerInfo),ke(t),null;case 10:return Pc(t.type._context),ke(t),null;case 17:return We(t.type)&&Mi(),ke(t),null;case 19:if(re(ae),o=t.memoizedState,o===null)return ke(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)vs(o,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=zi(e),i!==null){for(t.flags|=128,vs(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}o.tail!==null&&de()>Gr&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304)}else{if(!r)if(e=zi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!oe)return ke(t),null}else 2*de()-o.renderingStartTime>Gr&&n!==1073741824&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=de(),t.sibling=null,n=ae.current,ee(ae,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return Yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Yb(e,t){switch(Tc(t),t.tag){case 1:return We(t.type)&&Mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(),re(Ve),re(Pe),Oc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jc(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return Wr(),null;case 10:return Pc(t.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var Ho=!1,Ae=!1,Gb=typeof WeakSet=="function"?WeakSet:Set,M=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function Ru(e,t,n){try{n()}catch(r){ce(e,t,r)}}var Lh=!1;function Kb(e,t){if(cu=Ai,e=og(),Cc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var m;p!==n||s!==0&&p.nodeType!==3||(a=i+s),p!==o||r!==0&&p.nodeType!==3||(l=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++u===s&&(a=i),f===o&&++d===r&&(l=i),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(du={focusedElem:e,selectionRange:n},Ai=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,b=S.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:yt(t.type,w),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(x){ce(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return S=Lh,Lh=!1,S}function Is(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ru(t,n,o)}s=s.next}while(s!==r)}}function xa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tv(e){var t=e.alternate;t!==null&&(e.alternate=null,tv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Xs],delete t[pu],delete t[Pb],delete t[Ib])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nv(e){return e.tag===5||e.tag===3||e.tag===4}function Bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ni));else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}function Pu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pu(e,t,n),e=e.sibling;e!==null;)Pu(e,t,n),e=e.sibling}var Se=null,wt=!1;function mn(e,t,n){for(n=n.child;n!==null;)rv(e,t,n),n=n.sibling}function rv(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:Ae||Pr(n,t);case 6:var r=Se,s=wt;Se=null,mn(e,t,n),Se=r,wt=s,Se!==null&&(wt?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(wt?(e=Se,n=n.stateNode,e.nodeType===8?fl(e.parentNode,n):e.nodeType===1&&fl(e,n),Ws(e)):fl(Se,n.stateNode));break;case 4:r=Se,s=wt,Se=n.stateNode.containerInfo,wt=!0,mn(e,t,n),Se=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ru(n,t,i),s=s.next}while(s!==r)}mn(e,t,n);break;case 1:if(!Ae&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ce(n,t,a)}mn(e,t,n);break;case 21:mn(e,t,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,mn(e,t,n),Ae=r):mn(e,t,n);break;default:mn(e,t,n)}}function Fh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gb),t.forEach(function(r){var s=r0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Se=a.stateNode,wt=!1;break e;case 3:Se=a.stateNode.containerInfo,wt=!0;break e;case 4:Se=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Se===null)throw Error(A(160));rv(o,i,s),Se=null,wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sv(t,e),t=t.sibling}function sv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Mt(e),r&4){try{Is(3,e,e.return),xa(3,e)}catch(w){ce(e,e.return,w)}try{Is(5,e,e.return)}catch(w){ce(e,e.return,w)}}break;case 1:vt(t,e),Mt(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(vt(t,e),Mt(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var s=e.stateNode;try{$s(s,"")}catch(w){ce(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Tm(s,o),eu(a,i);var u=eu(a,o);for(i=0;i<l.length;i+=2){var d=l[i],p=l[i+1];d==="style"?Im(s,p):d==="dangerouslySetInnerHTML"?Am(s,p):d==="children"?$s(s,p):dc(s,d,p,u)}switch(a){case"input":ql(s,o);break;case"textarea":Rm(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Nr(s,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Nr(s,!!o.multiple,o.defaultValue,!0):Nr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Xs]=o}catch(w){ce(e,e.return,w)}}break;case 6:if(vt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){ce(e,e.return,w)}}break;case 3:if(vt(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ws(t.containerInfo)}catch(w){ce(e,e.return,w)}break;case 4:vt(t,e),Mt(e);break;case 13:vt(t,e),Mt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Vc=de())),r&4&&Fh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(u=Ae)||d,vt(t,e),Ae=u):vt(t,e),Mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(p=M=d;M!==null;){switch(f=M,m=f.child,f.tag){case 0:case 11:case 14:case 15:Is(4,f,f.return);break;case 1:Pr(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(w){ce(r,n,w)}}break;case 5:Pr(f,f.return);break;case 22:if(f.memoizedState!==null){$h(p);continue}}m!==null?(m.return=f,M=m):$h(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,l=p.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pm("display",i))}catch(w){ce(e,e.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){ce(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vt(t,e),Mt(e),r&4&&Fh(e);break;case 21:break;default:vt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nv(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($s(s,""),r.flags&=-33);var o=Bh(e);Pu(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Bh(e);Au(e,a,i);break;default:throw Error(A(161))}}catch(l){ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qb(e,t,n){M=e,ov(e)}function ov(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var s=M,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ho;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=Ho;var u=Ae;if(Ho=i,(Ae=l)&&!u)for(M=s;M!==null;)i=M,l=i.child,i.tag===22&&i.memoizedState!==null?Uh(s):l!==null?(l.return=i,M=l):Uh(s);for(;o!==null;)M=o,ov(o),o=o.sibling;M=s,Ho=a,Ae=u}zh(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,M=o):zh(e)}}function zh(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||xa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ch(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ch(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ws(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ae||t.flags&512&&ku(t)}catch(f){ce(t,t.return,f)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function $h(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Uh(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xa(4,t)}catch(l){ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ce(t,s,l)}}var o=t.return;try{ku(t)}catch(l){ce(t,o,l)}break;case 5:var i=t.return;try{ku(t)}catch(l){ce(t,i,l)}}}catch(l){ce(t,t.return,l)}if(t===e){M=null;break}var a=t.sibling;if(a!==null){a.return=t.return,M=a;break}M=t.return}}var Xb=Math.ceil,Hi=fn.ReactCurrentDispatcher,Uc=fn.ReactCurrentOwner,ct=fn.ReactCurrentBatchConfig,H=0,we=null,pe=null,_e=0,Ke=0,Ir=Fn(0),ve=0,no=null,sr=0,_a=0,Hc=0,Ns=null,$e=null,Vc=0,Gr=1/0,Xt=null,Vi=!1,Iu=null,Pn=null,Vo=!1,bn=null,Wi=0,Ms=0,Nu=null,fi=-1,hi=0;function Oe(){return H&6?de():fi!==-1?fi:fi=de()}function In(e){return e.mode&1?H&2&&_e!==0?_e&-_e:Mb.transition!==null?(hi===0&&(hi=Hm()),hi):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Xm(e.type)),e):1}function bt(e,t,n,r){if(50<Ms)throw Ms=0,Nu=null,Error(A(185));vo(e,n,r),(!(H&2)||e!==we)&&(e===we&&(!(H&2)&&(_a|=n),ve===4&&xn(e,_e)),Ye(e,r),n===1&&H===0&&!(t.mode&1)&&(Gr=de()+500,ya&&zn()))}function Ye(e,t){var n=e.callbackNode;M_(e,t);var r=ki(e,e===we?_e:0);if(r===0)n!==null&&Qf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qf(n),t===1)e.tag===0?Nb(Hh.bind(null,e)):mg(Hh.bind(null,e)),kb(function(){!(H&6)&&zn()}),n=null;else{switch(Vm(r)){case 1:n=gc;break;case 4:n=$m;break;case 16:n=Ri;break;case 536870912:n=Um;break;default:n=Ri}n=hv(n,iv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iv(e,t){if(fi=-1,hi=0,H&6)throw Error(A(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var r=ki(e,e===we?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yi(e,r);else{t=r;var s=H;H|=2;var o=lv();(we!==e||_e!==t)&&(Xt=null,Gr=de()+500,Jn(e,t));do try{Zb();break}catch(a){av(e,a)}while(!0);Ac(),Hi.current=o,H=s,pe!==null?t=0:(we=null,_e=0,t=ve)}if(t!==0){if(t===2&&(s=ou(e),s!==0&&(r=s,t=Mu(e,s))),t===1)throw n=no,Jn(e,0),xn(e,r),Ye(e,de()),n;if(t===6)xn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Qb(s)&&(t=Yi(e,r),t===2&&(o=ou(e),o!==0&&(r=o,t=Mu(e,o))),t===1))throw n=no,Jn(e,0),xn(e,r),Ye(e,de()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:Kn(e,$e,Xt);break;case 3:if(xn(e,r),(r&130023424)===r&&(t=Vc+500-de(),10<t)){if(ki(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hu(Kn.bind(null,e,$e,Xt),t);break}Kn(e,$e,Xt);break;case 4:if(xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-_t(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xb(r/1960))-r,10<r){e.timeoutHandle=hu(Kn.bind(null,e,$e,Xt),r);break}Kn(e,$e,Xt);break;case 5:Kn(e,$e,Xt);break;default:throw Error(A(329))}}}return Ye(e,de()),e.callbackNode===n?iv.bind(null,e):null}function Mu(e,t){var n=Ns;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=Yi(e,t),e!==2&&(t=$e,$e=n,t!==null&&ju(t)),e}function ju(e){$e===null?$e=e:$e.push.apply($e,e)}function Qb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Et(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xn(e,t){for(t&=~Hc,t&=~_a,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Hh(e){if(H&6)throw Error(A(327));Lr();var t=ki(e,0);if(!(t&1))return Ye(e,de()),null;var n=Yi(e,t);if(e.tag!==0&&n===2){var r=ou(e);r!==0&&(t=r,n=Mu(e,r))}if(n===1)throw n=no,Jn(e,0),xn(e,t),Ye(e,de()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,$e,Xt),Ye(e,de()),null}function Wc(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(Gr=de()+500,ya&&zn())}}function or(e){bn!==null&&bn.tag===0&&!(H&6)&&Lr();var t=H;H|=1;var n=ct.transition,r=Q;try{if(ct.transition=null,Q=1,e)return e()}finally{Q=r,ct.transition=n,H=t,!(H&6)&&zn()}}function Yc(){Ke=Ir.current,re(Ir)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rb(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(Tc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mi();break;case 3:Wr(),re(Ve),re(Pe),Oc();break;case 5:jc(r);break;case 4:Wr();break;case 13:re(ae);break;case 19:re(ae);break;case 10:Pc(r.type._context);break;case 22:case 23:Yc()}n=n.return}if(we=e,pe=e=Nn(e.current,null),_e=Ke=t,ve=0,no=null,Hc=_a=sr=0,$e=Ns=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Xn=null}return e}function av(e,t){do{var n=pe;try{if(Ac(),ui.current=Ui,$i){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$i=!1}if(rr=0,ye=ge=le=null,Ps=!1,Zs=0,Uc.current=null,n===null||n.return===null){ve=1,no=t,pe=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ph(i);if(m!==null){m.flags&=-257,Ih(m,i,a,o,t),m.mode&1&&Ah(o,u,t),t=m,l=u;var S=t.updateQueue;if(S===null){var w=new Set;w.add(l),t.updateQueue=w}else S.add(l);break e}else{if(!(t&1)){Ah(o,u,t),Gc();break e}l=Error(A(426))}}else if(oe&&a.mode&1){var b=Ph(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ih(b,i,a,o,t),Rc(Yr(l,a));break e}}o=l=Yr(l,a),ve!==4&&(ve=2),Ns===null?Ns=[o]:Ns.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Vg(o,l,t);bh(o,g);break e;case 1:a=l;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pn===null||!Pn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Wg(o,a,t);bh(o,x);break e}}o=o.return}while(o!==null)}cv(n)}catch(C){t=C,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function lv(){var e=Hi.current;return Hi.current=Ui,e===null?Ui:e}function Gc(){(ve===0||ve===3||ve===2)&&(ve=4),we===null||!(sr&268435455)&&!(_a&268435455)||xn(we,_e)}function Yi(e,t){var n=H;H|=2;var r=lv();(we!==e||_e!==t)&&(Xt=null,Jn(e,t));do try{Jb();break}catch(s){av(e,s)}while(!0);if(Ac(),H=n,Hi.current=r,pe!==null)throw Error(A(261));return we=null,_e=0,ve}function Jb(){for(;pe!==null;)uv(pe)}function Zb(){for(;pe!==null&&!C_();)uv(pe)}function uv(e){var t=fv(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?cv(e):pe=t,Uc.current=null}function cv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yb(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,pe=null;return}}else if(n=Wb(n,t,Ke),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ve===0&&(ve=5)}function Kn(e,t,n){var r=Q,s=ct.transition;try{ct.transition=null,Q=1,e0(e,t,n,r)}finally{ct.transition=s,Q=r}return null}function e0(e,t,n,r){do Lr();while(bn!==null);if(H&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(j_(e,o),e===we&&(pe=we=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vo||(Vo=!0,hv(Ri,function(){return Lr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ct.transition,ct.transition=null;var i=Q;Q=1;var a=H;H|=4,Uc.current=null,Kb(e,n),sv(n,e),Sb(du),Ai=!!cu,du=cu=null,e.current=n,qb(n),E_(),H=a,Q=i,ct.transition=o}else e.current=n;if(Vo&&(Vo=!1,bn=e,Wi=s),o=e.pendingLanes,o===0&&(Pn=null),k_(n.stateNode),Ye(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vi)throw Vi=!1,e=Iu,Iu=null,e;return Wi&1&&e.tag!==0&&Lr(),o=e.pendingLanes,o&1?e===Nu?Ms++:(Ms=0,Nu=e):Ms=0,zn(),null}function Lr(){if(bn!==null){var e=Vm(Wi),t=ct.transition,n=Q;try{if(ct.transition=null,Q=16>e?16:e,bn===null)var r=!1;else{if(e=bn,bn=null,Wi=0,H&6)throw Error(A(331));var s=H;for(H|=4,M=e.current;M!==null;){var o=M,i=o.child;if(M.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Is(8,d,o)}var p=d.child;if(p!==null)p.return=d,M=p;else for(;M!==null;){d=M;var f=d.sibling,m=d.return;if(tv(d),d===u){M=null;break}if(f!==null){f.return=m,M=f;break}M=m}}}var S=o.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}M=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,M=i;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Is(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,M=g;break e}M=o.return}}var v=e.current;for(M=v;M!==null;){i=M;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,M=y;else e:for(i=v;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xa(9,a)}}catch(C){ce(a,a.return,C)}if(a===i){M=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,M=x;break e}M=a.return}}if(H=s,zn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ha,e)}catch{}r=!0}return r}finally{Q=n,ct.transition=t}}return!1}function Vh(e,t,n){t=Yr(n,t),t=Vg(e,t,1),e=An(e,t,1),t=Oe(),e!==null&&(vo(e,1,t),Ye(e,t))}function ce(e,t,n){if(e.tag===3)Vh(e,e,n);else for(;t!==null;){if(t.tag===3){Vh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=Yr(n,e),e=Wg(t,e,1),t=An(t,e,1),e=Oe(),t!==null&&(vo(t,1,e),Ye(t,e));break}}t=t.return}}function t0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,we===e&&(_e&n)===n&&(ve===4||ve===3&&(_e&130023424)===_e&&500>de()-Vc?Jn(e,0):Hc|=n),Ye(e,t)}function dv(e,t){t===0&&(e.mode&1?(t=jo,jo<<=1,!(jo&130023424)&&(jo=4194304)):t=1);var n=Oe();e=an(e,t),e!==null&&(vo(e,t,n),Ye(e,n))}function n0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dv(e,n)}function r0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),dv(e,n)}var fv;fv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,Vb(e,t,n);He=!!(e.flags&131072)}else He=!1,oe&&t.flags&1048576&&gg(t,Di,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;di(e,t),e=t.pendingProps;var s=Ur(t,Pe.current);Dr(t,n),s=Lc(null,t,r,e,s,n);var o=Bc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(r)?(o=!0,ji(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nc(t),s.updater=Sa,t.stateNode=s,s._reactInternals=t,Su(t,r,e,n),t=bu(null,t,r,!0,o,n)):(t.tag=0,oe&&o&&Ec(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(di(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=o0(r),e=yt(r,e),s){case 0:t=_u(null,t,r,e,n);break e;case 1:t=jh(null,t,r,e,n);break e;case 11:t=Nh(null,t,r,e,n);break e;case 14:t=Mh(null,t,r,yt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),_u(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),jh(e,t,r,s,n);case 3:e:{if(qg(t),e===null)throw Error(A(387));r=t.pendingProps,o=t.memoizedState,s=o.element,_g(e,t),Fi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Yr(Error(A(423)),t),t=Oh(e,t,r,n,s);break e}else if(r!==s){s=Yr(Error(A(424)),t),t=Oh(e,t,r,n,s);break e}else for(Qe=kn(t.stateNode.containerInfo.firstChild),Je=t,oe=!0,St=null,n=Sg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===s){t=ln(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return bg(t),e===null&&vu(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,fu(r,s)?i=null:o!==null&&fu(r,o)&&(t.flags|=32),Kg(e,t),Me(e,t,i,n),t.child;case 6:return e===null&&vu(t),null;case 13:return Xg(e,t,n);case 4:return Mc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Nh(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ee(Li,r._currentValue),r._currentValue=i,o!==null)if(Et(o.value,i)){if(o.children===s.children&&!Ve.current){t=ln(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=rn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yu(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(A(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),yu(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Dr(t,n),s=dt(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=yt(r,t.pendingProps),s=yt(r.type,s),Mh(e,t,r,s,n);case 15:return Yg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),di(e,t),t.tag=1,We(r)?(e=!0,ji(t)):e=!1,Dr(t,n),Hg(t,r,s),Su(t,r,s,n),bu(null,t,r,!0,e,n);case 19:return Qg(e,t,n);case 22:return Gg(e,t,n)}throw Error(A(156,t.tag))};function hv(e,t){return zm(e,t)}function s0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new s0(e,t,n,r)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o0(e){if(typeof e=="function")return Kc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hc)return 11;if(e===pc)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pi(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Kc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xr:return Zn(n.children,s,o,t);case fc:i=8,s|=8;break;case Vl:return e=ut(12,n,t,s|2),e.elementType=Vl,e.lanes=o,e;case Wl:return e=ut(13,n,t,s),e.elementType=Wl,e.lanes=o,e;case Yl:return e=ut(19,n,t,s),e.elementType=Yl,e.lanes=o,e;case bm:return ba(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xm:i=10;break e;case _m:i=9;break e;case hc:i=11;break e;case pc:i=14;break e;case yn:i=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=ut(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Zn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function ba(e,t,n,r){return e=ut(22,e,r,t),e.elementType=bm,e.lanes=n,e.stateNode={isHidden:!1},e}function Sl(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,s,o,i,a,l){return e=new i0(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ut(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(o),e}function a0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pv(e){if(!e)return jn;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(We(n))return pg(e,n,t)}return t}function mv(e,t,n,r,s,o,i,a,l){return e=qc(n,r,!0,e,s,o,i,a,l),e.context=pv(null),n=e.current,r=Oe(),s=In(n),o=rn(r,s),o.callback=t??null,An(n,o,s),e.current.lanes=s,vo(e,s,r),Ye(e,r),e}function Ca(e,t,n,r){var s=t.current,o=Oe(),i=In(s);return n=pv(n),t.context===null?t.context=n:t.pendingContext=n,t=rn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(s,t,i),e!==null&&(bt(e,s,i,o),li(e,s,i)),i}function Gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xc(e,t){Wh(e,t),(e=e.alternate)&&Wh(e,t)}function l0(){return null}var gv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}Ea.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Ca(e,t,null,null)};Ea.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;or(function(){Ca(null,e,null,null)}),t[on]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&qm(e)}};function Jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yh(){}function u0(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Gi(i);o.call(u)}}var i=mv(t,r,e,0,null,!1,!1,"",Yh);return e._reactRootContainer=i,e[on]=i.current,Ks(e.nodeType===8?e.parentNode:e),or(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Gi(l);a.call(u)}}var l=qc(e,0,!1,null,null,!1,!1,"",Yh);return e._reactRootContainer=l,e[on]=l.current,Ks(e.nodeType===8?e.parentNode:e),or(function(){Ca(t,l,n,r)}),l}function Ra(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Gi(i);a.call(l)}}Ca(t,i,e,s)}else i=u0(n,t,e,s,r);return Gi(i)}Wm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bs(t.pendingLanes);n!==0&&(vc(t,n|1),Ye(t,de()),!(H&6)&&(Gr=de()+500,zn()))}break;case 13:or(function(){var r=an(e,1);if(r!==null){var s=Oe();bt(r,e,1,s)}}),Xc(e,1)}};yc=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var n=Oe();bt(t,e,134217728,n)}Xc(e,134217728)}};Ym=function(e){if(e.tag===13){var t=In(e),n=an(e,t);if(n!==null){var r=Oe();bt(n,e,t,r)}Xc(e,t)}};Gm=function(){return Q};Km=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};nu=function(e,t,n){switch(t){case"input":if(ql(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=va(r);if(!s)throw Error(A(90));Em(r),ql(r,s)}}}break;case"textarea":Rm(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}};jm=Wc;Om=or;var c0={usingClientEntryPoint:!1,Events:[wo,Er,va,Nm,Mm,Wc]},ys={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d0={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bm(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||l0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{ha=Wo.inject(d0),Ft=Wo}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(t))throw Error(A(200));return a0(e,t,null,n)};tt.createRoot=function(e,t){if(!Jc(e))throw Error(A(299));var n=!1,r="",s=gv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qc(e,1,!1,null,null,n,!1,r,s),e[on]=t.current,Ks(e.nodeType===8?e.parentNode:e),new Qc(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Bm(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return or(e)};tt.hydrate=function(e,t,n){if(!Ta(t))throw Error(A(200));return Ra(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=gv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=mv(t,null,e,1,n??null,s,!1,o,i),e[on]=t.current,Ks(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ea(t)};tt.render=function(e,t,n){if(!Ta(t))throw Error(A(200));return Ra(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(A(40));return e._reactRootContainer?(or(function(){Ra(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1};tt.unstable_batchedUpdates=Wc;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ta(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Ra(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vv)}catch(e){console.error(e)}}vv(),vm.exports=tt;var ka=vm.exports;const f0=da(ka);var yv,Gh=ka;yv=Gh.createRoot,Gh.hydrateRoot;function h0(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function p0(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(s){t.push(s)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let js=null;function m0(e,t){e.currentIndex=0;const n=js;js=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{js=n}}function Zc(){if(!js)throw new Error("No resource fiber available");return js}function g0(e){return null}function wv(e,t){const n=e[Sv];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const Sv=Symbol("fnSymbol");function ro(e,t,n=g0()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function Br(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,p0(e)}function er(e,t){const n={commitTasks:[],props:t,output:void 0};return m0(e,()=>{e.renderContext=n;try{n.output=wv(e.type,t)}finally{e.renderContext=void 0}}),n}function so(e,t){e.isMounted=!0,e.isNeverMounted=!1,h0(t)}const v0=()=>null,y0=(e,t)=>e+(t()?1:0);function w0(e){const[,t]=c.useReducer(y0,0),n=v0(),r=c.useMemo(()=>ro(e.type,t,n),[e.type,e.key]),s=er(r,e.props);return c.useLayoutEffect(()=>()=>Br(r),[r]),c.useLayoutEffect(()=>{so(r,s)}),s.output}function J(e){const t=n=>({type:t,props:n});return t[Sv]=e,t}function un(e,t){return{...t,key:e}}const S0=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function x0(e){const t=Zc(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:i=>{S0(t,()=>{const a=o.value,l=typeof i=="function"?i(a):i;return Object.is(a,l)?!1:(o.value=l,!0)})}};return t.cells[n]=o,o}function Tt(e){const t=x0(e);return[t.value,t.set]}const xv=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},_0=(e,t)=>{const n=Zc(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let s=n.cells[r];if(s||(s=t(),n.cells[r]=s),s.type!==e)throw new Error("Hook order changed between renders");return s},b0=e=>{Zc().renderContext.commitTasks.push(e)},C0=()=>({type:"effect",cleanup:void 0,deps:null});function Ce(e,t){const n=_0("effect",C0);if(!(t&&n.deps&&xv(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");b0(()=>{var s;const r=[];try{(s=n.cleanup)==null||s.call(n)}catch(o){r.push(o)}finally{n.cleanup=void 0}try{const o=e();if(o!==void 0&&typeof o!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof o}`);n.cleanup=o}catch(o){r.push(o)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const o of r)console.error(o);throw new AggregateError(r,"Errors during commit")}})}}function Cn(e){const[t]=Tt(()=>({current:e}));return t}function Kr(e,t){const[n]=Tt(e);return n}const V=(e,t)=>{const n=Cn();return n.current||(n.current={value:e(),deps:t}),xv(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},_v=(e,t)=>V(()=>e,t);function ed(e){const t=Cn(e);return Ce(()=>{t.current=e}),t.current}function bv(e,t){const[n,r]=Tt(0),s=Kr(()=>()=>r(a=>a+1)),o=V(()=>(e.key,ro(e.type,a=>{a()&&s()})),[e.type,e.key]),i=er(o,e.props);return Ce(()=>()=>Br(o),[o]),Ce(()=>{so(o,i)},[o,i]),i.output}function Ht(e){return wv(e.type,e.props)}function td(e,t){const[n,r]=Tt(0),s=Kr(()=>()=>r(l=>l+1)),o=Kr(()=>new Map),i=t?_v(e,t):e,a=V(()=>{const l=i(),u=new Set,d=[];let p=0;for(let f=0;f<l.length;f++){const m=l[f],S=m.key;if(S===void 0)throw new Error(`tapResources did not provide a key for array at index ${f}`);if(u.has(S))throw new Error(`Duplicate key ${S} in tapResources`);u.add(S);let w=o.get(S);if(w)if(w.fiber.type!==m.type){const b=ro(m.type,v=>{v()&&s()}),g=er(b,m.props);w.next=[b,g],d.push(g.output)}else w.next=er(w.fiber,m.props),d.push(w.next.output);else{const b=ro(m.type,v=>{v()&&s()}),g=er(b,m.props);w={fiber:b,next:g},p++,o.set(S,w),d.push(g.output)}}if(o.size>d.length-p)for(const f of o.keys())u.has(f)||(o.get(f).next="delete");return d},[i,n]);return Ce(()=>()=>{for(const l of o.keys()){const u=o.get(l).fiber;Br(u)}},[]),Ce(()=>{for(const[l,u]of o.entries())u.next==="delete"?(u.fiber.isMounted&&Br(u.fiber),o.delete(l)):Array.isArray(u.next)?(Br(u.fiber),u.fiber=u.next[0],so(u.fiber,u.next[1])):so(u.fiber,u.next)},[a]),a}const E0=50;let Lt={schedulers:new Set([]),isScheduled:!1};class T0{constructor(t){_(this,"_task");_(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,Lt.schedulers.add(this),R0()}runTask(){this._isDirty=!1,this._task()}}const R0=()=>{Lt.isScheduled||(Lt.isScheduled=!0,queueMicrotask(Cv))},Cv=()=>{try{const e=[];let t=0;for(const n of Lt.schedulers)if(Lt.schedulers.delete(n),!!n.isDirty){if(t++,t>E0)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{Lt.schedulers.clear(),Lt.isScheduled=!1}},Ev=e=>{const t=Lt;Lt={schedulers:new Set([]),isScheduled:!0};try{const n=e();return Cv(),n}finally{Lt=t}},k0=e=>{const t=Kr(()=>new T0(()=>{r.current=null,l()})),n=V(()=>(e.key,ro(e.type,u=>{u()&&t.markDirty()})),[e.type,e.key]),r=Cn(null);r.current=er(n,e.props);const s=Cn(!1),o=Cn(e.props),i=Cn(r.current.output),a=Kr(()=>new Set),l=ed(()=>{s.current&&(r.current===null&&(r.current=er(n,o.current)),!t.isDirty&&(o.current=r.current.props,so(n,r.current),!(t.isDirty||i.current===r.current.output)&&(i.current=r.current.output,a.forEach(u=>u()))))});return Ce(()=>(s.current=!0,()=>{s.current=!1,Br(n)}),[n]),Ce(()=>{Ev(l)}),V(()=>({getValue:()=>i.current,subscribe:u=>(a.add(u),()=>a.delete(u))}),[])},Os=Symbol("tap.Context"),Tv=e=>({[Os]:e}),Rv=(e,t,n)=>{const r=e[Os];e[Os]=t;try{return n()}finally{e[Os]=r}},kv=e=>e[Os],Ou=Symbol("assistant-ui.store.clientIndex"),A0=e=>e[Ou],Av=Tv([]),nd=()=>kv(Av),P0=(e,t)=>{const n=nd(),r=V(()=>[...n,e],[n,e]);return Rv(Av,r,t)},I0=new Set(["$$typeof","nodeType","then"]),Aa=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!I0.has(e))return!1}};class rd{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const Pv=e=>{const t=J(e);return n=>{const r=t(n);return n.key===void 0?r:un(n.key,r)}},Ki=Symbol("assistant-ui.store.getValue"),N0=e=>{const t=e[Ki];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},Kh=new Map;function M0(e){let t=Kh.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[Ki];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const s=r.methods[e];if(!s)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof s!="function")throw new Error(`"${String(e)}" is not a function.`);return s(...n)},Kh.set(e,t)),t}class j0 extends rd{constructor(n,r){super();_(this,"outputRef");_(this,"index");_(this,"boundFns");_(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,s){if(r===Ki)return this.outputRef.current;if(r===Ou)return this.index;const o=Aa(r,"ClientProxy");if(o!==!1)return o;const i=this.outputRef.current.methods[r];if(typeof i=="function"){this.cachedReceiver!==s&&(this.boundFns=new Map,this.cachedReceiver=s);let a=this.boundFns.get(r);return a||(a=M0(r).bind(s),this.boundFns.set(r,a)),a}return i}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===Ki||r===Ou?!0:r in this.outputRef.current.methods}}const Iv=Pv(e=>{const t=Cn(null),n=nd().length,r=V(()=>new Proxy({},new j0(t,n)),[n]),s=P0(r,()=>bv(e));return t.current||(t.current=s),Ce(()=>{t.current=s}),{methods:r,state:s.state,key:e.key}}),Pa=e=>Ht(Iv(e)),Ds=Symbol("assistant-ui.store.proxiedAssistantState"),_l=e=>e==="on"||e==="subscribe"||typeof e=="symbol",Nv=e=>{class t extends rd{get(r,s){const o=Aa(s,"AssistantState");if(o!==!1)return o;const i=s;if(!_l(i))return N0(e[i]())}ownKeys(){return Object.keys(e).filter(r=>!_l(r))}has(r,s){return!_l(s)&&s in e}}return new Proxy({},new t)},O0=e=>e[Ds],qh=()=>()=>{},Mv=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class D0 extends rd{get(t,n){if(n==="subscribe"||n==="on")return qh;if(n===Ds)return L0;const r=Aa(n,"DefaultAssistantClient");return r!==!1?r:Mv("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",Ds]}has(t,n){return n==="subscribe"||n==="on"||n===Ds}}const Ia=new Proxy({},new D0),L0=Nv(Ia),B0=()=>new Proxy({},{get(e,t){const n=Aa(t,"AssistantClient");return n!==!1?n:Mv(`The current scope does not have a "${String(t)}" property.`)}}),jv=c.createContext(Ia),F0=()=>c.useContext(jv),$n=({value:e,children:t})=>h.jsx(jv.Provider,{value:e,children:t}),Ct=J(e=>null),Du=Symbol("assistant-ui.default-peers");function Ov(e,t){const n=e,r=n[Du]??{};for(const s of Object.keys(t))if(s in r)throw new Error(`Default peer "${s}" is already attached to this resource`);n[Du]={...r,...t}}function z0(e){return e[Du]}function $0(e,t){const n={},r={};for(const[o,i]of Object.entries(e))i.type===Ct?r[o]=i:n[o]=i;const s=(o,i=new Set)=>{if(i.has(o))return[];i.add(o);const a=z0(o.type);if(!a)return[];const l=[];for(const[u,d]of Object.entries(a))if(l.push([u,d]),d.type!==Ct){const p=s(d,i);l.push(...p)}return l};for(const[o,i]of Object.entries(n)){const a=s(i);for(const[l,u]of a)l in n||l in r||t[l].source!==null||(u.type===Ct?r[l]=u:n[l]=u)}return{rootClients:n,derivedClients:r}}const Xh=e=>V(()=>e,[...Object.entries(e).flat()]),U0=(e,t)=>{const{rootClients:n,derivedClients:r}=$0(e,t);return{rootClients:Xh(n),derivedClients:Xh(r)}},Dv=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},H0=J(()=>Kr(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,s){const o=s;if(r==="*")return t.add(o),()=>t.delete(o);let i=e.get(r);return i||(i=new Set,e.set(r,i)),i.add(o),()=>{i.delete(o),i.size===0&&e.delete(r)}},emit(r,s,o){const i=e.get(r);!i&&t.size===0||queueMicrotask(()=>{const a=[];if(i)for(const l of i)try{l(s,o)}catch(u){a.push(u)}if(t.size>0){const l={event:r,payload:s};for(const u of t)try{u(l,o)}catch(d){a.push(d)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(s){console.error("NotificationManager: subscriber callback error",s)}}}})),Lv=Tv(null),V0=(e,t)=>Rv(Lv,e,t),Bv=()=>{const e=kv(Lv);if(!e)throw new Error("AssistantTapContext is not available");return e},Fv=()=>Bv().clientRef,sd=()=>{const{emit:e}=Bv(),t=nd();return ed((n,r)=>{e(n,r,t)})},zv=e=>V(()=>e,e),W0=J(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:s}=V0({clientRef:n,emit:t},()=>Pa(e));return V(()=>({state:s,methods:r}),[r,s])}),Y0=J(({element:e,notifications:t,clientRef:n,name:r})=>{const s=k0(W0({element:e,emit:t.emit,clientRef:n}));return Ce(()=>s.subscribe(t.notifySubscribers),[s,t]),V(()=>{const o=()=>s.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[s,r])}),G0=J(()=>V(()=>({clients:[],subscribe:void 0,on:void 0}),[])),K0=J(({clients:e,clientRef:t})=>{const n=Ht(H0());Ce(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=zv(td(()=>Object.keys(e).map(s=>un(s,Y0({element:e[s],notifications:n,clientRef:t,name:s}))),[e,n,t]));return V(()=>({clients:r,subscribe:n.subscribe,on:function(s,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:i,event:a}=Dv(s);if(i!=="*"&&this[i].source===null)throw new Error(`Scope "${i}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(d,p)=>{if(i==="*"){o(d);return}const f=this[i](),m=A0(f);f===p[m]&&o(d)});if(i!=="*"&&t.parent[i].source===null)return l;const u=t.parent.on(s,o);return()=>{l(),u()}}}),[r,n,t])}),Qh=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},q0=J(({element:e,clientRef:t,name:n})=>{const r=ed(()=>e.props);return V(()=>{const s=()=>r().get(t.current),o={};return Object.defineProperties(s,{source:{get:()=>Qh(r(),t,o).source},query:{get:()=>Qh(r(),t,o).query},name:{value:n,configurable:!0}}),s},[t,n])}),X0=J(({clients:e,clientRef:t})=>zv(td(()=>Object.keys(e).map(n=>un(n,q0({element:e[n],clientRef:t,name:n}))),[e,t]))),Q0=J(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=U0(t,e),s=Cn({parent:e,current:null}).current;Ce(()=>{s.current=a});const o=bv(Object.keys(n).length>0?K0({clients:n,clientRef:s}):G0()),i=Ht(X0({clients:r,clientRef:s})),a=V(()=>{const l=e===Ia?B0():e,u=Object.create(l);Object.assign(u,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[Ds]:Nv(u)});for(const d of o.clients)u[d.name]=d;for(const d of i)u[d.name]=d;return u},[e,o,i]);return s.current===null&&(s.current=a),a});function U(e,{parent:t}={parent:F0()}){if(e)return w0(Q0({parent:t??Ia,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const B=e=>{const t=U(),n=O0(t),r=c.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return c.useDebugValue(r),r},J0=Ue.createContext(!0);function Jh(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const Z0="use"in Ue?()=>{try{return Ue.use(J0)}catch{return!1}}:()=>!1;function eC(e){const t=Ue.useRef(Jh);return Ue.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{Z0()&&Jh();const r=t.current;return r(...n)}}const bl=(e,t)=>{const n=U(),r=eC(t),{scope:s,event:o}=Dv(e);c.useEffect(()=>n.on({scope:s,event:o},r),[n,s,o,r])},tC=Pv(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return Ht(Iv(e))});function qr(e,t){const n=td(()=>e().map(i=>tC(i)),t),r=V(()=>Object.keys(n),[n]),s=V(()=>n.reduce((i,a,l)=>(i[a.key]=l,i),{}),[n]);return{state:V(()=>n.map(i=>i.state),[n]),get:i=>{if("index"in i){if(i.index<0||i.index>=r.length)throw new Error(`tapClientLookup: Index ${i.index} out of bounds (length: ${r.length})`);return n[i.index].methods}const a=s[i.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${i.key}" not found`);return n[a].methods}}}const nC=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var s;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[o,i]of Object.entries(r.tools)){const a=(s=n.tools)==null?void 0:s[o];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${o}, but it already exists.`);n.tools||(n.tools={}),n.tools[o]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class od{constructor(){_(this,"_providers",new Set);_(this,"_subscribers",new Set)}getModelContext(){return nC(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class id{constructor(){_(this,"_contextProvider",new od)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class xo{constructor(){_(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const rC=e=>e.status.type==="complete";class $v extends xo{constructor(){super(...arguments);_(this,"isEditing",!0);_(this,"_attachments",[]);_(this,"_text","");_(this,"_role","user");_(this,"_runConfig",{});_(this,"_dictation");_(this,"_dictationSession");_(this,"_dictationUnsubscribes",[]);_(this,"_dictationBaseText","");_(this,"_currentInterimText","");_(this,"_dictationSessionIdCounter",0);_(this,"_activeDictationSessionId");_(this,"_isCleaningDictation",!1);_(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:s}=this._dictation;this._dictation=s?{status:r,inputDisabled:s}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async i=>rC(i)?i:await n.send(i))):[],s=this.text;this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:s?[{type:"text",text:s}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=i=>{const a=this._attachments.findIndex(l=>l.id===i.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),i,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,i],this._notifySubscribers()},o=r.add({file:n});if(Symbol.asyncIterator in o)for await(const i of o)s(i);else s(await o);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=this._attachments.findIndex(i=>i.id===n);if(s===-1)throw new Error("Attachment not found");const o=this._attachments[s];await r.remove(o),this._attachments=[...this._attachments.slice(0,s),...this._attachments.slice(s+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const p of this._dictationUnsubscribes)p();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const s=n.listen();this._dictationSession=s;const o=++this._dictationSessionIdCounter;this._activeDictationSessionId=o,this._dictation={status:s.status,inputDisabled:r},this._notifySubscribers();const i=s.onSpeech(d=>{if(!this._isActiveSession(o,s))return;const p=d.isFinal!==!1,m=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(p){if(this._dictationBaseText=this._dictationBaseText+m+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:S,...w}=this._dictation;this._dictation=w}this._notifySubscribers()}else this._currentInterimText=m+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(i);const a=s.onSpeechStart(()=>{var d;this._isActiveSession(o,s)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((d=this._dictation)==null?void 0:d.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=s.onSpeechEnd(()=>{this._cleanupDictation({sessionId:o})});this._dictationUnsubscribes.push(l);const u=setInterval(()=>{this._isActiveSession(o,s)&&s.status.type==="ended"&&this._cleanupDictation({sessionId:o})},100);this._dictationUnsubscribes.push(()=>clearInterval(u))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const s of this._dictationUnsubscribes)s();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const s of r)s()}unstable_on(n,r){const s=this._eventSubscribers.get(n);return s?s.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const o=this._eventSubscribers.get(n);o&&o.delete(r)}}}class Uv extends $v{constructor(n){super();_(this,"runtime");_(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let sC=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const ir=sC("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),oC="__optimistic__",iC=()=>`${oC}${ir()}`,Na=Symbol("autoStatus"),aC=Object.freeze(Object.assign({type:"running"},{[Na]:!0})),lC=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Na]:!0})),uC=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Na]:!0})),cC=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Na]:!0})),Hv=(e,t,n,r,s)=>e&&t?aC:n?cC:r?uC:lC;var ss={exports:{}};const dC=typeof Buffer<"u",Zh=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,ep=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function Vv(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),dC&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(s==="ignore"&&o==="ignore")return r;if(s!=="ignore"&&o!=="ignore"){if(Zh.test(e)===!1&&ep.test(e)===!1)return r}else if(s!=="ignore"&&o==="ignore"){if(Zh.test(e)===!1)return r}else if(ep.test(e)===!1)return r;return Wv(r,{protoAction:s,constructorAction:o,safe:n&&n.safe})}function Wv(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let s=[e];for(;s.length;){const o=s;s=[];for(const i of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor!==null&&typeof i.constructor=="object"&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const a in i){const l=i[a];l&&typeof l=="object"&&s.push(l)}}}return e}function ad(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return Vv(e,t,n)}finally{Error.stackTraceLimit=r}}function fC(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return Vv(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}ss.exports=ad;ss.exports.default=ad;ss.exports.parse=ad;ss.exports.safeParse=fC;ss.exports.scan=Wv;var hC=ss.exports;const tp=da(hC);function pC(e){const t=["ROOT"];let n=-1,r=null;const s=[];let o;function i(){o!==void 0&&(s.push(JSON.parse(`"${o}"`)),o=void 0)}function a(p,f,m){switch(p){case'"':{n=f,t.pop(),t.push(m),t.push("INSIDE_STRING"),i();break}case"f":case"t":case"n":{n=f,r=f,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=f,t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"{":{n=f,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START"),i();break}case"[":{n=f,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START"),i();break}}}function l(p,f){switch(p){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=f,t.pop(),o=s.pop();break}}}function u(p,f){switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=f,t.pop(),o=s.pop();break}}}for(let p=0;p<e.length;p++){const f=e[p];switch(t[t.length-1]){case"ROOT":a(f,p,"FINISH");break;case"INSIDE_OBJECT_START":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=p,t.pop(),o=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}}break}case"INSIDE_OBJECT_KEY":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=f;break}default:{o+=f;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(f){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(f,p,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(f,p);break}case"INSIDE_STRING":{switch(f){case'"':{t.pop(),n=p,o=s.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=p}break}case"INSIDE_ARRAY_START":{switch(f){case"]":{n=p,t.pop(),o=s.pop();break}default:{n=p,o="0",a(f,p,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=p,t.pop(),o=s.pop();break}default:{n=p;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(f,p,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=p:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=f);break}case"INSIDE_NUMBER":{switch(f){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,p),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(f,p);break}case"}":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(f,p);break}case"]":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,p);break}default:{t.pop(),o=s.pop();break}}break}case"INSIDE_LITERAL":{const S=e.substring(r,p+1);!"false".startsWith(S)&&!"true".startsWith(S)&&!"null".startsWith(S)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(f,p):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,p)):n=p;break}}}let d=e.slice(0,n+1);for(let p=t.length-1;p>=0;p--)switch(t[p]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const m=e.substring(r,e.length);"true".startsWith(m)?d+="true".slice(m.length):"false".startsWith(m)?d+="false".slice(m.length):"null".startsWith(m)&&(d+="null".slice(m.length))}}return[d,s]}const Cl=Symbol("aui.parse-partial-json-object.meta"),Yv=e=>{if(e.length===0)return{[Cl]:{state:"partial",partialPath:[]}};try{const t=tp.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[Cl]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=pC(e),r=tp.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[Cl]={state:"partial",partialPath:n},r}catch{return}}},Lu={toResponse(e,t){return new Response(Lu.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return Lu.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},Gv=function(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},mC=()=>{const e=[];let t=!1,n,r;const s=i=>{i.promise||(i.promise=i.reader.read().then(({done:a,value:l})=>{i.promise=void 0,a?(e.splice(e.indexOf(i),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(i){n=i},pull(){return r=Gv(),e.forEach(i=>{s(i)}),r.promise},cancel(){e.forEach(i=>{i.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(i){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:i.getReader()};e.push(a),s(a)},enqueue(i){this.addStream(new ReadableStream({start(a){a.enqueue(i),a.close()}}))}}};class np{constructor(t){_(this,"_controller");_(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const Kv=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new np(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new np(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),rp=()=>{let e;return[Kv({start(n){e=n}}),e]};class sp{constructor(t){_(this,"_controller");_(this,"_isClosed",!1);_(this,"_mergeTask");_(this,"_argsTextController");this._controller=t;const n=Kv({start:s=>{this._argsTextController=s}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:s=>{switch(s.type){case"text-delta":r=!0,this._controller.enqueue(s);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${s.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const gC=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new sp(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new sp(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),vC=()=>{let e;return[gC({start(n){e=n}}),e]};class qv{constructor(){_(this,"value",-1)}up(){return++this.value}}class yC extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class qM extends TransformStream{constructor(t){super({transform(n,r){const{path:[s,...o]}=n;if(t!==s)throw new Error(`Path mismatch: expected ${t}, got ${s}`);r.enqueue({...n,path:o})}})}}class wC extends TransformStream{constructor(t){const n=new qv,r=new Map;super({transform(s,o){s.type==="part-start"&&s.path.length===0&&r.set(n.up(),t.up());const[i,...a]=s.path;if(i===void 0){o.enqueue(s);return}const l=r.get(i);if(l===void 0)throw new Error("Path not found");o.enqueue({...s,path:[l,...a]})}})}}class SC extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}let xC=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const Xv=xC("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class ld{constructor(t){_(this,"_state");_(this,"_parentId");this._state=t||{merger:mC(),contentCounter:new qv}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new yC(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new wC(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=rp();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=rp();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,s=n.toolCallId??Xv(),[o,i]=vC();return this._addPart({type:"tool-call",toolName:r,toolCallId:s,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(i.argsText.append(n.argsText),i.argsText.close()),n.args!==void 0&&(i.argsText.append(JSON.stringify(n.args)),i.argsText.close()),n.response!==void 0&&i.setResponse(n.response),i}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new ld(this._state);return n._parentId=t,n}close(){var t,n,r,s;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(s=(r=this._state).closeSubscriber)==null||s.call(r)}}function _C(e){const t=new ld;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function bC(){const{resolve:e,promise:t}=Gv();let n;return[_C(s=>(n=s,n.__internal_subscribeToClose(e),t)),n]}class CC extends TransformStream{constructor(t,n,r){const[s,o]=bC();let i;super({start(a){var l;return i=s.pipeTo(new WritableStream({write(u){a.enqueue(u)},abort(u){a.error(u)},close(){a.terminate()}})).catch(u=>{a.error(u)}),(l=t.start)==null?void 0:l.call(t,o)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,o)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,o)),o.close(),await i}},n,r)}}const _o=(e,t,n)=>{const{role:r,id:s,createdAt:o,attachments:i,status:a,metadata:l}=e,u={id:s??t,createdAt:o??new Date},d=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,p=({image:f,...m})=>f.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...m,image:f}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(i!=null&&i.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:d.map(f=>{const m=f.type;switch(m){case"text":case"reasoning":return f.text.trim().length===0?null:f;case"file":case"source":return f;case"image":return p(f);case"data":return f;case"tool-call":{const{parentId:S,messages:w,...b}=f,g={...b,toolCallId:f.toolCallId??`tool-${ir()}`,...S!==void 0&&{parentId:S},...w!==void 0&&{messages:w}};return f.args?{...g,args:f.args,argsText:f.argsText??JSON.stringify(f.args)}:{...g,args:Yv(f.argsText??"")??{},argsText:f.argsText??""}}default:{const S=m;throw new Error(`Unsupported assistant message part type: ${S}`)}}}).filter(f=>!!f),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...u,role:r,content:d.map(f=>{const m=f.type;switch(m){case"text":case"image":case"audio":case"file":return f;default:{const S=m;throw new Error(`Unsupported user message part type: ${S}`)}}}),attachments:i??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(d.length!==1||d[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:d,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const f=r;throw new Error(`Unknown message role: ${f}`)}}},ud={fromArray:e=>{const t=e.map(n=>_o(n,ir(),Hv(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},mi=e=>e.next?mi(e.next):"current"in e?e:null;class EC{constructor(t){_(this,"func");_(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class Qv{constructor(){_(this,"messages",new Map);_(this,"head",null);_(this,"root",{children:[],next:null});_(this,"_messages",new EC(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const s=this.messages.get(r);s&&this.updateLevels(s,n+1)}}performOp(t,n,r){const s=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&s===o)){if(r!=="link"&&(s.children=s.children.filter(i=>i!==n.current.id),s.next===n)){const i=s.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");s.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(mi(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const i=t?t.level+1:0;this.updateLevels(n,i)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var s;if(t===void 0||t===((s=this.head)==null?void 0:s.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let o=n;o;o=o.prev)r[o.level]=o.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),s=t?this.messages.get(t):null;if(s===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(s,r,"relink"),this._messages.dirty();return}const o={prev:s,current:n,next:null,children:[],level:s?s.level+1:0};this.messages.set(n.id,o),this.performOp(s,o,"link"),this.head===s&&(this.head=o),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=iC();while(this.messages.has(r));return this.addOrUpdateMessage(t,_o(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const s=n===void 0?r.prev:n===null?null:this.messages.get(n);if(s===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const i=this.messages.get(o);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(s,i,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=mi(s??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=mi(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=s=>{for(const o of s.children){const i=this.messages.get(o);i&&(r(i),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,s]of this.messages)t.push({message:s.current,parentId:((n=s.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:s,parentId:o}of n)this.addOrUpdateMessage(o,s);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class Ma{constructor(){_(this,"_subscriptions",new Set);_(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const Rt=Symbol("skip-update");class cd extends Ma{constructor(n){super();_(this,"binding");_(this,"_previousStateDirty",!0);_(this,"_previousState");_(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==Rt&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class Yo{constructor(t,n){_(this,"_core");_(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,s=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),i=o.isMain,a=o.id;r===i&&s===a||(r=i,s=a,!(t==="switchedTo"&&!i)&&(t==="switchedAway"&&i||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function TC(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],s=t[n];if(!Object.is(r,s))return!1}return!0}class xt extends Ma{constructor(n){super();_(this,"binding");_(this,"_previousState");_(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===Rt)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===Rt||TC(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const qi=Symbol("innerMessage"),Xi=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class Jv{constructor(t){_(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class Zv extends Jv{constructor(n,r){super(n);_(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class RC extends Zv{get source(){return"thread-composer"}}class kC extends Zv{get source(){return"edit-composer"}}class AC extends Jv{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class ey extends Ma{constructor(n){super();_(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),s=r==null?void 0:r.unstable_on(this.config.event,n);const o=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const ty=Object.freeze([]),ny=Object.freeze({}),PC=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??ty,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??ny,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""}),IC=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??ty,runConfig:(e==null?void 0:e.runConfig)??ny,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""});class ry{constructor(t){_(this,"_core");_(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new ey({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class NC extends ry{constructor(n){const r=new cd({path:n.path,getState:()=>PC(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>r.subscribe(s)});_(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new RC(new xt({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"thread-composer"}:Rt},subscribe:r=>this._core.subscribe(r)}),this._core)}}class MC extends ry{constructor(n,r){const s=new cd({path:n.path,getState:()=>IC(n.getState()),subscribe:o=>n.subscribe(o)});super({path:n.path,getState:()=>n.getState(),subscribe:o=>s.subscribe(o)});_(this,"_beginEdit");_(this,"_getState");this._beginEdit=r,this._getState=s.getState.bind(s),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new kC(new xt({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"edit-composer"}:Rt},subscribe:r=>this._core.subscribe(r)}),this._core)}}class Ls{constructor(t=null){_(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>Ls.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return Ls.updatePath(t,n.path,()=>n.value);case"append-text":return Ls.updatePath(t,n.path,s=>{if(typeof s!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return s+n.value});default:{const s=r;throw new Error(`Invalid operation type: ${s}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[s,...o]=n;if(Array.isArray(t)){const a=Number(s);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],o,r),l}const i={...t};return i[s]=this.updatePath(i[s],o,r),i}}const jC=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),ja=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],s=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),s,...e.parts.slice(r+1)],get content(){return this.parts}}},OC=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},DC=(e,t)=>ja(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),LC=(e,t)=>ja(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),BC=(e,t)=>ja(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,s=Yv(r)??n.args;return{...n,argsText:r,args:s}}else throw new Error("text-delta received but part is neither text nor tool-call")}),FC=(e,t)=>ja(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),op=(e,t)=>{var r,s;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((s=e.status)==null?void 0:s.reason)==="error")return e;const n=zC(t);return{...e,status:n}},zC=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},$C=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),UC=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),HC=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),VC=(e,t)=>{var s;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((s=n[r])==null?void 0:s.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:Xv(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},WC=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),YC=(e,t)=>{const n=new Ls(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},GC=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class KC extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let s=t??jC(),o;const i=n?GC(()=>{o==null||o.enqueue(s)}):()=>{o==null||o.enqueue(s)};super({start(a){o=a},transform(a){const l=a.type;switch(l){case"part-start":s=OC(s,a);break;case"tool-call-args-text-finish":s=DC(s,a);break;case"part-finish":s=LC(s,a);break;case"text-delta":s=BC(s,a);break;case"result":s=FC(s,a);break;case"message-finish":s=op(s,a);break;case"annotations":s=$C(s,a);break;case"data":s=UC(s,a);break;case"step-start":s=HC(s,a);break;case"step-finish":s=VC(s,a);break;case"error":s=WC(s,a),r==null||r(a.error);break;case"update-state":s=YC(s,a);break;default:{const u=l;throw new Error(`Unsupported chunk type: ${u}`)}}i()},flush(a){var l,u;if(((l=s.status)==null?void 0:l.type)==="running"){const d=((u=s.parts)==null?void 0:u.some(p=>p.type==="tool-call"&&(p.state==="call"||p.state==="partial-call")&&p.result===void 0))??!1;s=op(s,{finishReason:d?"tool-calls":"unknown"}),a.enqueue(s)}}})}}class qC extends SC{constructor(){super(t=>{const n=new CC({transform(r,s){s.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class Bs{constructor(t){_(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new Bs(t.pipeThrough(new KC))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new Bs(t),new Bs(n)]}}const ip=Symbol.for("aui.tool-response");class Qi{constructor(t){_(this,"artifact");_(this,"result");_(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[ip](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&ip in t}static toResponse(t){return t instanceof Qi?t:new Qi({result:t===void 0?"<no result>":t})}}class ap{constructor(t,n,r){_(this,"contentBinding");_(this,"messageApi");_(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const s=n.toolName,o=n.toolCallId,i=Qi.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:s,toolCallId:o,result:i.result,artifact:i.artifact,isError:i.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class Ji extends Ma{constructor(n){super();_(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),s=r==null?void 0:r.subscribe(n);const o=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const Go=Object.freeze({type:"complete"}),XC=(e,t,n)=>{if(e.role!=="assistant")return Go;if(n.type==="tool-call")return n.result?Go:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?Go:r?e.status:Go},lp=(e,t)=>{const n=e.content[t];if(!n)return Rt;const r=XC(e,t,n);return Object.freeze({...n,[qi]:n[qi],status:r})};class QC{constructor(t,n){_(this,"_core");_(this,"_threadBinding");_(this,"composer");_(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new MC(new Ji({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,s=n??r,{runConfig:o=s.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let i=n;if(t==="previous"?i=o[r.branchNumber-2]:t==="next"&&(i=o[r.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return Xi(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new ap(new xt({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>lp(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new ap(new xt({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(s=>s.type==="tool-call"&&s.toolCallId===t);return r===-1?Rt:lp(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new AC(new xt({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:Rt},subscribe:n=>this._core.subscribe(n)}))}}const JC=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),ZC=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),eE=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},tE=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class sy{constructor(t,n){_(this,"_threadBinding");_(this,"composer");_(this,"_eventSubscriptionSubjects",new Map);const r=new xt({path:t.path,getState:()=>tE(t.getState(),n.getState()),subscribe:s=>{const o=t.subscribe(s),i=n.subscribe(s);return()=>{o(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:s=>t.outerSubscribe(s),subscribe:s=>t.subscribe(s)},this.composer=new NC(new Ji({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:s=>this._threadBinding.subscribe(s)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(eE(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(ZC(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(JC(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var s;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((s=n[t-1])==null?void 0:s.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new QC(new xt({path:t,getState:()=>{var p;const{message:r,parentId:s,index:o}=n()??{},{messages:i,speech:a}=this._threadBinding.getState();if(!r||s===void 0||o===void 0)return Rt;const u=this._threadBinding.getState().getBranches(r.id),d=r.metadata.submittedFeedback;return{...r,[qi]:r[qi],index:o,isLast:((p=i.at(-1))==null?void 0:p.id)===r.id,parentId:s,branchNumber:u.indexOf(r.id)+1,branchCount:u.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:d}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new ey({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const nE=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),Ko=(e,t)=>{if(t===void 0)return Rt;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:Rt};class oy{constructor(t,n=sy){_(this,"_core");_(this,"_runtimeFactory");_(this,"_getState");_(this,"_mainThreadListItemRuntime");_(this,"main");this._core=t,this._runtimeFactory=n;const r=new cd({path:{},getState:()=>nE(t),subscribe:s=>t.subscribe(s)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new Yo(new xt({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>Ko(this._core,this._core.mainThreadId),subscribe:s=>this._core.subscribe(s)}),this._core),this.main=new n(new Ji({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:s=>t.subscribe(s)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new Ji({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new Yo(new xt({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>Ko(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new Yo(new xt({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>Ko(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new Yo(new xt({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>Ko(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const rE=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class sE{constructor(t){_(this,"cloud");_(this,"accept","*");_(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=rE(t.type);let s={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield s;try{const{signedUrl:o,publicUrl:i}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,i),s={...s,status:{type:"requires-action",reason:"composer-send"}},yield s}catch{s={...s,status:{type:"incomplete",reason:"error"}},yield s}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const Bu=c.createContext(null),iy=({adapters:e,children:t})=>{const n=c.useContext(Bu);return h.jsx(Bu.Provider,{value:{...n,...e},children:t})},oE=()=>c.useContext(Bu);class iE extends $v{constructor(n,r,{parentId:s,message:o}){super();_(this,"runtime");_(this,"endEditCallback");_(this,"_nonTextParts");_(this,"_previousText");_(this,"_parentId");_(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=s,this._sourceId=o.id,this._previousText=Xi(o),this.setText(this._previousText),this.setRole(o.role),this.setAttachments(o.attachments??[]),this._nonTextParts=o.content.filter(i=>i.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){Xi(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class aE{constructor(t){_(this,"_contextProvider");_(this,"_subscriptions",new Set);_(this,"_isInitialized",!1);_(this,"repository",new Qv);_(this,"composer",new Uv(this));_(this,"_editComposers",new Map);_(this,"_stopSpeaking");_(this,"speech");_(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new iE(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var i;const r=(i=this.adapters)==null?void 0:i.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:s,parentId:o}=this.repository.getMessage(t);if(r.submit({message:s,type:n}),s.role==="assistant"){const a={...s,metadata:{...s.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,a)}this._notifySubscribers()}speak(t){var i,a;const n=(i=this.adapters)==null?void 0:i.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const s=n.speak(Xi(r)),o=s.subscribe(()=>{s.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:s.status},this._notifySubscribers()});this.speech={messageId:t,status:s.status},this._notifySubscribers(),this._stopSpeaking=()=>{s.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(ud.fromArray(t??[]))}unstable_on(t,n){var s,o;if(t==="modelContextUpdate")return((o=(s=this._contextProvider).subscribe)==null?void 0:o.call(s,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class lE{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const up=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result||!t.includes(s.toolName))};class El extends Error{constructor(n,r){super(r);_(this,"name","AbortError");_(this,"detach");this.detach=n}}class uE extends aE{constructor(n,r){super(n);_(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});_(this,"abortController",null);_(this,"isDisabled",!1);_(this,"_isLoading",!1);_(this,"_suggestions",[]);_(this,"_suggestionsController",null);_(this,"_options");_(this,"_lastRunConfig",{});_(this,"_getThreadId");_(this,"_getInitializePromise");_(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,u,d,p;if(this._options===n)return;this._options=n;let r=!1;const s=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==s&&(this.capabilities.speech=s,r=!0);const o=((u=n.adapters)==null?void 0:u.dictation)!==void 0;this.capabilities.dictation!==o&&(this.capabilities.dictation=o,r=!0);const i=((d=n.adapters)==null?void 0:d.attachments)!==void 0;this.capabilities.attachments!==i&&(this.capabilities.attachments=i,r=!0);const a=((p=n.adapters)==null?void 0:p.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(s=>{var i,a;if(!s)return;this.repository.import(s),s.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const o=(a=(i=this.adapters.history)==null?void 0:i.resume)==null?void 0:a.bind(this.adapters.history);s.unstable_resume&&o&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},o)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var i,a;this.ensureInitialized();const r=(i=this._getInitializePromise)==null?void 0:i.call(this);r&&await r;const s=_o(n,ir(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,s),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:s,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:s.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(s.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},s){var l,u,d;this.ensureInitialized();let i={id:ir(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do i=await this.performRoundtrip(n,i,r,s),s=void 0;while(up(i,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((u=i.status)==null?void 0:u.type)!=="requires-action"){const p=(d=this.adapters.suggestion)==null?void 0:d.generate({messages:this.messages});if(Symbol.asyncIterator in p)for await(const f of p){if(a.aborted)break;this._suggestions=f,this._notifySubscribers()}else{const f=await p;if(a.aborted)return;this._suggestions=f,this._notifySubscribers()}}}async performRoundtrip(n,r,s,o){var w,b,g,v,y,x,C,R,E;const i=n?this.repository.getMessages(n):[];(w=this.abortController)==null||w.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,u=(g=r.metadata)==null?void 0:g.unstable_data,d=(v=r.metadata)==null?void 0:v.steps,p=(y=r.metadata)==null?void 0:y.custom,f=T=>{var he,O,z,k;const I=(he=T.metadata)==null?void 0:he.steps,P=I?[...d??[],...I]:void 0,D=(O=T.metadata)==null?void 0:O.unstable_annotations,F=(z=T.metadata)==null?void 0:z.unstable_data,Y=D?[...l??[],...D]:void 0,K=F?[...u??[],...F]:void 0;r={...r,...T.content?{content:[...a,...T.content??[]]}:void 0,status:T.status??r.status,...T.metadata?{metadata:{...r.metadata,...T.metadata.unstable_state?{unstable_state:T.metadata.unstable_state}:void 0,...Y?{unstable_annotations:Y}:void 0,...K?{unstable_data:K}:void 0,...P?{steps:P}:void 0,...(k=T.metadata)!=null&&k.custom?{custom:{...p??{},...T.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},m=this._options.maxSteps??2;if((((C=(x=r.metadata)==null?void 0:x.steps)==null?void 0:C.length)??0)>=m)return f({status:{type:"incomplete",reason:"tool-calls"}}),r;f({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=s??{};const T=this.getModelContext();o=o??this.adapters.chatModel.run.bind(this.adapters.chatModel);const I=this.abortController.signal,P=(R=this._getThreadId)==null?void 0:R.call(this),D=o({messages:i,runConfig:this._lastRunConfig,abortSignal:I,context:T,config:T,unstable_assistantMessageId:r.id,unstable_threadId:P,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in D)for await(const F of D){if(I.aborted){f({status:{type:"incomplete",reason:"cancelled"}});break}f(F)}else f(await D);r.status.type==="running"&&f({status:{type:"complete",reason:"unknown"}})}catch(T){if(T instanceof El)f({status:{type:"incomplete",reason:"cancelled"}});else if(T instanceof Error&&T.name==="AbortError")f({status:{type:"incomplete",reason:"cancelled"}});else throw f({status:{type:"incomplete",reason:"error",error:T instanceof Error?T.message:`[${typeof T}] ${new String(T).toString()}`}}),T}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((E=this._options.adapters.history)==null?void 0:E.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new El(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new El(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:s,isError:o,artifact:i}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:u}=a;if(u.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let d=!1,p=!1;const f=u.content.map(m=>m.type!=="tool-call"||m.toolCallId!==r?m:(p=!0,m.result||(d=!0),{...m,result:s,artifact:i,isError:o}));if(!p)throw new Error("Tried to add tool result to non-existing tool call");u={...u,content:f},this.repository.addOrUpdateMessage(l,u),d&&up(u,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,u,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const cp=Object.freeze([]),Fu="__DEFAULT_ID__",cE=Object.freeze({[Fu]:{id:Fu,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class dE extends xo{constructor(n){super();_(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw cp}get archivedThreadIds(){throw cp}get mainThreadId(){return Fu}get threadItems(){return cE}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class fE extends id{constructor(n,r){super();_(this,"threads");_(this,"Provider");_(this,"_options");this._options=n,this.threads=new dE(()=>new uE(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import(ud.fromArray(r))}}const dp=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const s=atob(r),i=JSON.parse(s).exp;if(!i||typeof i!="number")throw new Error('JWT does not contain a valid "exp" field');return i*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var fo;class ay{constructor(t){_(this,"strategy","jwt");_(this,"cachedToken",null);_(this,"tokenExpiry",null);us(this,fo);cs(this,fo,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await ls(this,fo).call(this);return n?(this.cachedToken=n,this.tokenExpiry=dp(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,s]=n.split(" ");if(r!=="Bearer"||!s)throw new Error("Invalid auth header received");this.cachedToken=s,this.tokenExpiry=dp(s)}}fo=new WeakMap;var ho,po,mo;class hE{constructor(t,n,r){_(this,"strategy","api-key");us(this,ho);us(this,po);us(this,mo);cs(this,ho,t),cs(this,po,n),cs(this,mo,r)}async getAuthHeaders(){return{Authorization:`Bearer ${ls(this,ho)}`,"Aui-User-Id":ls(this,po),"Aui-Workspace-Id":ls(this,mo)}}readAuthHeaders(){}}ho=new WeakMap,po=new WeakMap,mo=new WeakMap;const qo="aui:refresh_token";class pE{constructor(t){_(this,"strategy","anon");_(this,"baseUrl");_(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new ay(async()=>{const n=Date.now(),r=localStorage.getItem(qo),s=r?JSON.parse(r):void 0;if(s)if(new Date(s.expires_at).getTime()-n>30*1e3){const d=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.token})});if(d.ok){const p=await d.json(),{access_token:f,refresh_token:m}=p;return m&&localStorage.setItem(qo,JSON.stringify(m)),f}}else localStorage.removeItem(qo);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const i=await o.json(),{access_token:a,refresh_token:l}=i;return!a||!l?null:(localStorage.setItem(qo,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class mE extends Error{constructor(t){super(t),this.name="APIError"}}class gE{constructor(t){_(this,"_auth");_(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new ay(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new hE(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new pE(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const s={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[l,u]of Object.entries(n.query))u!==!1&&(u===!0?o.set(l,"true"):o.set(l,u.toString()));const i=new URL(`${this._baseUrl}/v1${t}`);i.search=o.toString();const a=await fetch(i,{method:n.method??"GET",headers:s,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const u=JSON.parse(l);throw new mE(u.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class vE{constructor(t){_(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class yE{constructor(t){_(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return Lu.fromResponse(n,new qC)}}class wE{constructor(t){_(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class SE{constructor(t){_(this,"cloud");_(this,"messages");this.cloud=t,this.messages=new wE(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class xE{constructor(t){_(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class _E{constructor(t){_(this,"threads");_(this,"auth");_(this,"runs");_(this,"files");const n=new gE(t);this.threads=new SE(n),this.auth={tokens:new vE(n)},this.runs=new yE(n),this.files=new xE(n)}}function zu(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>zu(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&zu(r,t+1)):!1}const bE=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return zu(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const s=r;throw new Error(`Message part type not supported by aui/v0: ${s}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},CE=e=>{const t=e.content,n=_o({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Tl=new WeakMap;class EE{constructor(t,n){_(this,"parent");_(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class TE{constructor(t,n){_(this,"cloudRef");_(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Tl.has(this.aui.threadListItem())||Tl.set(this.aui.threadListItem(),{}),Tl.get(this.aui.threadListItem())}withFormat(t){return new EE(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),s=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:bE(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=s,s.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(s=>s.format==="aui/v0").map(CE).reverse()}}async _appendWithFormat(t,n,r,s){const{remoteId:o}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:s}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=i,i.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:s}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:s.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const RE=e=>{const t=U(),[n]=c.useState(()=>new TE(e,t));return n};var om;const fp=typeof process<"u"&&((om=process==null?void 0:process.env)==null?void 0:om.NEXT_PUBLIC_ASSISTANT_BASE_URL),Rl=fp?new _E({baseUrl:fp,anonymous:!0}):void 0,kE=e=>{const t=c.useRef(e);c.useEffect(()=>{t.current=e},[e]);const n=c.useCallback(function({children:o}){const i=RE({get current(){return t.current.cloud??Rl}}),a=t.current.cloud??Rl,l=c.useMemo(()=>new sE(a),[a]),u=c.useMemo(()=>({history:i,attachments:l}),[i,l]);return h.jsx(iy,{adapters:u,children:o})},[]),r=e.cloud??Rl;return r?{list:async()=>{const{threads:s}=await r.threads.list();return{threads:s.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{var l;const o=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),i=o?o.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:a}},rename:async(s,o)=>r.threads.update(s,{title:o}),archive:async s=>r.threads.update(s,{is_archived:!0}),unarchive:async s=>r.threads.update(s,{is_archived:!1}),delete:async s=>{var o;return await((o=e.delete)==null?void 0:o.call(e,s)),r.threads.delete(s)},generateTitle:async(s,o)=>{const i=o.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:s,assistant_id:"system/thread_title",messages:i})},fetch:async s=>{const o=await r.threads.get(s);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new lE},AE=(e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=oE()??{},o={...n,adapters:{...s,...n.adapters,chatModel:e}},[i]=c.useState(()=>new fE(o,t)),a=c.useRef(void 0);return a.current=B(({threadListItem:l})=>l.remoteId),c.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[i]),c.useEffect(()=>()=>{i.threads.getMainThreadRuntimeCore().detach()},[i]),c.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setOptions(o),i.threads.getMainThreadRuntimeCore().__internal_load()}),c.useEffect(()=>{if(r)return i.registerModelContextProvider(r)},[r,i]),c.useMemo(()=>new dd(i),[i])},PE=(e,{cloud:t,...n}={})=>{const r=kE({cloud:t});return wT({runtimeHook:function(){return AE(e,n)},adapter:r,allowNesting:!0})};class dd{constructor(t){_(this,"_core");_(this,"threads");_(this,"_thread");this._core=t,this.threads=new oy(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(ud.fromArray(t??[]))}}function xe(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const hp=e=>{let t;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const f=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(m=>m(t,f))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,s,a);return a},IE=e=>e?hp(e):hp,NE=e=>e;function ME(e,t=NE){const n=Ue.useSyncExternalStore(e.subscribe,Ue.useCallback(()=>t(e.getState()),[e,t]),Ue.useCallback(()=>t(e.getInitialState()),[e,t]));return Ue.useDebugValue(n),n}const pp=e=>{const t=IE(e),n=r=>ME(t,r);return Object.assign(n,t),n},Xr=e=>e?pp(e):pp;function ly(e,t){function n(s){const o=e(s);return o?o[t]:null}function r(s){let o=!1,i;typeof s=="function"?i=s:s&&typeof s=="object"&&(o=!!s.optional,i=s.selector);const a=n({optional:o});return a?i?a(i):a():null}return{[t]:r,[`${t}Store`]:n}}const uy=c.createContext(null),jE=e=>({useSmoothStatus:Xr(()=>e)}),OE=({children:e})=>{const t=cy({optional:!0}),n=U(),[r]=c.useState(()=>jE(n.part().getState().status));return t?e:h.jsx(uy.Provider,{value:r,children:e})},DE=e=>{const t=c.forwardRef((n,r)=>h.jsx(OE,{children:h.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function cy(e){const t=c.useContext(uy);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:LE,useSmoothStatusStore:BE}=ly(cy,"useSmoothStatus"),oo=e=>e;class FE{constructor(t,n){_(this,"currentText");_(this,"setText");_(this,"animationFrameId",null);_(this,"lastUpdateTime",Date.now());_(this,"targetText","");_(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const s=this.targetText.length-this.currentText.length,o=Math.min(5,250/s);let i=0;for(;r>=o&&i<s;)i++,r-=o;i!==s?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const kl=Object.freeze({type:"running"}),dy=(e,t=!1)=>{const{text:n}=e,r=B(({message:d})=>d.id),s=c.useRef(r),[o,i]=c.useState(n),a=BE({optional:!0}),l=xe(d=>{if(i(d),a){const p=o!==d||e.status.type==="running"?kl:e.status;oo(a).setState(p,!0)}});c.useEffect(()=>{if(a){const d=t&&(o!==n||e.status.type==="running")?kl:e.status;oo(a).setState(d,!0)}},[a,t,n,o,e.status]);const[u]=c.useState(new FE(n,l));return c.useEffect(()=>{if(!t){u.stop();return}if(s.current!==r||!n.startsWith(u.targetText)){s.current=r,l(n),u.currentText=n,u.targetText=n,u.stop();return}u.targetText=n,u.start()},[l,u,r,t,n]),c.useEffect(()=>()=>{u.stop()},[u]),c.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:kl}:e,[t,o,e,n])},zE=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:dd,BaseAssistantRuntimeCore:id,CompositeContextProvider:od,DefaultThreadComposerRuntimeCore:Uv,MessageRepository:Qv,ThreadRuntimeImpl:sy,fromThreadMessageLike:_o,generateId:ir,getAutoStatus:Hv,useSmooth:dy,useSmoothStatus:LE,withSmoothContextProvider:DE},Symbol.toStringTag,{value:"Module"})),dr=e=>{const[,t]=Tt(e.getState);return Ce(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},fy=J(({runtime:e})=>{const t=dr(e),n=sd();return Ce(()=>{const r=[],s=["switchedTo","switchedAway"];for(const o of s){const i=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(i)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),hy=J(({runtime:e})=>{const t=dr(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),$E=J(({runtime:e,index:t})=>{const n=V(()=>e.getAttachmentByIndex(t),[e,t]);return Ht(hy({runtime:n}))}),py=J(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=dr(n),s=sd();Ce(()=>{const a=[],l=["send","attachmentAdd"];for(const u of l){const d=n.unstable_on(u,()=>{s(`composer.${u}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(d)}return()=>{for(const u of a)u()}},[n,s,e,t]);const o=qr(()=>r.attachments.map((a,l)=>un(a.id,$E({runtime:n,index:l}))),[r.attachments,n]),i=V(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:i,methods:{getState:()=>i,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>n}}}),UE=J(({runtime:e})=>{const t=dr(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),HE=J(({runtime:e,index:t})=>{const n=V(()=>e.getAttachmentByIndex(t),[e,t]);return Ht(hy({runtime:n}))}),VE=J(({runtime:e,index:t})=>{const n=V(()=>e.getMessagePartByIndex(t),[e,t]);return Ht(UE({runtime:n}))}),WE=J(({runtime:e,threadIdRef:t})=>{const n=dr(e),[r,s]=Tt(!1),[o,i]=Tt(!1),a=V(()=>({get current(){return e.getState().id}}),[e]),l=Pa(py({runtime:e.composer,threadIdRef:t,messageIdRef:a})),u=qr(()=>n.content.map((f,m)=>un("toolCallId"in f&&f.toolCallId!=null?`toolCallId-${f.toolCallId}`:`index-${m}`,VE({runtime:e,index:m}))),[n.content,e]),d=qr(()=>(n.attachments??[]).map((f,m)=>un(f.id,HE({runtime:e,index:m}))),[n.attachments,e]),p=V(()=>({...n,parts:u.state,composer:l.state,isCopied:r,isHovering:o}),[n,u.state,l.state,r,o]);return{state:p,methods:{getState:()=>p,composer:l.methods,reload:f=>e.reload(f),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:f=>e.submitFeedback(f),switchToBranch:f=>e.switchToBranch(f),getCopyText:()=>e.unstable_getCopyText(),part:f=>"index"in f?u.get({index:f.index}):u.get({key:`toolCallId-${f.toolCallId}`}),attachment:f=>"id"in f?d.get({key:f.id}):d.get(f),setIsCopied:s,setIsHovering:i,__internal_getRuntime:()=>e}}}),YE=J(({runtime:e,id:t,threadIdRef:n})=>{const r=V(()=>e.getMessageById(t),[e,t]);return Ht(WE({runtime:r,threadIdRef:n}))}),GE=J(({runtime:e})=>{const t=dr(e),n=sd();Ce(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const u of l){const d=e.unstable_on(u,()=>{var f;const p=((f=e.getState())==null?void 0:f.threadId)||"unknown";n(`thread.${u}`,{threadId:p})});a.push(d)}return()=>{for(const u of a)u()}},[e,n]);const r=V(()=>({get current(){return e.getState().threadId}}),[e]),s=Pa(py({runtime:e.composer,threadIdRef:r})),o=qr(()=>t.messages.map(a=>un(a.id,YE({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),i=V(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:s.state,messages:o.state}),[t,o,s.state]);return{state:i,methods:{getState:()=>i,composer:s.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>e}}}),KE=J(({runtime:e,id:t})=>{const n=V(()=>e.getItemById(t),[e,t]);return Ht(fy({runtime:n}))}),qE=J(({runtime:e,__internal_assistantRuntime:t})=>{const n=dr(e),r=Pa(GE({runtime:e.main})),s=qr(()=>Object.keys(n.threadItems).map(i=>un(i,KE({runtime:e,id:i}))),[n.threadItems,e]),o=V(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:s.state,main:r.state}),[n,s.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:i=>{if(i==="main")return s.get({key:o.mainThreadId});if("id"in i)return s.get({key:i.id});const{index:a,archived:l=!1}=i,u=l?o.archivedThreadIds[a]:o.threadIds[a];return s.get({key:u})},switchToThread:async i=>{await e.switchToThread(i)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),XE=1,my=J(()=>{const[e]=Tt(()=>({version:XE+1})),t=V(()=>new od,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function mp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Oa(...e){return t=>{let n=!1;const r=e.map(s=>{const o=mp(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():mp(e[s],null)}}}}function fe(...e){return c.useCallback(Oa(...e),e)}const gy=J(({toolkit:e})=>{const[t,n]=Tt(()=>({tools:{}})),r=Fv(),s=_v((o,i)=>(n(a=>({...a,tools:{...a.tools,[o]:[...a.tools[o]??[],i]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[o]:((l=a.tools[o])==null?void 0:l.filter(u=>u!==i))??[]}}})}),[]);return Ce(()=>{if(!e)return;const o=[];for(const[l,u]of Object.entries(e))u.render&&o.push(s(l,u.render));const i=Object.entries(e).reduce((l,[u,d])=>{const{render:p,...f}=d;return l[u]=f,l},{}),a={getModelContext:()=>({tools:i})};return o.push(r.current.modelContext().register(a)),()=>{o.forEach(l=>l())}},[e,s,r]),{state:t,methods:{getState:()=>t,setToolUI:s}}});Ov(gy,{modelContext:my()});const QE=J(e=>({state:e,methods:{getState:()=>e}})),JE=J(e=>{const[t]=Tt(()=>({suggestions:(e??[]).map(s=>typeof s=="string"?{title:s,label:"",prompt:s}:{title:s.title,label:s.label,prompt:s.prompt})})),n=qr(()=>t.suggestions.map((r,s)=>un(s,QE(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),ZE=JE,vy=J(e=>{const t=Fv();return Ce(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),Ht(qE({runtime:e.threads,__internal_assistantRuntime:e}))});Ov(vy,{modelContext:my(),tools:gy({}),suggestions:ZE(),threadListItem:Ct({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:Ct({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:Ct({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const Al=e=>{const t=new Map,n=()=>{let r=0;for(const s of t.values())r+=s;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:s=>{t.get(r)!==s&&(t.set(r,s),n())},unregister:()=>{t.delete(r),n()}}}}},eT=(e={})=>{const t=new Set,n=Al(i=>{o.setState({height:{...o.getState().height,viewport:i}})}),r=Al(i=>{o.setState({height:{...o.getState().height,inset:i}})}),s=Al(i=>{o.setState({height:{...o.getState().height,userMessage:i}})}),o=Xr(()=>({isAtBottom:!0,scrollToBottom:({behavior:i="auto"}={})=>{for(const a of t)a({behavior:i})},onScrollToBottom:i=>(t.add(i),()=>{t.delete(i)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:s.register}));return o};function tT(e,t){function n(r){const s=c.useContext(e);if(!(r!=null&&r.optional)&&!s)throw new Error(`This component must be used within ${t}.`);return s}return n}const yy=c.createContext(null),nT=tT(yy,"ThreadPrimitive.Viewport"),{useThreadViewport:io,useThreadViewportStore:Da}=ly(nT,"useThreadViewport"),rT=e=>{const t=Da({optional:!0}),[n]=c.useState(()=>eT(e));return c.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),c.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&oo(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),c.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&oo(n).setState(r)},[n,e.turnAnchor]),n},wy=({children:e,options:t={}})=>{const n=rT(t),[r]=c.useState(()=>({useThreadViewport:n}));return h.jsx(yy.Provider,{value:r,children:e})},sT=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},oT=({children:e,aui:t=null,runtime:n})=>{const r=U({threads:vy(n)},{parent:t});c.useEffect(()=>{},[r]);const s=sT(n);return h.jsxs($n,{value:r,children:[s&&h.jsx(s,{}),h.jsx(wy,{children:e})]})},Sy=c.memo(oT),iT=({runtime:e,children:t})=>{const n=U({threadListItem:fy({runtime:e})});return h.jsx($n,{value:n,children:t})},aT=({index:e,children:t})=>{const n=U({message:Ct({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:Ct({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return h.jsx($n,{value:n,children:t})},lT=({index:e,children:t})=>{const n=U({part:Ct({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return h.jsx($n,{value:n,children:t})},uT=({index:e,children:t})=>{const n=U({attachment:Ct({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return h.jsx($n,{value:n,children:t})},cT=({index:e,children:t})=>{const n=U({attachment:Ct({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return h.jsx($n,{value:n,children:t})},dT=J(({text:e,isRunning:t})=>{const n=V(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),fT=({text:e,isRunning:t=!1,children:n})=>{const r=U({part:dT({text:e,isRunning:t})});return h.jsx($n,{value:r,children:n})};class hT extends xo{constructor(n,r){super();_(this,"useRuntimeHook");_(this,"instances",new Map);_(this,"useAliveThreadsKeysChanged",Xr(()=>({})));_(this,"parent");_(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),s=r(),o=s.thread.__internal_threadBinding,i=c.useCallback(()=>{const d=this.instances.get(n);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=o.getState(),this._notifySubscribers()},[n,o]),a=c.useRef(!1);a.current||i(),c.useEffect(()=>(a.current=!0,i(),o.outerSubscribe(i)),[o,i]);const l=U(),u=c.useRef(void 0);return c.useEffect(()=>{const d=o.getState(),p=d.__internal_setGetInitializePromise;typeof p=="function"&&p.call(d,()=>u.current)},[o]),c.useEffect(()=>s.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){u.current=l.threadListItem().initialize();const p=s.thread.unstable_on("runEnd",()=>{p(),l.threadListItem().generateTitle()})}}),[s,l]),null});_(this,"_OuterActiveThreadProvider",c.memo(({threadId:n,provider:r})=>{const s=c.useMemo(()=>new oy(this.parent).getItemById(n),[n]);return h.jsx(iT,{runtime:s,children:h.jsx(r,{children:h.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));_(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>h.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=Xr(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,s)=>{const o=()=>{const a=this.instances.get(n);if(!a)i(),s(new Error("Thread was deleted before runtime was started"));else if(a.runtime)i(),r(a.runtime);else return},i=this.subscribe(o);o()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const ie=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),pT={getMessageById(){},getBranches(){return[]},switchToBranch(){throw ie},append(){throw ie},startRun(){throw ie},resumeRun(){throw ie},cancelRun(){throw ie},addToolResult(){throw ie},resumeToolCall(){throw ie},speak(){throw ie},stopSpeaking(){throw ie},submitFeedback(){throw ie},getModelContext(){return{}},exportExternalState(){throw ie},importExternalState(){throw ie},unstable_loadExternalState(){throw ie},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw ie},async removeAttachment(){throw ie},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw ie},role:"user",setRole(){throw ie},runConfig:{},setRunConfig(){throw ie},async reset(){},async clearAttachments(){},send(){throw ie},cancel(){},dictation:void 0,startDictation(){throw ie},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw ie},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw ie},export(){return{messages:[]}},reset(){throw ie},unstable_on(){return()=>{}}},gp=(e,t,n)=>n.reduce((r,s)=>(s==null?void 0:s(r,t))??r,e);class mT extends xo{constructor(n){super();_(this,"_pendingTransforms",[]);_(this,"_baseValue");_(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>gp(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),s={...n,task:r};try{this._pendingTransforms.push(s),this._updateState();const o=await r;return this._baseValue=gp(this._baseValue,o,[n.optimistic,n.then]),o}finally{const o=this._pendingTransforms.indexOf(s);o>-1&&this._pendingTransforms.splice(o,1),this._updateState()}}}const gi=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},Xo=(e,t,n)=>{const r=gi(e,t);if(!r)return e;const{id:s,remoteId:o,status:i}=r;if(i===n)return e;const a={...e};switch(i){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==s);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==s);break;default:{const l=i;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[s,...a.threadIds];break;case"archived":a.archivedThreadIds=[s,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==s)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==s&&l!==o));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[s]:{...r,status:n}}),a};class gT extends xo{constructor(n,r){super();_(this,"contextProvider");_(this,"_options");_(this,"_hookManager");_(this,"_loadThreadsPromise");_(this,"_mainThreadId");_(this,"_state",new mT({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));_(this,"useProvider");_(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>Xo(r,n,"regular"),loading:(r,s)=>{const o=n;return{...r,threadData:{...r.threadData,[o]:{...r.threadData[o],initializeTask:s}}}},then:(r,{remoteId:s,externalId:o})=>{const i=gi(r,n);if(!i)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[s]:a},threadData:{...r.threadData,[a]:{...i,initializeTask:Promise.resolve({remoteId:s,externalId:o}),remoteId:s,externalId:o}}}}})});_(this,"generateTitle",async n=>{var u;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:s}=await r.initializeTask,o=this._hookManager.getThreadRuntimeCore(r.id);if(!o)return;const i=o.messages,a=await this._options.adapter.generateTitle(s,i),l=Bs.fromAssistantStream(a);for await(const d of l){const p=(u=d.parts.filter(m=>m.type==="text")[0])==null?void 0:u.text,f=this._state.baseValue;this._state.update({...f,threadData:{...f.threadData,[r.id]:{...r,title:p}}})}});_(this,"useBoundIds",Xr(()=>[]));_(this,"__internal_RenderComponent",()=>{const n=c.useId();c.useEffect(()=>(this.useBoundIds.setState(i=>[...i,n],!0),()=>{this.useBoundIds.setState(i=>i.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:s}=this.useProvider(),o={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&h.jsx(iy,{adapters:o,children:h.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:s})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new hT(n.runtimeHook,this),this.useProvider=Xr(()=>({Provider:n.adapter.unstable_Provider??c.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const s=[],o=[],i={},a={};for(const l of r.threads){switch(l.status){case"regular":s.push(l.remoteId);break;case"archived":o.push(l.remoteId);break;default:{const d=l.status;throw new Error(`Unsupported state: ${d}`)}}const u=l.remoteId;i[l.remoteId]=u,a[u]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:s,archivedThreadIds:o,threadIdMap:{...n.threadIdMap,...i},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??c.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||pT}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)throw new Error("Thread not found");return s}getItemById(n){return gi(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const o=await this._options.adapter.fetch(n),i=this._state.value,a=o.remoteId,l={...i.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:o.remoteId,externalId:o.externalId}),remoteId:o.remoteId,externalId:o.externalId,status:o.status,title:o.title}},u={...i.threadIdMap,[o.remoteId]:a},d=o.status==="regular"?[...i.threadIds,o.remoteId]:i.threadIds,p=o.status==="archived"?[...i.archivedThreadIds,o.remoteId]:i.archivedThreadIds;this._state.update({...i,threadIds:d,archivedThreadIds:p,threadIdMap:u,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const s=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await s:s.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${ir()}`;while(n.threadIdMap[r]);const s=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:s},threadData:{...n.threadData,[s]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const s=this.getItemById(n);if(!s)throw new Error("Thread not found");if(s.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:o}=await s.initializeTask;return this._options.adapter.rename(o,r)},optimistic:o=>{const i=gi(o,n);return i?{...o,threadData:{...o.threadData,[i.id]:{...i,title:r}}}:o}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return this._options.adapter.archive(s)},optimistic:s=>Xo(s,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:s}=await r.initializeTask;return await this._options.adapter.unarchive(s)}catch(s){throw await this._ensureThreadIsNotMain(r.id),s}},optimistic:s=>Xo(s,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return await this._options.adapter.delete(s)},optimistic:s=>Xo(s,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class vT extends id{constructor(n){super();_(this,"threads");this.threads=new gT(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const yT=e=>{const[t]=c.useState(()=>new vT(e));return c.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),c.useMemo(()=>new dd(t),[t])},wT=e=>{if(U().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return yT(e)},ST=e=>{var n;const t=e;t.__isBound||((n=t.__internal_bindMethods)==null||n.call(t),t.__isBound=!0)};function xT(e,t=_T){ST(e);const n=c.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return c.useDebugValue(n),n}const _T=e=>e;function xy(e){function t(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const o=e({optional:r});return o?xT(o,s):null}return t}function bT(e){var r,s;return((s=(r=U().threads()).__internal_getAssistantRuntime)==null?void 0:s.call(r))??null}function CT(e){const t=U(),n=B(()=>{var r,s;return t.attachment.source?((s=(r=t.attachment()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("AttachmentRuntime is not available");return n}const Zi=xy(CT);function ET(e){const t=U(),n=B(()=>{var r,s;return t.thread.source?((s=(r=t.thread()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("ThreadRuntime is not available");return n}const Pt=xy(ET);var TT=Symbol.for("react.lazy"),ea=lc[" use ".trim().toString()];function RT(e){return typeof e=="object"&&e!==null&&"then"in e}function _y(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===TT&&"_payload"in e&&RT(e._payload)}function by(e){const t=kT(e),n=c.forwardRef((r,s)=>{let{children:o,...i}=r;_y(o)&&typeof ea=="function"&&(o=ea(o._payload));const a=c.Children.toArray(o),l=a.find(PT);if(l){const u=l.props.children,d=a.map(p=>p===l?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:p);return h.jsx(t,{...i,ref:s,children:c.isValidElement(u)?c.cloneElement(u,void 0,d):null})}return h.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Cy=by("Slot");function kT(e){const t=c.forwardRef((n,r)=>{let{children:s,...o}=n;if(_y(s)&&typeof ea=="function"&&(s=ea(s._payload)),c.isValidElement(s)){const i=NT(s),a=IT(o,s.props);return s.type!==c.Fragment&&(a.ref=r?Oa(r,i):i),c.cloneElement(s,a)}return c.Children.count(s)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AT=Symbol("radix.slottable");function PT(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AT}function IT(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function NT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=MT.reduce((e,t)=>{const n=by(`Primitive.${t}`),r=c.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Zt;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(Zt||(Zt={}));const jT=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>B(({thread:r,message:s})=>e&&r.isRunning?Zt.Hidden:t==="always"||t==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?Zt.Floating:Zt.Normal:Zt.Hidden:Zt.Normal),fd=c.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},s)=>{const o=jT({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===Zt.Hidden?null:h.jsx(rt.div,{...o===Zt.Floating?{"data-floating":"true"}:null,...r,ref:s})});fd.displayName="ActionBarPrimitive.Root";function q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}const OT=({copiedDuration:e=3e3}={})=>{const t=U(),n=B(({message:i})=>{var a;return(i.role!=="assistant"||((a=i.status)==null?void 0:a.type)!=="running")&&i.parts.some(l=>l.type==="text"&&l.text.length>0)}),r=B(({composer:i})=>i.isEditing),s=B(({composer:i})=>i.text),o=c.useCallback(()=>{const i=r?s:t.message().getCopyText();i&&navigator.clipboard.writeText(i).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,s,e]);return n?o:null},Ey=c.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},s)=>{const o=B(({message:a})=>a.isCopied),i=OT({copiedDuration:e});return h.jsx(rt.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!i,onClick:q(t,()=>{i==null||i()})})});Ey.displayName="ActionBarPrimitive.Copy";const It=(e,t,n=[])=>{const r=c.forwardRef((s,o)=>{const i={},a={};Object.keys(s).forEach(u=>{n.includes(u)?i[u]=s[u]:a[u]=s[u]});const l=t(i)??void 0;return h.jsx(rt.button,{type:"button",...a,ref:o,disabled:a.disabled||!l,onClick:q(a.onClick,l)})});return r.displayName=e,r},DT=()=>{const e=U(),t=B(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=c.useCallback(()=>{e.message().reload()},[e]);return t?null:n},LT=It("ActionBarPrimitive.Reload",DT),BT=()=>{const e=U(),t=B(({composer:r})=>r.isEditing),n=c.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},FT=It("ActionBarPrimitive.Edit",BT),zT=()=>{const e=U(),t=c.useCallback(async()=>{e.message().speak()},[e]);return B(({message:r})=>{var s;return(r.role!=="assistant"||((s=r.status)==null?void 0:s.type)!=="running")&&r.parts.some(o=>o.type==="text"&&o.text.length>0)})?t:null},$T=It("ActionBarPrimitive.Speak",zT);function hd(e,t=globalThis==null?void 0:globalThis.document){const n=xe(e);c.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const UT=()=>{const e=U(),t=B(({message:r})=>r.speech!=null),n=c.useCallback(()=>{e.message().stopSpeaking()},[e]);return t?n:null},Ty=c.forwardRef((e,t)=>{const n=UT();return hd(r=>{n&&(r.preventDefault(),n())}),h.jsx(rt.button,{type:"button",disabled:!n,...e,ref:t,onClick:q(e.onClick,()=>{n==null||n()})})});Ty.displayName="ActionBarPrimitive.StopSpeaking";const HT=()=>{const e=U();return c.useCallback(()=>{e.message().submitFeedback({type:"positive"})},[e])},Ry=c.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=B(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="positive"}),o=HT();return h.jsx(rt.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:q(e,()=>{o==null||o()})})});Ry.displayName="ActionBarPrimitive.FeedbackPositive";const VT=()=>{const e=U();return c.useCallback(()=>{e.message().submitFeedback({type:"negative"})},[e])},ky=c.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=B(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="negative"}),o=VT();return h.jsx(rt.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:q(e,()=>{o==null||o()})})});ky.displayName="ActionBarPrimitive.FeedbackNegative";function WT(e,t){const n=c.createContext(t),r=o=>{const{children:i,...a}=o,l=c.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=c.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function bo(e,t=[]){let n=[];function r(o,i){const a=c.createContext(i),l=n.length;n=[...n,i];const u=p=>{var g;const{scope:f,children:m,...S}=p,w=((g=f==null?void 0:f[e])==null?void 0:g[l])||a,b=c.useMemo(()=>S,Object.values(S));return h.jsx(w.Provider,{value:b,children:m})};u.displayName=o+"Provider";function d(p,f){var w;const m=((w=f==null?void 0:f[e])==null?void 0:w[l])||a,S=c.useContext(m);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>c.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return c.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,YT(s,...t)]}function YT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(o)[`__scope${u}`];return{...a,...p}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var ht=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},GT=lc[" useInsertionEffect ".trim().toString()]||ht;function Ay({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=KT({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=c.useRef(e!==void 0);c.useEffect(()=>{const p=d.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=c.useCallback(d=>{var p;if(a){const f=qT(d)?d(e):d;f!==e&&((p=i.current)==null||p.call(i,f))}else o(d)},[a,e,o,i]);return[l,u]}function KT({defaultProp:e,onChange:t}){const[n,r]=c.useState(e),s=c.useRef(n),o=c.useRef(t);return GT(()=>{o.current=t},[t]),c.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function qT(e){return typeof e=="function"}function pd(e){const t=XT(e),n=c.forwardRef((r,s)=>{const{children:o,...i}=r,a=c.Children.toArray(o),l=a.find(JT);if(l){const u=l.props.children,d=a.map(p=>p===l?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:p);return h.jsx(t,{...i,ref:s,children:c.isValidElement(u)?c.cloneElement(u,void 0,d):null})}return h.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var fr=pd("Slot");function XT(e){const t=c.forwardRef((n,r)=>{const{children:s,...o}=n;if(c.isValidElement(s)){const i=e1(s),a=ZT(o,s.props);return s.type!==c.Fragment&&(a.ref=r?Oa(r,i):i),c.cloneElement(s,a)}return c.Children.count(s)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Py=Symbol("radix.slottable");function QT(e){const t=({children:n})=>h.jsx(h.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Py,t}function JT(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Py}function ZT(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function e1(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var t1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=t1.reduce((e,t)=>{const n=pd(`Primitive.${t}`),r=c.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Iy(e,t){e&&ka.flushSync(()=>e.dispatchEvent(t))}var Ny=c.createContext(void 0),n1=e=>{const{dir:t,children:n}=e;return h.jsx(Ny.Provider,{value:t,children:n})};function r1(e){const t=c.useContext(Ny);return e||t||"ltr"}var s1=n1,o1="DismissableLayer",$u="dismissableLayer.update",i1="dismissableLayer.pointerDownOutside",a1="dismissableLayer.focusOutside",vp,My=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),md=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=c.useContext(My),[d,p]=c.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=c.useState({}),S=fe(t,E=>p(E)),w=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=w.indexOf(b),v=d?w.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,C=c1(E=>{const T=E.target,I=[...u.branches].some(P=>P.contains(T));!x||I||(s==null||s(E),i==null||i(E),E.defaultPrevented||a==null||a())},f),R=d1(E=>{const T=E.target;[...u.branches].some(P=>P.contains(T))||(o==null||o(E),i==null||i(E),E.defaultPrevented||a==null||a())},f);return hd(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),c.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=vp)}},[d,f,n,u]),c.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yp())},[d,u]),c.useEffect(()=>{const E=()=>m({});return document.addEventListener($u,E),()=>document.removeEventListener($u,E)},[]),h.jsx(se.div,{...l,ref:S,style:{pointerEvents:y?x?"auto":"none":void 0,...e.style},onFocusCapture:q(e.onFocusCapture,R.onFocusCapture),onBlurCapture:q(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:q(e.onPointerDownCapture,C.onPointerDownCapture)})});md.displayName=o1;var l1="DismissableLayerBranch",u1=c.forwardRef((e,t)=>{const n=c.useContext(My),r=c.useRef(null),s=fe(t,r);return c.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),h.jsx(se.div,{...e,ref:s})});u1.displayName=l1;function c1(e,t=globalThis==null?void 0:globalThis.document){const n=xe(e),r=c.useRef(!1),s=c.useRef(()=>{});return c.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){jy(i1,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function d1(e,t=globalThis==null?void 0:globalThis.document){const n=xe(e),r=c.useRef(!1);return c.useEffect(()=>{const s=o=>{o.target&&!r.current&&jy(a1,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yp(){const e=new CustomEvent($u);document.dispatchEvent(e)}function jy(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Iy(s,o):s.dispatchEvent(o)}var Pl=0;function f1(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wp()),document.body.insertAdjacentElement("beforeend",e[1]??wp()),Pl++,()=>{Pl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pl--}},[])}function wp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Il="focusScope.autoFocusOnMount",Nl="focusScope.autoFocusOnUnmount",Sp={bubbles:!1,cancelable:!0},h1="FocusScope",Oy=c.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=c.useState(null),u=xe(s),d=xe(o),p=c.useRef(null),f=fe(t,w=>l(w)),m=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let w=function(y){if(m.paused||!a)return;const x=y.target;a.contains(x)?p.current=x:gn(p.current,{select:!0})},b=function(y){if(m.paused||!a)return;const x=y.relatedTarget;x!==null&&(a.contains(x)||gn(p.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const C of y)C.removedNodes.length>0&&gn(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,m.paused]),c.useEffect(()=>{if(a){_p.add(m);const w=document.activeElement;if(!a.contains(w)){const g=new CustomEvent(Il,Sp);a.addEventListener(Il,u),a.dispatchEvent(g),g.defaultPrevented||(p1(w1(Dy(a)),{select:!0}),document.activeElement===w&&gn(a))}return()=>{a.removeEventListener(Il,u),setTimeout(()=>{const g=new CustomEvent(Nl,Sp);a.addEventListener(Nl,d),a.dispatchEvent(g),g.defaultPrevented||gn(w??document.body,{select:!0}),a.removeEventListener(Nl,d),_p.remove(m)},0)}}},[a,u,d,m]);const S=c.useCallback(w=>{if(!n&&!r||m.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,g=document.activeElement;if(b&&g){const v=w.currentTarget,[y,x]=m1(v);y&&x?!w.shiftKey&&g===x?(w.preventDefault(),n&&gn(y,{select:!0})):w.shiftKey&&g===y&&(w.preventDefault(),n&&gn(x,{select:!0})):g===v&&w.preventDefault()}},[n,r,m.paused]);return h.jsx(se.div,{tabIndex:-1,...i,ref:f,onKeyDown:S})});Oy.displayName=h1;function p1(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gn(r,{select:t}),document.activeElement!==n)return}function m1(e){const t=Dy(e),n=xp(t,e),r=xp(t.reverse(),e);return[n,r]}function Dy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xp(e,t){for(const n of e)if(!g1(n,{upTo:t}))return n}function g1(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v1(e){return e instanceof HTMLInputElement&&"select"in e}function gn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&v1(e)&&t&&e.select()}}var _p=y1();function y1(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=bp(e,t),e.unshift(t)},remove(t){var n;e=bp(e,t),(n=e[0])==null||n.resume()}}}function bp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function w1(e){return e.filter(t=>t.tagName!=="A")}var S1=lc[" useId ".trim().toString()]||(()=>{}),x1=0;function vi(e){const[t,n]=c.useState(S1());return ht(()=>{n(r=>r??String(x1++))},[e]),e||(t?`radix-${t}`:"")}const _1=["top","right","bottom","left"],On=Math.min,Xe=Math.max,ta=Math.round,Qo=Math.floor,$t=e=>({x:e,y:e}),b1={left:"right",right:"left",bottom:"top",top:"bottom"},C1={start:"end",end:"start"};function Uu(e,t,n){return Xe(e,On(t,n))}function cn(e,t){return typeof e=="function"?e(t):e}function dn(e){return e.split("-")[0]}function os(e){return e.split("-")[1]}function gd(e){return e==="x"?"y":"x"}function vd(e){return e==="y"?"height":"width"}const E1=new Set(["top","bottom"]);function Bt(e){return E1.has(dn(e))?"y":"x"}function yd(e){return gd(Bt(e))}function T1(e,t,n){n===void 0&&(n=!1);const r=os(e),s=yd(e),o=vd(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=na(i)),[i,na(i)]}function R1(e){const t=na(e);return[Hu(e),t,Hu(t)]}function Hu(e){return e.replace(/start|end/g,t=>C1[t])}const Cp=["left","right"],Ep=["right","left"],k1=["top","bottom"],A1=["bottom","top"];function P1(e,t,n){switch(e){case"top":case"bottom":return n?t?Ep:Cp:t?Cp:Ep;case"left":case"right":return t?k1:A1;default:return[]}}function I1(e,t,n,r){const s=os(e);let o=P1(dn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Hu)))),o}function na(e){return e.replace(/left|right|bottom|top/g,t=>b1[t])}function N1(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ly(e){return typeof e!="number"?N1(e):{top:e,right:e,bottom:e,left:e}}function ra(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Tp(e,t,n){let{reference:r,floating:s}=e;const o=Bt(t),i=yd(t),a=vd(i),l=dn(t),u=o==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-s.width,y:p};break;default:m={x:r.x,y:r.y}}switch(os(t)){case"start":m[i]-=f*(n&&u?-1:1);break;case"end":m[i]+=f*(n&&u?-1:1);break}return m}async function M1(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=cn(t,e),S=Ly(m),b=a[f?p==="floating"?"reference":"floating":p],g=ra(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=p==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),x=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},C=ra(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-C.top+S.top)/x.y,bottom:(C.bottom-g.bottom+S.bottom)/x.y,left:(g.left-C.left+S.left)/x.x,right:(C.right-g.right+S.right)/x.x}}const j1=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:p}=Tp(u,r,l),f=r,m={},S=0;for(let b=0;b<a.length;b++){var w;const{name:g,fn:v}=a[b],{x:y,y:x,data:C,reset:R}=await v({x:d,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:{...i,detectOverflow:(w=i.detectOverflow)!=null?w:M1},elements:{reference:e,floating:t}});d=y??d,p=x??p,m={...m,[g]:{...m[g],...C}},R&&S<=50&&(S++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(u=R.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):R.rects),{x:d,y:p}=Tp(u,f,l)),b=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:m}},O1=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=cn(e,t)||{};if(u==null)return{};const p=Ly(d),f={x:n,y:r},m=yd(s),S=vd(m),w=await i.getDimensions(u),b=m==="y",g=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",x=o.reference[S]+o.reference[m]-f[m]-o.floating[S],C=f[m]-o.reference[m],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=R?R[y]:0;(!E||!await(i.isElement==null?void 0:i.isElement(R)))&&(E=a.floating[y]||o.floating[S]);const T=x/2-C/2,I=E/2-w[S]/2-1,P=On(p[g],I),D=On(p[v],I),F=P,Y=E-w[S]-D,K=E/2-w[S]/2+T,he=Uu(F,K,Y),O=!l.arrow&&os(s)!=null&&K!==he&&o.reference[S]/2-(K<F?P:D)-w[S]/2<0,z=O?K<F?K-F:K-Y:0;return{[m]:f[m]+z,data:{[m]:he,centerOffset:K-he-z,...O&&{alignmentOffset:z}},reset:O}}}),D1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...b}=cn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=dn(s),v=Bt(a),y=dn(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=f||(y||!w?[na(a)]:R1(a)),R=S!=="none";!f&&R&&C.push(...I1(a,w,S,x));const E=[a,...C],T=await l.detectOverflow(t,b),I=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(T[g]),p){const K=T1(s,i,x);I.push(T[K[0]],T[K[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(K=>K<=0)){var D,F;const K=(((D=o.flip)==null?void 0:D.index)||0)+1,he=E[K];if(he&&(!(p==="alignment"?v!==Bt(he):!1)||P.every(k=>Bt(k.placement)===v?k.overflows[0]>0:!0)))return{data:{index:K,overflows:P},reset:{placement:he}};let O=(F=P.filter(z=>z.overflows[0]<=0).sort((z,k)=>z.overflows[1]-k.overflows[1])[0])==null?void 0:F.placement;if(!O)switch(m){case"bestFit":{var Y;const z=(Y=P.filter(k=>{if(R){const j=Bt(k.placement);return j===v||j==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(j=>j>0).reduce((j,L)=>j+L,0)]).sort((k,j)=>k[1]-j[1])[0])==null?void 0:Y[0];z&&(O=z);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function Rp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kp(e){return _1.some(t=>e[t]>=0)}const L1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=cn(e,t);switch(s){case"referenceHidden":{const i=await r.detectOverflow(t,{...o,elementContext:"reference"}),a=Rp(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:kp(a)}}}case"escaped":{const i=await r.detectOverflow(t,{...o,altBoundary:!0}),a=Rp(i,n.floating);return{data:{escapedOffsets:a,escaped:kp(a)}}}default:return{}}}}},By=new Set(["left","top"]);async function B1(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=dn(n),a=os(n),l=Bt(n)==="y",u=By.has(i)?-1:1,d=o&&l?-1:1,p=cn(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof S=="number"&&(m=a==="end"?S*-1:S),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const F1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await B1(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},z1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...u}=cn(e,t),d={x:n,y:r},p=await o.detectOverflow(t,u),f=Bt(dn(s)),m=gd(f);let S=d[m],w=d[f];if(i){const g=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=S+p[g],x=S-p[v];S=Uu(y,S,x)}if(a){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=w+p[g],x=w-p[v];w=Uu(y,w,x)}const b=l.fn({...t,[m]:S,[f]:w});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:i,[f]:a}}}}}},$1=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=cn(e,t),d={x:n,y:r},p=Bt(s),f=gd(p);let m=d[f],S=d[p];const w=cn(a,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const y=f==="y"?"height":"width",x=o.reference[f]-o.floating[y]+b.mainAxis,C=o.reference[f]+o.reference[y]-b.mainAxis;m<x?m=x:m>C&&(m=C)}if(u){var g,v;const y=f==="y"?"width":"height",x=By.has(dn(s)),C=o.reference[p]-o.floating[y]+(x&&((g=i.offset)==null?void 0:g[p])||0)+(x?0:b.crossAxis),R=o.reference[p]+o.reference[y]+(x?0:((v=i.offset)==null?void 0:v[p])||0)-(x?b.crossAxis:0);S<C?S=C:S>R&&(S=R)}return{[f]:m,[p]:S}}}},U1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=cn(e,t),d=await i.detectOverflow(t,u),p=dn(s),f=os(s),m=Bt(s)==="y",{width:S,height:w}=o.floating;let b,g;p==="top"||p==="bottom"?(b=p,g=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=p,b=f==="end"?"top":"bottom");const v=w-d.top-d.bottom,y=S-d.left-d.right,x=On(w-d[b],v),C=On(S-d[g],y),R=!t.middlewareData.shift;let E=x,T=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=v),R&&!f){const P=Xe(d.left,0),D=Xe(d.right,0),F=Xe(d.top,0),Y=Xe(d.bottom,0);m?T=S-2*(P!==0||D!==0?P+D:Xe(d.left,d.right)):E=w-2*(F!==0||Y!==0?F+Y:Xe(d.top,d.bottom))}await l({...t,availableWidth:T,availableHeight:E});const I=await i.getDimensions(a.floating);return S!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function La(){return typeof window<"u"}function is(e){return Fy(e)?(e.nodeName||"").toLowerCase():"#document"}function Ze(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vt(e){var t;return(t=(Fy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fy(e){return La()?e instanceof Node||e instanceof Ze(e).Node:!1}function kt(e){return La()?e instanceof Element||e instanceof Ze(e).Element:!1}function Ut(e){return La()?e instanceof HTMLElement||e instanceof Ze(e).HTMLElement:!1}function Ap(e){return!La()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ze(e).ShadowRoot}const H1=new Set(["inline","contents"]);function Co(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=At(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!H1.has(s)}const V1=new Set(["table","td","th"]);function W1(e){return V1.has(is(e))}const Y1=[":popover-open",":modal"];function Ba(e){return Y1.some(t=>{try{return e.matches(t)}catch{return!1}})}const G1=["transform","translate","scale","rotate","perspective"],K1=["transform","translate","scale","rotate","perspective","filter"],q1=["paint","layout","strict","content"];function wd(e){const t=Sd(),n=kt(e)?At(e):e;return G1.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||K1.some(r=>(n.willChange||"").includes(r))||q1.some(r=>(n.contain||"").includes(r))}function X1(e){let t=Dn(e);for(;Ut(t)&&!Qr(t);){if(wd(t))return t;if(Ba(t))return null;t=Dn(t)}return null}function Sd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Q1=new Set(["html","body","#document"]);function Qr(e){return Q1.has(is(e))}function At(e){return Ze(e).getComputedStyle(e)}function Fa(e){return kt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dn(e){if(is(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ap(e)&&e.host||Vt(e);return Ap(t)?t.host:t}function zy(e){const t=Dn(e);return Qr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ut(t)&&Co(t)?t:zy(t)}function ao(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=zy(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Ze(s);if(o){const a=Vu(i);return t.concat(i,i.visualViewport||[],Co(s)?s:[],a&&n?ao(a):[])}return t.concat(s,ao(s,[],n))}function Vu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $y(e){const t=At(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ut(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=ta(n)!==o||ta(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function xd(e){return kt(e)?e:e.contextElement}function Fr(e){const t=xd(e);if(!Ut(t))return $t(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=$y(t);let i=(o?ta(n.width):n.width)/r,a=(o?ta(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const J1=$t(0);function Uy(e){const t=Ze(e);return!Sd()||!t.visualViewport?J1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Z1(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ze(e)?!1:t}function ar(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=xd(e);let i=$t(1);t&&(r?kt(r)&&(i=Fr(r)):i=Fr(e));const a=Z1(o,n,r)?Uy(o):$t(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,p=s.height/i.y;if(o){const f=Ze(o),m=r&&kt(r)?Ze(r):r;let S=f,w=Vu(S);for(;w&&r&&m!==S;){const b=Fr(w),g=w.getBoundingClientRect(),v=At(w),y=g.left+(w.clientLeft+parseFloat(v.paddingLeft))*b.x,x=g.top+(w.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,p*=b.y,l+=y,u+=x,S=Ze(w),w=Vu(S)}}return ra({width:d,height:p,x:l,y:u})}function za(e,t){const n=Fa(e).scrollLeft;return t?t.left+n:ar(Vt(e)).left+n}function Hy(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-za(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function eR(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Vt(r),a=t?Ba(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=$t(1);const d=$t(0),p=Ut(r);if((p||!p&&!o)&&((is(r)!=="body"||Co(i))&&(l=Fa(r)),Ut(r))){const m=ar(r);u=Fr(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=i&&!p&&!o?Hy(i,l):$t(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function tR(e){return Array.from(e.getClientRects())}function nR(e){const t=Vt(e),n=Fa(e),r=e.ownerDocument.body,s=Xe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Xe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+za(e);const a=-n.scrollTop;return At(r).direction==="rtl"&&(i+=Xe(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Pp=25;function rR(e,t){const n=Ze(e),r=Vt(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=Sd();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=za(r);if(u<=0){const d=r.ownerDocument,p=d.body,f=getComputedStyle(p),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,S=Math.abs(r.clientWidth-p.clientWidth-m);S<=Pp&&(o-=S)}else u<=Pp&&(o+=u);return{width:o,height:i,x:a,y:l}}const sR=new Set(["absolute","fixed"]);function oR(e,t){const n=ar(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ut(e)?Fr(e):$t(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function Ip(e,t,n){let r;if(t==="viewport")r=rR(e,n);else if(t==="document")r=nR(Vt(e));else if(kt(t))r=oR(t,n);else{const s=Uy(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ra(r)}function Vy(e,t){const n=Dn(e);return n===t||!kt(n)||Qr(n)?!1:At(n).position==="fixed"||Vy(n,t)}function iR(e,t){const n=t.get(e);if(n)return n;let r=ao(e,[],!1).filter(a=>kt(a)&&is(a)!=="body"),s=null;const o=At(e).position==="fixed";let i=o?Dn(e):e;for(;kt(i)&&!Qr(i);){const a=At(i),l=wd(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&sR.has(s.position)||Co(i)&&!l&&Vy(e,i))?r=r.filter(d=>d!==i):s=a,i=Dn(i)}return t.set(e,r),r}function aR(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Ba(t)?[]:iR(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const p=Ip(t,d,s);return u.top=Xe(p.top,u.top),u.right=On(p.right,u.right),u.bottom=On(p.bottom,u.bottom),u.left=Xe(p.left,u.left),u},Ip(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lR(e){const{width:t,height:n}=$y(e);return{width:t,height:n}}function uR(e,t,n){const r=Ut(t),s=Vt(t),o=n==="fixed",i=ar(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=$t(0);function u(){l.x=za(s)}if(r||!r&&!o)if((is(t)!=="body"||Co(s))&&(a=Fa(t)),r){const m=ar(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Hy(s,a):$t(0),p=i.left+a.scrollLeft-l.x-d.x,f=i.top+a.scrollTop-l.y-d.y;return{x:p,y:f,width:i.width,height:i.height}}function Ml(e){return At(e).position==="static"}function Np(e,t){if(!Ut(e)||At(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vt(e)===n&&(n=n.ownerDocument.body),n}function Wy(e,t){const n=Ze(e);if(Ba(e))return n;if(!Ut(e)){let s=Dn(e);for(;s&&!Qr(s);){if(kt(s)&&!Ml(s))return s;s=Dn(s)}return n}let r=Np(e,t);for(;r&&W1(r)&&Ml(r);)r=Np(r,t);return r&&Qr(r)&&Ml(r)&&!wd(r)?n:r||X1(e)||n}const cR=async function(e){const t=this.getOffsetParent||Wy,n=this.getDimensions,r=await n(e.floating);return{reference:uR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dR(e){return At(e).direction==="rtl"}const fR={convertOffsetParentRelativeRectToViewportRelativeRect:eR,getDocumentElement:Vt,getClippingRect:aR,getOffsetParent:Wy,getElementRects:cR,getClientRects:tR,getDimensions:lR,getScale:Fr,isElement:kt,isRTL:dR};function Yy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hR(e,t){let n=null,r;const s=Vt(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:p,width:f,height:m}=u;if(a||t(),!f||!m)return;const S=Qo(p),w=Qo(s.clientWidth-(d+f)),b=Qo(s.clientHeight-(p+m)),g=Qo(d),y={rootMargin:-S+"px "+-w+"px "+-b+"px "+-g+"px",threshold:Xe(0,On(1,l))||1};let x=!0;function C(R){const E=R[0].intersectionRatio;if(E!==l){if(!x)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!Yy(u,e.getBoundingClientRect())&&i(),x=!1}try{n=new IntersectionObserver(C,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(e)}return i(!0),o}function pR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=xd(e),d=s||o?[...u?ao(u):[],...ao(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const p=u&&a?hR(u,n):null;let f=-1,m=null;i&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let S,w=l?ar(e):null;l&&b();function b(){const g=ar(e);w&&!Yy(w,g)&&n(),w=g,S=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),p==null||p(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(S)}}const mR=F1,gR=z1,vR=D1,yR=U1,wR=L1,Mp=O1,SR=$1,xR=(e,t,n)=>{const r=new Map,s={platform:fR,...n},o={...s.platform,_c:r};return j1(e,t,{...s,platform:o})};var _R=typeof document<"u",bR=function(){},yi=_R?c.useLayoutEffect:bR;function sa(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!sa(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!sa(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Gy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jp(e,t){const n=Gy(e);return Math.round(t*n)/n}function jl(e){const t=c.useRef(e);return yi(()=>{t.current=e}),t}function CR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,p]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=c.useState(r);sa(f,r)||m(r);const[S,w]=c.useState(null),[b,g]=c.useState(null),v=c.useCallback(k=>{k!==R.current&&(R.current=k,w(k))},[]),y=c.useCallback(k=>{k!==E.current&&(E.current=k,g(k))},[]),x=o||S,C=i||b,R=c.useRef(null),E=c.useRef(null),T=c.useRef(d),I=l!=null,P=jl(l),D=jl(s),F=jl(u),Y=c.useCallback(()=>{if(!R.current||!E.current)return;const k={placement:t,strategy:n,middleware:f};D.current&&(k.platform=D.current),xR(R.current,E.current,k).then(j=>{const L={...j,isPositioned:F.current!==!1};K.current&&!sa(T.current,L)&&(T.current=L,ka.flushSync(()=>{p(L)}))})},[f,t,n,D,F]);yi(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(k=>({...k,isPositioned:!1})))},[u]);const K=c.useRef(!1);yi(()=>(K.current=!0,()=>{K.current=!1}),[]),yi(()=>{if(x&&(R.current=x),C&&(E.current=C),x&&C){if(P.current)return P.current(x,C,Y);Y()}},[x,C,Y,P,I]);const he=c.useMemo(()=>({reference:R,floating:E,setReference:v,setFloating:y}),[v,y]),O=c.useMemo(()=>({reference:x,floating:C}),[x,C]),z=c.useMemo(()=>{const k={position:n,left:0,top:0};if(!O.floating)return k;const j=jp(O.floating,d.x),L=jp(O.floating,d.y);return a?{...k,transform:"translate("+j+"px, "+L+"px)",...Gy(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:L}},[n,a,O.floating,d.x,d.y]);return c.useMemo(()=>({...d,update:Y,refs:he,elements:O,floatingStyles:z}),[d,Y,he,O,z])}const ER=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mp({element:r.current,padding:s}).fn(n):{}:r?Mp({element:r,padding:s}).fn(n):{}}}},TR=(e,t)=>({...mR(e),options:[e,t]}),RR=(e,t)=>({...gR(e),options:[e,t]}),kR=(e,t)=>({...SR(e),options:[e,t]}),AR=(e,t)=>({...vR(e),options:[e,t]}),PR=(e,t)=>({...yR(e),options:[e,t]}),IR=(e,t)=>({...wR(e),options:[e,t]}),NR=(e,t)=>({...ER(e),options:[e,t]});var MR="Arrow",Ky=c.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return h.jsx(se.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ky.displayName=MR;var jR=Ky;function OR(e){const[t,n]=c.useState(void 0);return ht(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var _d="Popper",[qy,Xy]=bo(_d),[DR,Qy]=qy(_d),Jy=e=>{const{__scopePopper:t,children:n}=e,[r,s]=c.useState(null);return h.jsx(DR,{scope:t,anchor:r,onAnchorChange:s,children:n})};Jy.displayName=_d;var Zy="PopperAnchor",ew=c.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Qy(Zy,n),i=c.useRef(null),a=fe(t,i),l=c.useRef(null);return c.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:h.jsx(se.div,{...s,ref:a})});ew.displayName=Zy;var bd="PopperContent",[LR,BR]=qy(bd),tw=c.forwardRef((e,t)=>{var Gt,ko,as,N,Ee,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:S,...w}=e,b=Qy(bd,n),[g,v]=c.useState(null),y=fe(t,me=>v(me)),[x,C]=c.useState(null),R=OR(x),E=(R==null?void 0:R.width)??0,T=(R==null?void 0:R.height)??0,I=r+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],F=D.length>0,Y={padding:P,boundary:D.filter(zR),altBoundary:F},{refs:K,floatingStyles:he,placement:O,isPositioned:z,middlewareData:k}=CR({strategy:"fixed",placement:I,whileElementsMounted:(...me)=>pR(...me,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[TR({mainAxis:s+T,alignmentAxis:i}),l&&RR({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?kR():void 0,...Y}),l&&AR({...Y}),PR({...Y,apply:({elements:me,rects:Kt,availableWidth:qt,availableHeight:Ge})=>{const{width:ze,height:Ie}=Kt.reference,hr=me.floating.style;hr.setProperty("--radix-popper-available-width",`${qt}px`),hr.setProperty("--radix-popper-available-height",`${Ge}px`),hr.setProperty("--radix-popper-anchor-width",`${ze}px`),hr.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),x&&NR({element:x,padding:a}),$R({arrowWidth:E,arrowHeight:T}),f&&IR({strategy:"referenceHidden",...Y})]}),[j,L]=sw(O),X=xe(S);ht(()=>{z&&(X==null||X())},[z,X]);const te=(Gt=k.arrow)==null?void 0:Gt.x,pn=(ko=k.arrow)==null?void 0:ko.y,st=((as=k.arrow)==null?void 0:as.centerOffset)!==0,[Hn,gt]=c.useState();return ht(()=>{g&&gt(window.getComputedStyle(g).zIndex)},[g]),h.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:z?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Hn,"--radix-popper-transform-origin":[(N=k.transformOrigin)==null?void 0:N.x,(Ee=k.transformOrigin)==null?void 0:Ee.y].join(" "),...((Te=k.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(LR,{scope:n,placedSide:j,onArrowChange:C,arrowX:te,arrowY:pn,shouldHideArrow:st,children:h.jsx(se.div,{"data-side":j,"data-align":L,...w,ref:y,style:{...w.style,animation:z?void 0:"none"}})})})});tw.displayName=bd;var nw="PopperArrow",FR={top:"bottom",right:"left",bottom:"top",left:"right"},rw=c.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=BR(nw,r),i=FR[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(jR,{...s,ref:n,style:{...s.style,display:"block"}})})});rw.displayName=nw;function zR(e){return e!==null}var $R=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=sw(n),p={start:"0%",center:"50%",end:"100%"}[d],f=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let S="",w="";return u==="bottom"?(S=i?p:`${f}px`,w=`${-l}px`):u==="top"?(S=i?p:`${f}px`,w=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,w=i?p:`${m}px`):u==="left"&&(S=`${r.floating.width+l}px`,w=i?p:`${m}px`),{data:{x:S,y:w}}}});function sw(e){const[t,n="center"]=e.split("-");return[t,n]}var UR=Jy,HR=ew,VR=tw,WR=rw,YR="Portal",ow=c.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=c.useState(!1);ht(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?f0.createPortal(h.jsx(se.div,{...r,ref:t}),i):null});ow.displayName=YR;function GR(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var hn=e=>{const{present:t,children:n}=e,r=KR(t),s=typeof n=="function"?n({present:r.isPresent}):c.Children.only(n),o=fe(r.ref,qR(s));return typeof n=="function"||r.isPresent?c.cloneElement(s,{ref:o}):null};hn.displayName="Presence";function KR(e){const[t,n]=c.useState(),r=c.useRef(null),s=c.useRef(e),o=c.useRef("none"),i=e?"mounted":"unmounted",[a,l]=GR(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=Jo(r.current);o.current=a==="mounted"?u:"none"},[a]),ht(()=>{const u=r.current,d=s.current;if(d!==e){const f=o.current,m=Jo(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ht(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,p=m=>{const w=Jo(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&w&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=m=>{m.target===t&&(o.current=Jo(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:c.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Jo(e){return(e==null?void 0:e.animationName)||"none"}function qR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var XR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mr=new WeakMap,Zo=new WeakMap,ei={},Ol=0,iw=function(e){return e&&(e.host||iw(e.parentNode))},QR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=iw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},JR=function(e,t,n,r){var s=QR(t,Array.isArray(e)?e:[e]);ei[n]||(ei[n]=new WeakMap);var o=ei[n],i=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),S=m!==null&&m!=="false",w=(mr.get(f)||0)+1,b=(o.get(f)||0)+1;mr.set(f,w),o.set(f,b),i.push(f),w===1&&S&&Zo.set(f,!0),b===1&&f.setAttribute(n,"true"),S||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(t),a.clear(),Ol++,function(){i.forEach(function(p){var f=mr.get(p)-1,m=o.get(p)-1;mr.set(p,f),o.set(p,m),f||(Zo.has(p)||p.removeAttribute(r),Zo.delete(p)),m||p.removeAttribute(n)}),Ol--,Ol||(mr=new WeakMap,mr=new WeakMap,Zo=new WeakMap,ei={})}},ZR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=XR(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),JR(r,s,n,"aria-hidden")):function(){return null}},Dt=function(){return Dt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Dt.apply(this,arguments)};function aw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ek(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var wi="right-scroll-bar-position",Si="width-before-scroll-bar",tk="with-scroll-bars-hidden",nk="--removed-body-scroll-bar-size";function Dl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rk(e,t){var n=c.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var sk=typeof window<"u"?c.useLayoutEffect:c.useEffect,Op=new WeakMap;function ok(e,t){var n=rk(null,function(r){return e.forEach(function(s){return Dl(s,r)})});return sk(function(){var r=Op.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Dl(a,null)}),o.forEach(function(a){s.has(a)||Dl(a,i)})}Op.set(n,e)},[e]),n}function ik(e){return e}function ak(e,t){t===void 0&&(t=ik);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function lk(e){e===void 0&&(e={});var t=ak(null);return t.options=Dt({async:!0,ssr:!1},e),t}var lw=function(e){var t=e.sideCar,n=aw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,Dt({},n))};lw.isSideCarExport=!0;function uk(e,t){return e.useMedium(t),lw}var uw=lk(),Ll=function(){},$a=c.forwardRef(function(e,t){var n=c.useRef(null),r=c.useState({onScrollCapture:Ll,onWheelCapture:Ll,onTouchMoveCapture:Ll}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,f=e.sideCar,m=e.noRelative,S=e.noIsolation,w=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,x=aw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,R=ok([n,t]),E=Dt(Dt({},x),s);return c.createElement(c.Fragment,null,d&&c.createElement(C,{sideCar:uw,removeScrollBar:u,shards:p,noRelative:m,noIsolation:S,inert:w,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:y}),i?c.cloneElement(c.Children.only(a),Dt(Dt({},E),{ref:R})):c.createElement(v,Dt({},E,{className:l,ref:R}),a))});$a.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$a.classNames={fullWidth:Si,zeroRight:wi};var ck=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ck();return t&&e.setAttribute("nonce",t),e}function fk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pk=function(){var e=0,t=null;return{add:function(n){e==0&&(t=dk())&&(fk(t,n),hk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mk=function(){var e=pk();return function(t,n){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cw=function(){var e=mk(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},gk={left:0,top:0,right:0,gap:0},Bl=function(e){return parseInt(e||"",10)||0},vk=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bl(n),Bl(r),Bl(s)]},yk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gk;var t=vk(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},wk=cw(),zr="data-scroll-locked",Sk=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(tk,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zr,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wi,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Si,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wi," .").concat(wi,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Si," .").concat(Si,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zr,`] {
    `).concat(nk,": ").concat(a,`px;
  }
`)},Dp=function(){var e=parseInt(document.body.getAttribute(zr)||"0",10);return isFinite(e)?e:0},xk=function(){c.useEffect(function(){return document.body.setAttribute(zr,(Dp()+1).toString()),function(){var e=Dp()-1;e<=0?document.body.removeAttribute(zr):document.body.setAttribute(zr,e.toString())}},[])},_k=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;xk();var o=c.useMemo(function(){return yk(s)},[s]);return c.createElement(wk,{styles:Sk(o,!t,s,n?"":"!important")})},Wu=!1;if(typeof window<"u")try{var ti=Object.defineProperty({},"passive",{get:function(){return Wu=!0,!0}});window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Wu=!1}var gr=Wu?{passive:!1}:!1,bk=function(e){return e.tagName==="TEXTAREA"},dw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!bk(e)&&n[t]==="visible")},Ck=function(e){return dw(e,"overflowY")},Ek=function(e){return dw(e,"overflowX")},Lp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fw(e,r);if(s){var o=hw(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Tk=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Rk=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},fw=function(e,t){return e==="v"?Ck(t):Ek(t)},hw=function(e,t){return e==="v"?Tk(t):Rk(t)},kk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ak=function(e,t,n,r,s){var o=kk(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,p=0,f=0;do{if(!a)break;var m=hw(e,a),S=m[0],w=m[1],b=m[2],g=w-b-o*S;(S||g)&&fw(e,a)&&(p+=g,f+=S);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(p)<1||!d&&Math.abs(f)<1)&&(u=!0),u},ni=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bp=function(e){return[e.deltaX,e.deltaY]},Fp=function(e){return e&&"current"in e?e.current:e},Pk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ik=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Nk=0,vr=[];function Mk(e){var t=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),s=c.useState(Nk++)[0],o=c.useState(cw)[0],i=c.useRef(e);c.useEffect(function(){i.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=ek([e.lockRef.current],(e.shards||[]).map(Fp),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=c.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!i.current.allowPinchZoom;var g=ni(w),v=n.current,y="deltaX"in w?w.deltaX:v[0]-g[0],x="deltaY"in w?w.deltaY:v[1]-g[1],C,R=w.target,E=Math.abs(y)>Math.abs(x)?"h":"v";if("touches"in w&&E==="h"&&R.type==="range")return!1;var T=window.getSelection(),I=T&&T.anchorNode,P=I?I===R||I.contains(R):!1;if(P)return!1;var D=Lp(E,R);if(!D)return!0;if(D?C=E:(C=E==="v"?"h":"v",D=Lp(E,R)),!D)return!1;if(!r.current&&"changedTouches"in w&&(y||x)&&(r.current=C),!C)return!0;var F=r.current||C;return Ak(F,b,w,F==="h"?y:x)},[]),l=c.useCallback(function(w){var b=w;if(!(!vr.length||vr[vr.length-1]!==o)){var g="deltaY"in b?Bp(b):ni(b),v=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&Pk(C.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(Fp).filter(Boolean).filter(function(C){return C.contains(b.target)}),x=y.length>0?a(b,y[0]):!i.current.noIsolation;x&&b.cancelable&&b.preventDefault()}}},[]),u=c.useCallback(function(w,b,g,v){var y={name:w,delta:b,target:g,should:v,shadowParent:jk(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(x){return x!==y})},1)},[]),d=c.useCallback(function(w){n.current=ni(w),r.current=void 0},[]),p=c.useCallback(function(w){u(w.type,Bp(w),w.target,a(w,e.lockRef.current))},[]),f=c.useCallback(function(w){u(w.type,ni(w),w.target,a(w,e.lockRef.current))},[]);c.useEffect(function(){return vr.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,gr),document.addEventListener("touchmove",l,gr),document.addEventListener("touchstart",d,gr),function(){vr=vr.filter(function(w){return w!==o}),document.removeEventListener("wheel",l,gr),document.removeEventListener("touchmove",l,gr),document.removeEventListener("touchstart",d,gr)}},[]);var m=e.removeScrollBar,S=e.inert;return c.createElement(c.Fragment,null,S?c.createElement(o,{styles:Ik(s)}):null,m?c.createElement(_k,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ok=uk(uw,Mk);var pw=c.forwardRef(function(e,t){return c.createElement($a,Dt({},e,{ref:t,sideCar:Ok}))});pw.classNames=$a.classNames;const mw=c.forwardRef((e,t)=>h.jsx(rt.div,{...e,ref:t}));mw.displayName="AttachmentPrimitive.Root";const Yu=()=>{const e=B(({attachment:t})=>t.name);return h.jsx(h.Fragment,{children:e})};Yu.displayName="AttachmentPrimitive.Name";const Dk=()=>{const e=U();return c.useCallback(()=>{e.attachment().remove()},[e])},Lk=It("AttachmentPrimitive.Remove",Dk),Bk=()=>{const e=U(),t=B(({thread:r,message:s})=>!!(s.branchNumber>=s.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=c.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},Fk=It("BranchPickerPrimitive.Next",Bk),zk=()=>{const e=U(),t=B(({thread:r,message:s})=>!!(s.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=c.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},$k=It("BranchPickerPrimitive.Previous",zk),Uk=()=>B(({message:t})=>t.branchCount),gw=()=>{const e=Uk();return h.jsx(h.Fragment,{children:e})};gw.displayName="BranchPickerPrimitive.Count";const Hk=()=>B(({message:t})=>t.branchNumber),vw=()=>{const e=Hk();return h.jsx(h.Fragment,{children:e})};vw.displayName="BranchPickerPrimitive.Number";const Eo=e=>{const t=c.useRef(void 0);return c.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},yw=(e,t)=>{const n=c.useCallback(r=>{if(!e)return;const s=e(),o=()=>{const a=t?t(r):r.offsetHeight;s.setHeight(a)},i=new ResizeObserver(o);return i.observe(r),o(),()=>{i.disconnect(),s.unregister()}},[e,t]);return Eo(n)},zp=c.createContext(!1),$p=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),s=n[2];if(s==="px")return r;if(s==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(s==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},ww=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=B(({thread:l,message:u})=>{var d;return u.isLast&&u.role==="assistant"&&u.index>=1&&((d=l.messages.at(u.index-1))==null?void 0:d.role)==="user"}),s=Da({optional:!0}),o=c.useContext(zp),i=c.useCallback(l=>{if(!s||o)return;const u=()=>{const d=s.getState();if(d.turnAnchor==="top"&&r){const{viewport:p,inset:f,userMessage:m}=d.height,S=$p(t,l),w=$p(n,l),b=m<=S?m:w,g=Math.max(0,p-f-b);l.style.minHeight=`${g}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return u(),s.subscribe(u)},[s,r,o,t,n]),a=Eo(i);return h.jsx(zp.Provider,{value:!0,children:h.jsx(Cy,{ref:a,children:e})})};ww.displayName="ThreadPrimitive.ViewportSlack";const Vk=()=>{const e=U(),t=B(()=>e.message()),n=c.useCallback(r=>{const s=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return Eo(n)},Wk=()=>{const e=io(s=>s.turnAnchor),t=io(s=>s.registerUserMessageHeight),n=B(({thread:s,message:o})=>{var i;return e==="top"&&o.role==="user"&&o.index===s.messages.length-2&&((i=s.messages.at(-1))==null?void 0:i.role)==="assistant"}),r=c.useCallback(s=>s.offsetHeight,[]);return yw(n?t:null,r)},Cd=c.forwardRef((e,t)=>{const n=Vk(),r=Wk(),s=fe(t,n,r);return h.jsx(ww,{children:h.jsx(rt.div,{...e,ref:s})})});Cd.displayName="MessagePrimitive.Root";const Yk=Object.freeze({type:"complete"}),Gk=J(({parts:e,getMessagePart:t})=>{const[n,r]=Tt(!0),s=V(()=>{const i=e[e.length-1];return(i==null?void 0:i.status)??Yk},[e]),o=V(()=>({parts:e,collapsed:n,status:s}),[e,n,s]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),Kk=({startIndex:e,endIndex:t,children:n})=>{const r=B(({message:i})=>i.parts).slice(e,t+1),s=U(),o=U({chainOfThought:Gk({parts:r,getMessagePart:({index:i})=>{if(i<0||i>=r.length)throw new Error(`ChainOfThought part index ${i} is out of bounds (0..${r.length-1})`);return s.message().part({index:e+i})}})});return h.jsx($n,{value:o,children:n})},qk=()=>B(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),Ed=c.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:o}=dy(qk(),e);return h.jsx(t,{"data-status":o.type,...n,ref:r,children:s})});Ed.displayName="MessagePartPrimitive.Text";const Xk=()=>B(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),Sw=c.forwardRef((e,t)=>{const{image:n}=Xk();return h.jsx(rt.img,{src:n,...e,ref:t})});Sw.displayName="MessagePartPrimitive.Image";const xw=({children:e})=>B(({part:n})=>n.status.type==="running")?e:null;xw.displayName="MessagePartPrimitive.InProgress";const Up=e=>Symbol.iterator in e,Hp=e=>"entries"in e,Vp=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,o]of n)if(!r.has(s)||!Object.is(o,r.get(s)))return!1;return!0},Qk=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=n.next(),o=r.next()}return!!s.done&&!!o.done};function Jk(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:Up(e)&&Up(t)?Hp(e)&&Hp(t)?Vp(e,t):Qk(e,t):Vp({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function _w(e){const t=Ue.useRef(void 0);return n=>{const r=e(n);return Jk(t.current,r)?t.current:t.current=r}}const Fl=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},Zk=(e,t)=>{const n=[];if(t){const r=Fl("chainOfThoughtGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"||o==="reasoning"?r.startGroup(s):(r.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n)}else{const r=Fl("toolGroup"),s=Fl("reasoningGroup");for(let o=0;o<e.length;o++){const i=e[o];i==="tool-call"?(s.endGroup(o-1,n),r.startGroup(o)):i==="reasoning"?(r.endGroup(o-1,n),s.startGroup(o)):(r.endGroup(o-1,n),s.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),s.finalize(e.length-1,n)}return n},eA=e=>{const t=B(_w(n=>n.message.parts.map(r=>r.type)));return c.useMemo(()=>t.length===0?[]:Zk(t,e),[t,e])},tA=({Fallback:e,...t})=>{const n=B(({tools:r})=>{const s=r.tools[t.toolName]??e;return Array.isArray(s)?s[0]??e:s});return n?h.jsx(n,{...t}):null},Jt={Text:()=>h.jsxs("p",{style:{whiteSpace:"pre-line"},children:[h.jsx(Ed,{}),h.jsx(xw,{children:h.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>h.jsx(Sw,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},nA=({components:{Text:e=Jt.Text,Reasoning:t=Jt.Reasoning,Image:n=Jt.Image,Source:r=Jt.Source,File:s=Jt.File,Unstable_Audio:o=Jt.Unstable_Audio,tools:i={}}={}})=>{var d,p;const a=U(),l=B(({part:f})=>f),u=l.type;if(u==="tool-call"){const f=a.part().addToolResult,m=a.part().resumeToolCall;if("Override"in i)return h.jsx(i.Override,{...l,addResult:f,resume:m});const S=((d=i.by_name)==null?void 0:d[l.toolName])??i.Fallback;return h.jsx(tA,{...l,Fallback:S,addResult:f,resume:m})}if(((p=l.status)==null?void 0:p.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return h.jsx(e,{...l});case"reasoning":return h.jsx(t,{...l});case"source":return h.jsx(r,{...l});case"image":return h.jsx(n,{...l});case"file":return h.jsx(s,{...l});case"audio":return h.jsx(o,{...l});case"data":return null;default:const f=u;throw new Error(`Unknown message part type: ${f}`)}},xi=c.memo(({index:e,components:t})=>h.jsx(lT,{index:e,children:h.jsx(nA,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u,d,p,f,m,S,w,b,g,v,y;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((s=e.components)==null?void 0:s.Reasoning)===((o=t.components)==null?void 0:o.Reasoning)&&((i=e.components)==null?void 0:i.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((u=t.components)==null?void 0:u.Image)&&((d=e.components)==null?void 0:d.File)===((p=t.components)==null?void 0:p.File)&&((f=e.components)==null?void 0:f.Unstable_Audio)===((m=t.components)==null?void 0:m.Unstable_Audio)&&((S=e.components)==null?void 0:S.tools)===((w=t.components)==null?void 0:w.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((g=t.components)==null?void 0:g.ToolGroup)&&((v=e.components)==null?void 0:v.ReasoningGroup)===((y=t.components)==null?void 0:y.ReasoningGroup)});xi.displayName="MessagePrimitive.PartByIndex";const rA=({status:e,component:t})=>h.jsx(fT,{text:"",isRunning:e.type==="running",children:h.jsx(t,{type:"text",text:"",status:e})}),sA=Object.freeze({type:"complete"}),oA=({components:e})=>{const t=B(n=>n.message.status??sA);return e!=null&&e.Empty?h.jsx(e.Empty,{status:t}):h.jsx(rA,{status:t,component:(e==null?void 0:e.Text)??Jt.Text})},bw=c.memo(oA,(e,t)=>{var n,r,s,o;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),iA=({components:e,enabled:t})=>B(({message:r})=>{if(!t||r.parts.length===0)return!1;const s=r.parts[r.parts.length-1];return(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="reasoning"})?h.jsx(bw,{components:e}):null,aA=c.memo(iA,(e,t)=>{var n,r,s,o;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),Td=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=B(({message:i})=>i.parts.length),r=!!(e!=null&&e.ChainOfThought),s=eA(r),o=c.useMemo(()=>n===0?h.jsx(bw,{components:e}):s.map(i=>{if(i.type==="single")return h.jsx(xi,{index:i.index,components:e},i.index);if(i.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?h.jsx(Kk,{startIndex:i.startIndex,endIndex:i.endIndex,children:h.jsx(a,{})},`chainOfThought-${i.startIndex}`):null}else if(i.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??Jt.ToolGroup;return h.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>h.jsx(xi,{index:i.startIndex+u,components:e},u))},`tool-${i.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??Jt.ReasoningGroup;return h.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>h.jsx(xi,{index:i.startIndex+u,components:e},u))},`reasoning-${i.startIndex}`)}}),[s,e,n]);return h.jsxs(h.Fragment,{children:[o,h.jsx(aA,{components:e,enabled:t})]})};Td.displayName="MessagePrimitive.Parts";const lA=e=>B(({message:t})=>{var d;const{role:n,attachments:r,parts:s,branchCount:o,isLast:i,speech:a,isCopied:l,isHovering:u}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!u&&!i||e.last!==void 0&&e.last!==i||e.copied===!0&&!l||e.copied===!1&&l||e.speaking===!0&&a==null||e.speaking===!1&&a!=null||e.hasAttachments===!0&&(n!=="user"||!(r!=null&&r.length))||e.hasAttachments===!1&&n==="user"&&(r!=null&&r.length)||e.hasContent===!0&&s.length===0||e.hasContent===!1&&s.length>0||e.submittedFeedback!==void 0&&(((d=t.metadata.submittedFeedback)==null?void 0:d.type)??null)!==e.submittedFeedback)}),Ln=({children:e,...t})=>lA(t)?e:null;Ln.displayName="MessagePrimitive.If";const uA=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},cA=({components:e})=>{const t=B(({attachment:r})=>r);if(!t)return null;const n=uA(e,t);return n?h.jsx(n,{}):null},Cw=c.memo(({index:e,components:t})=>h.jsx(uT,{index:e,children:h.jsx(cA,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});Cw.displayName="MessagePrimitive.AttachmentByIndex";const Ew=({components:e})=>{const t=B(({message:r})=>r.role!=="user"?0:r.attachments.length);return c.useMemo(()=>Array.from({length:t},(r,s)=>h.jsx(Cw,{index:s,components:e},s)),[t,e])};Ew.displayName="MessagePrimitive.Attachments";const Tw=c.forwardRef(({hideWhenSingleBranch:e,...t},n)=>h.jsx(Ln,{hasBranches:e?!0:void 0,children:h.jsx(rt.div,{...t,ref:n})}));Tw.displayName="BranchPickerPrimitive.Root";const Rw=()=>{const e=U(),t=B(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=c.useCallback(()=>{e.composer().send()},[e]);return t?null:n},kw=It("ComposerPrimitive.Send",Rw),Rd=c.forwardRef(({onSubmit:e,...t},n)=>{const r=Rw(),s=o=>{o.preventDefault(),r&&r()};return h.jsx(rt.form,{...t,ref:n,onSubmit:q(e,s)})});Rd.displayName="ComposerPrimitive.Root";function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(null,arguments)}function dA(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fA=c.useLayoutEffect,hA=function(t){var n=Ue.useRef(t);return fA(function(){n.current=t}),n},Wp=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},pA=function(t,n){var r=Ue.useRef();return Ue.useCallback(function(s){t.current=s,r.current&&Wp(r.current,null),r.current=n,n&&Wp(n,s)},[n])},Yp={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},mA=function(t){Object.keys(Yp).forEach(function(n){t.style.setProperty(n,Yp[n],"important")})},Gp=mA,Ne=null,Kp=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function gA(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ne||(Ne=document.createElement("textarea"),Ne.setAttribute("tabindex","-1"),Ne.setAttribute("aria-hidden","true"),Gp(Ne)),Ne.parentNode===null&&document.body.appendChild(Ne);var s=e.paddingSize,o=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(f){var m=f;Ne.style[m]=i[m]}),Gp(Ne),Ne.value=t;var l=Kp(Ne,e);Ne.value=t,l=Kp(Ne,e),Ne.value="x";var u=Ne.scrollHeight-s,d=u*n;a==="border-box"&&(d=d+s+o),l=Math.max(d,l);var p=u*r;return a==="border-box"&&(p=p+s+o),l=Math.min(p,l),[l,u]}var qp=function(){},vA=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},yA=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],wA=!!document.documentElement.currentStyle,SA=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=vA(yA,n),s=r.boxSizing;if(s==="")return null;wA&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},xA=SA;function kd(e,t,n){var r=hA(n);c.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var _A=function(t,n){kd(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},bA=function(t){kd(window,"resize",t)},CA=function(t){kd(document.fonts,"loadingdone",t)},EA=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],TA=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,o=t.minRows,i=t.onChange,a=i===void 0?qp:i,l=t.onHeightChange,u=l===void 0?qp:l,d=dA(t,EA),p=d.value!==void 0,f=c.useRef(null),m=pA(f,n),S=c.useRef(0),w=c.useRef(),b=function(){var y=f.current,x=r&&w.current?w.current:xA(y);if(x){w.current=x;var C=gA(x,y.value||y.placeholder||"x",o,s),R=C[0],E=C[1];S.current!==R&&(S.current=R,y.style.setProperty("height",R+"px","important"),u(R,{rowHeight:E}))}},g=function(y){p||b(),a(y)};return c.useLayoutEffect(b),_A(f,function(){if(!p){var v=f.current.value;requestAnimationFrame(function(){var y=f.current;y&&v!==y.value&&b()})}}),bA(b),CA(b),c.createElement("textarea",Gu({},d,{onChange:g,ref:m}))},RA=c.forwardRef(TA);const Aw=e=>{const t=xe(e),n=io(r=>r.onScrollToBottom);c.useEffect(()=>n(t),[n,t])},Ad=c.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:o,submitOnEnter:i=!0,cancelOnEscape:a=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:u=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:p=!0,...f},m)=>{const S=U(),w=B(({composer:T})=>T.isEditing?T.text:""),b=t?Cy:RA,g=B(({thread:T,composer:I})=>{var P;return T.isDisabled||((P=I.dictation)==null?void 0:P.inputDisabled)})||n,v=c.useRef(null),y=fe(m,v);hd(T=>{var P;if(!a||!((P=v.current)!=null&&P.contains(T.target)))return;const I=S.composer();I.getState().canCancel&&(I.cancel(),T.preventDefault())});const x=T=>{var I,P;g||!i||T.nativeEvent.isComposing||T.key==="Enter"&&T.shiftKey===!1&&(S.thread().getState().isRunning||(T.preventDefault(),(P=(I=v.current)==null?void 0:I.closest("form"))==null||P.requestSubmit()))},C=async T=>{var D;if(!p)return;const I=S.thread().getState().capabilities,P=Array.from(((D=T.clipboardData)==null?void 0:D.files)||[]);if(I.attachments&&P.length>0)try{T.preventDefault(),await Promise.all(P.map(F=>S.composer().addAttachment(F)))}catch(F){console.error("Error adding attachment:",F)}},R=e&&!g,E=c.useCallback(()=>{const T=v.current;!T||!R||(T.focus({preventScroll:!0}),T.setSelectionRange(T.value.length,T.value.length))},[R]);return c.useEffect(()=>E(),[E]),Aw(()=>{S.composer().getState().type==="thread"&&u&&E()}),c.useEffect(()=>{if(!(S.composer().getState().type!=="thread"||!l))return S.on("thread.runStart",E)},[l,E,S]),c.useEffect(()=>{if(!(S.composer().getState().type!=="thread"||!d))return S.on("threadListItem.switchedTo",E)},[d,E,S]),h.jsx(b,{name:"input",value:w,...f,ref:y,disabled:g,onChange:q(r,T=>{S.composer().getState().isEditing&&Ev(()=>{S.composer().setText(T.target.value)})}),onKeyDown:q(s,x),onPaste:q(o,C)})});Ad.displayName="ComposerPrimitive.Input";const kA=()=>{const e=U(),t=B(({composer:r})=>!r.canCancel),n=c.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},Pw=It("ComposerPrimitive.Cancel",kA),AA=({multiple:e=!0}={})=>{const t=B(({composer:s})=>!s.isEditing),n=U(),r=c.useCallback(()=>{const s=document.createElement("input");s.type="file",s.multiple=e,s.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(s.accept=o),document.body.appendChild(s),s.onchange=i=>{const a=i.target.files;if(a){for(const l of a)n.composer().addAttachment(l);document.body.removeChild(s)}},s.oncancel=()=>{(!s.files||s.files.length===0)&&document.body.removeChild(s)},s.click()},[n,e]);return t?null:r},PA=It("ComposerPrimitive.AddAttachment",AA,["multiple"]),IA=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},NA=({components:e})=>{const t=B(({attachment:r})=>r);if(!t)return null;const n=IA(e,t);return n?h.jsx(n,{}):null},Iw=c.memo(({index:e,components:t})=>h.jsx(cT,{index:e,children:h.jsx(NA,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});Iw.displayName="ComposerPrimitive.AttachmentByIndex";const Nw=({components:e})=>{const t=B(r=>r.composer.attachments.length);return c.useMemo(()=>Array.from({length:t},(r,s)=>h.jsx(Iw,{index:s,components:e},s)),[t,e])};Nw.displayName="ComposerPrimitive.Attachments";const Mw=c.forwardRef((e,t)=>h.jsx(rt.div,{...e,ref:t}));Mw.displayName="ThreadPrimitive.Root";const jw=({children:e})=>B(({thread:n})=>n.messages.length===0&&!n.isLoading)?e:null;jw.displayName="ThreadPrimitive.Empty";const MA=e=>B(({thread:t})=>!(e.empty===!0&&!t.isEmpty||e.empty===!1&&t.isEmpty||e.running===!0&&!t.isRunning||e.running===!1&&t.isRunning||e.disabled===!0&&!t.isDisabled||e.disabled===!1&&t.isDisabled)),lo=({children:e,...t})=>MA(t)?e:null;lo.displayName="ThreadPrimitive.If";const jA=e=>{const t=xe(e),n=c.useCallback(r=>{const s=new ResizeObserver(()=>{t()}),o=new MutationObserver(i=>{i.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return s.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),o.disconnect()}},[t]);return Eo(n)},OA=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const s=c.useRef(null),o=Da();e===void 0&&(e=o.getState().turnAnchor!=="top");const i=c.useRef(0),a=c.useRef(null),l=c.useCallback(m=>{const S=s.current;S&&(a.current=m,S.scrollTo({top:S.scrollHeight,behavior:m}))},[]),u=()=>{const m=s.current;if(!m)return;const S=o.getState().isAtBottom,w=Math.abs(m.scrollHeight-m.scrollTop-m.clientHeight)<1||m.scrollHeight<=m.clientHeight;!w&&i.current<m.scrollTop||(w&&(a.current=null),(w||a.current===null)&&w!==S&&oo(o).setState({isAtBottom:w})),i.current=m.scrollTop},d=jA(()=>{const m=a.current;m?l(m):e&&o.getState().isAtBottom&&l("instant"),u()}),p=Eo(m=>(m.addEventListener("scroll",u),()=>{m.removeEventListener("scroll",u)}));return Aw(({behavior:m})=>{l(m)}),bl("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),bl("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),bl("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),fe(d,p,s)},DA=()=>{const e=io(n=>n.registerViewport),t=c.useCallback(n=>n.clientHeight,[]);return yw(e,t)},Ow=c.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:s,...o},i)=>{const a=OA({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=DA(),u=fe(i,a,l);return h.jsx(rt.div,{...o,ref:u,children:s})});Ow.displayName="ThreadPrimitive.ViewportScrollable";const Dw=c.forwardRef(({turnAnchor:e,...t},n)=>h.jsx(wy,{options:{turnAnchor:e},children:h.jsx(Ow,{...t,ref:n})}));Dw.displayName="ThreadPrimitive.Viewport";const Lw=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,LA=()=>null,BA=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??LA;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},FA=({components:e})=>{const t=B(({message:s})=>s.role),n=B(({message:s})=>s.composer.isEditing),r=BA(e,t,n);return h.jsx(r,{})},Bw=c.memo(({index:e,components:t})=>h.jsx(aT,{index:e,children:h.jsx(FA,{components:t})}),(e,t)=>e.index===t.index&&Lw(e.components,t.components));Bw.displayName="ThreadPrimitive.MessageByIndex";const Fw=({components:e})=>{const t=B(({thread:r})=>r.messages.length);return c.useMemo(()=>t===0?null:Array.from({length:t},(r,s)=>h.jsx(Bw,{index:s,components:e},s)),[t,e])};Fw.displayName="ThreadPrimitive.Messages";const zA=c.memo(Fw,(e,t)=>Lw(e.components,t.components)),$A=({behavior:e}={})=>{const t=io(s=>s.isAtBottom),n=Da(),r=c.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},UA=It("ThreadPrimitive.ScrollToBottom",$A,["behavior"]),HA=({prompt:e,send:t,clearComposer:n=!0,autoSend:r,method:s})=>{const o=U(),i=B(({thread:u})=>u.isDisabled),a=t??r??!1,l=c.useCallback(()=>{const u=o.thread().getState().isRunning;if(a&&!u)o.thread().append(e),n&&o.composer().setText("");else if(n)o.composer().setText(e);else{const d=o.composer().getState().text;o.composer().setText(d.trim()?`${d} ${e}`:e)}},[o,a,n,e]);return i?null:l},zw=It("ThreadPrimitive.Suggestion",HA,["prompt","send","clearComposer","autoSend","method"]);var $w=c.createContext({}),G=()=>c.useContext($w),Uw=({children:e,config:t})=>{const n=!!bT(),r=t&&Object.keys(t).length>0,s=G();if(r&&Object.keys(s).length>0)throw new Error("You are providing ThreadConfig to several nested components. Please provide all configuration to the same component.");const o=r?h.jsx($w.Provider,{value:t,children:e}):h.jsx(h.Fragment,{children:e});if(!(t!=null&&t.runtime))return o;if(n)throw new Error("You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.");return h.jsx(Sy,{runtime:t.runtime,children:o})};Uw.displayName="ThreadConfigProvider";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>c.createElement("svg",{ref:l,...WA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Hw("lucide",s),...a},[...i.map(([u,d])=>c.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const n=c.forwardRef(({className:r,...s},o)=>c.createElement(YA,{ref:o,iconNode:t,className:Hw(`lucide-${VA(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],KA=Be("ArrowDown",GA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],XA=Be("AudioLines",qA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JA=Be("Check",QA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eP=Be("ChevronLeft",ZA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nP=Be("ChevronRight",tP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],sP=Be("CircleStop",rP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],iP=Be("CircleX",oP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lP=Be("Copy",aP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],cP=Be("File",uP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],fP=Be("Paperclip",dP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pP=Be("Pencil",hP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gP=Be("RefreshCw",mP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],yP=Be("SendHorizontal",vP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],SP=Be("ThumbsDown",wP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],_P=Be("ThumbsUp",xP);var bP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CP="VisuallyHidden",Vw=c.forwardRef((e,t)=>h.jsx(se.span,{...e,ref:t,style:{...bP,...e.style}}));Vw.displayName=CP;var Ww=Vw,[Ua]=bo("Tooltip",[Xy]),Ha=Xy(),Yw="TooltipProvider",EP=700,Ku="tooltip.open",[TP,Pd]=Ua(Yw),Gw=e=>{const{__scopeTooltip:t,delayDuration:n=EP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=c.useRef(!0),a=c.useRef(!1),l=c.useRef(0);return c.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),h.jsx(TP,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:c.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:c.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};Gw.displayName=Yw;var uo="Tooltip",[RP,Va]=Ua(uo),Kw=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=Pd(uo,e.__scopeTooltip),u=Ha(t),[d,p]=c.useState(null),f=vi(),m=c.useRef(0),S=i??l.disableHoverableContent,w=a??l.delayDuration,b=c.useRef(!1),[g,v]=Ay({prop:r,defaultProp:s??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ku))):l.onClose(),o==null||o(E)},caller:uo}),y=c.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),x=c.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),C=c.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),R=c.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},w)},[w,v]);return c.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),h.jsx(UR,{...u,children:h.jsx(RP,{scope:t,contentId:f,open:g,stateAttribute:y,trigger:d,onTriggerChange:p,onTriggerEnter:c.useCallback(()=>{l.isOpenDelayedRef.current?R():x()},[l.isOpenDelayedRef,R,x]),onTriggerLeave:c.useCallback(()=>{S?C():(window.clearTimeout(m.current),m.current=0)},[C,S]),onOpen:x,onClose:C,disableHoverableContent:S,children:n})})};Kw.displayName=uo;var qu="TooltipTrigger",qw=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Va(qu,n),o=Pd(qu,n),i=Ha(n),a=c.useRef(null),l=fe(t,a,s.onTriggerChange),u=c.useRef(!1),d=c.useRef(!1),p=c.useCallback(()=>u.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),h.jsx(HR,{asChild:!0,...i,children:h.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:q(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:q(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:q(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:q(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:q(e.onBlur,s.onClose),onClick:q(e.onClick,s.onClose)})})});qw.displayName=qu;var kP="TooltipPortal",[XM,AP]=Ua(kP,{forceMount:void 0}),Jr="TooltipContent",Xw=c.forwardRef((e,t)=>{const n=AP(Jr,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Va(Jr,e.__scopeTooltip);return h.jsx(hn,{present:r||i.open,children:i.disableHoverableContent?h.jsx(Qw,{side:s,...o,ref:t}):h.jsx(PP,{side:s,...o,ref:t})})}),PP=c.forwardRef((e,t)=>{const n=Va(Jr,e.__scopeTooltip),r=Pd(Jr,e.__scopeTooltip),s=c.useRef(null),o=fe(t,s),[i,a]=c.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,f=c.useCallback(()=>{a(null),p(!1)},[p]),m=c.useCallback((S,w)=>{const b=S.currentTarget,g={x:S.clientX,y:S.clientY},v=OP(g,b.getBoundingClientRect()),y=DP(g,v),x=LP(w.getBoundingClientRect()),C=FP([...y,...x]);a(C),p(!0)},[p]);return c.useEffect(()=>()=>f(),[f]),c.useEffect(()=>{if(l&&d){const S=b=>m(b,d),w=b=>m(b,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",w)}}},[l,d,m,f]),c.useEffect(()=>{if(i){const S=w=>{const b=w.target,g={x:w.clientX,y:w.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),y=!BP(g,i);v?f():y&&(f(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,i,u,f]),h.jsx(Qw,{...e,ref:o})}),[IP,NP]=Ua(uo,{isInside:!1}),MP=QT("TooltipContent"),Qw=c.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Va(Jr,n),u=Ha(n),{onClose:d}=l;return c.useEffect(()=>(document.addEventListener(Ku,d),()=>document.removeEventListener(Ku,d)),[d]),c.useEffect(()=>{if(l.trigger){const p=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),h.jsx(md,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:h.jsxs(VR,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(MP,{children:r}),h.jsx(IP,{scope:n,isInside:!0,children:h.jsx(Ww,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Xw.displayName=Jr;var Jw="TooltipArrow",jP=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ha(n);return NP(Jw,n).isInside?null:h.jsx(WR,{...s,...r,ref:t})});jP.displayName=Jw;function OP(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function DP(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function LP(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function BP(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,p=l.x,f=l.y;d>r!=f>r&&n<(p-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function FP(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zP(t)}function zP(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Zw=Gw,$P=Kw,UP=qw,HP=Xw,eS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(eS);var VP=eS.exports;const Z=da(VP);var WP=({className:e,...t})=>({className:n,...r})=>({className:Z(e,n),...t,...r}),W=(e,t)=>{const n=WP(t),r=c.forwardRef((s,o)=>{const i=e;return h.jsx(i,{...n(s),ref:o})});return r.displayName="withDefaults("+(typeof e=="string"?e:e.displayName)+")",r},Id=e=>h.jsx(Zw,{children:h.jsx($P,{...e})});Id.displayName="Tooltip";var tS=UP,Nd=W(HP,{sideOffset:4,className:"aui-tooltip-content"});Nd.displayName="TooltipContent";function nS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=nS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function YP(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=nS(e))&&(r&&(r+=" "),r+=t);return r}const Xp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qp=YP,GP=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Qp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=o==null?void 0:o[u];if(d===null)return null;const f=Xp(d)||Xp(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,f]=d;return f===void 0||(u[p]=f),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:f,...m}=d;return Object.entries(m).every(S=>{let[w,b]=S;return Array.isArray(b)?b.includes({...o,...a}[w]):{...o,...a}[w]===b})?[...u,p,f]:u},[]);return Qp(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var KP=GP("aui-button",{variants:{variant:{default:"aui-button-primary",outline:"aui-button-outline",ghost:"aui-button-ghost"},size:{default:"aui-button-medium",icon:"aui-button-icon"}},defaultVariants:{variant:"default",size:"default"}}),Wa=c.forwardRef(({className:e,variant:t,size:n,...r},s)=>h.jsx(se.button,{className:KP({variant:t,size:n,className:e}),...r,ref:s}));Wa.displayName="Button";var Fe=c.forwardRef(({children:e,tooltip:t,side:n="bottom",...r},s)=>h.jsxs(Id,{children:[h.jsx(tS,{asChild:!0,children:h.jsxs(Wa,{variant:"ghost",size:"icon",...r,ref:s,children:[e,h.jsx("span",{className:"aui-sr-only",children:t})]})}),h.jsx(Nd,{side:n,children:t})]}));Fe.displayName="TooltipIconButton";var qP=(e=!1)=>{const{assistantMessage:{allowCopy:t=!0}={}}=G(),n=Pt(r=>r.capabilities.unstable_copy);return t&&(!e||n)},Md=(e=!1)=>{const{assistantMessage:{allowSpeak:t=!0}={}}=G(),n=Pt(r=>r.capabilities.speech);return t&&(!e||n)},rS=(e=!1)=>{const{assistantMessage:{allowReload:t=!0}={}}=G(),n=Pt(r=>r.capabilities.reload);return t&&(!e||n)},sS=(e=!1)=>{const{assistantMessage:{allowFeedbackPositive:t=!0}={}}=G(),n=Pt(r=>r.capabilities.feedback);return t&&(!e||n)},oS=(e=!1)=>{const{assistantMessage:{allowFeedbackNegative:t=!0}={}}=G(),n=Pt(r=>r.capabilities.feedback);return t&&(!e||n)},iS=()=>{const e=qP(!0),t=rS(!0),n=Md(!0),r=sS(!0),s=oS(!0);return!e&&!t&&!n&&!r&&!s?null:h.jsxs(jd,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",children:[n&&h.jsx(aS,{}),e&&h.jsx(Od,{}),t&&h.jsx(Bd,{}),r&&h.jsx(Fd,{}),s&&h.jsx(zd,{})]})};iS.displayName="AssistantActionBar";var jd=W(fd,{className:"aui-assistant-action-bar-root"});jd.displayName="AssistantActionBarRoot";var Od=c.forwardRef(({copiedDuration:e,...t},n)=>{const{strings:{assistantMessage:{copy:{tooltip:r="Copy"}={}}={}}={}}=G();return h.jsx(Ey,{copiedDuration:e,asChild:!0,children:h.jsx(Fe,{tooltip:r,...t,ref:n,children:t.children??h.jsxs(h.Fragment,{children:[h.jsx(Ln,{copied:!0,children:h.jsx(JA,{})}),h.jsx(Ln,{copied:!1,children:h.jsx(lP,{})})]})})})});Od.displayName="AssistantActionBarCopy";var aS=()=>h.jsxs(h.Fragment,{children:[h.jsx(Ln,{speaking:!1,children:h.jsx(Dd,{})}),h.jsx(Ln,{speaking:!0,children:h.jsx(Ld,{})})]}),Dd=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{tooltip:n="Read aloud"}={}}={}}={}}=G(),r=Md();return h.jsx($T,{disabled:!r,asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(XA,{})})})});Dd.displayName="AssistantActionBarSpeak";var Ld=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{stop:{tooltip:n="Stop"}={}}={}}={}}={}}=G(),r=Md();return h.jsx(Ty,{disabled:!r,asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(sP,{})})})});Ld.displayName="AssistantActionBarStopSpeaking";var Bd=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{reload:{tooltip:n="Refresh"}={}}={}}={}}=G(),r=rS();return h.jsx(LT,{disabled:!r,asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(gP,{})})})});Bd.displayName="AssistantActionBarReload";var Fd=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{positive:{tooltip:n="Good response"}={}}={}}={}}={}}=G(),r=sS();return h.jsx(Ry,{disabled:!r,className:"aui-assistant-action-bar-feedback-positive",asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(_P,{})})})});Fd.displayName="AssistantActionBarFeedbackPositive";var zd=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{negative:{tooltip:n="Bad response"}={}}={}}={}}={}}=G(),r=oS();return h.jsx(ky,{disabled:!r,className:"aui-assistant-action-bar-feedback-negative",asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(SP,{})})})});zd.displayName="AssistantActionBarFeedbackNegative";var XP={Root:jd,Reload:Bd,Copy:Od,Speak:Dd,StopSpeaking:Ld,SpeechControl:aS,FeedbackPositive:Fd,FeedbackNegative:zd},QP=Object.assign(iS,XP),$d=(e=!1)=>{const{branchPicker:{allowBranchPicker:t=!0}={}}=G(),n=Pt(r=>r.capabilities.edit);return t&&(!e||n)},lS=()=>$d(!0)?h.jsxs(Ud,{hideWhenSingleBranch:!0,children:[h.jsx(Hd,{}),h.jsx(uS,{}),h.jsx(Vd,{})]}):null;lS.displayName="BranchPicker";var Ud=W(Tw,{className:"aui-branch-picker-root"});Ud.displayName="BranchPickerRoot";var Hd=c.forwardRef((e,t)=>{const{strings:{branchPicker:{previous:{tooltip:n="Previous"}={}}={}}={}}=G(),r=$d();return h.jsx($k,{disabled:!r,asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(eP,{})})})});Hd.displayName="BranchPickerPrevious";var JP=W("span",{className:"aui-branch-picker-state"}),uS=c.forwardRef((e,t)=>h.jsxs(JP,{...e,ref:t,children:[h.jsx(vw,{})," / ",h.jsx(gw,{})]}));uS.displayName="BranchPickerState";var Vd=c.forwardRef((e,t)=>{const{strings:{branchPicker:{next:{tooltip:n="Next"}={}}={}}={}}=G(),r=$d();return h.jsx(Fk,{disabled:!r,asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(nP,{})})})});Vd.displayName="BranchPickerNext";var ZP={Root:Ud,Previous:Hd,Next:Vd},cS=Object.assign(lS,ZP),dS={exports:{}},fS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=c;function eI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tI=typeof Object.is=="function"?Object.is:eI,nI=Zr.useState,rI=Zr.useEffect,sI=Zr.useLayoutEffect,oI=Zr.useDebugValue;function iI(e,t){var n=t(),r=nI({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return sI(function(){s.value=n,s.getSnapshot=t,zl(s)&&o({inst:s})},[e,n,t]),rI(function(){return zl(s)&&o({inst:s}),e(function(){zl(s)&&o({inst:s})})},[e]),oI(n),n}function zl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tI(e,n)}catch{return!0}}function aI(e,t){return t()}var lI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aI:iI;fS.useSyncExternalStore=Zr.useSyncExternalStore!==void 0?Zr.useSyncExternalStore:lI;dS.exports=fS;var uI=dS.exports;function cI(){return uI.useSyncExternalStore(dI,()=>!0,()=>!1)}function dI(){return()=>{}}var Wd="Avatar",[fI]=bo(Wd),[hI,hS]=fI(Wd),pS=c.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=c.useState("idle");return h.jsx(hI,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:h.jsx(se.span,{...r,ref:t})})});pS.displayName=Wd;var mS="AvatarImage",gS=c.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=hS(mS,n),a=pI(r,o),l=xe(u=>{s(u),i.onImageLoadingStatusChange(u)});return ht(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(se.img,{...o,ref:t,src:r}):null});gS.displayName=mS;var vS="AvatarFallback",Yd=c.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=hS(vS,n),[i,a]=c.useState(r===void 0);return c.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?h.jsx(se.span,{...s,ref:t}):null});Yd.displayName=vS;function Jp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function pI(e,{referrerPolicy:t,crossOrigin:n}){const r=cI(),s=c.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=c.useState(()=>Jp(o,e));return ht(()=>{a(Jp(o,e))},[o,e]),ht(()=>{const l=p=>()=>{a(p)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var mI=pS,gI=gS,vI=Yd,Gd=({src:e,alt:t,fallback:n})=>e==null&&n==null?null:h.jsxs(Kd,{children:[e!=null&&h.jsx(qd,{src:e,alt:t}),n!=null&&h.jsx(yS,{children:n})]});Gd.displayName="Avatar";var Kd=W(mI,{className:"aui-avatar-root"});Kd.displayName="AvatarRoot";var qd=W(gI,{className:"aui-avatar-image"});qd.displayName="AvatarImage";var yS=W(vI,{className:"aui-avatar-fallback"});yS.displayName="AvatarFallback";var{useSmoothStatus:yI,withSmoothContextProvider:wI}=zE,SI=()=>{const e=yI();return h.jsx(Ed,{className:Z("aui-text",e.type==="running"&&"aui-text-running"),component:"p"})},xI={Text:wI(SI)},wS=xI,SS=()=>h.jsxs(Xd,{children:[h.jsx(xS,{}),h.jsx(Qd,{}),h.jsx(cS,{}),h.jsx(QP,{})]});SS.displayName="AssistantMessage";var xS=()=>{const{assistantAvatar:e={fallback:"A"}}=G();return h.jsx(Gd,{...e})},Xd=W(Cd,{className:"aui-assistant-message-root"});Xd.displayName="AssistantMessageRoot";var _I=W("div",{className:"aui-assistant-message-content"}),Qd=c.forwardRef(({components:e,...t},n)=>{const{tools:r,assistantMessage:{components:s={}}={}}=G(),o=c.useMemo(()=>({by_name:r?Object.fromEntries(r.map(a=>[a.unstable_tool.toolName,a.unstable_tool.render])):void 0,Fallback:s.ToolFallback}),[...r??[],s.ToolFallback]),i=s.Footer;return h.jsxs(_I,{...t,ref:n,children:[h.jsx(Td,{components:{...e,Text:(e==null?void 0:e.Text)??s.Text??wS.Text,Empty:(e==null?void 0:e.Empty)??s.Empty,tools:o}}),i&&h.jsx(i,{})]})});Qd.displayName="AssistantMessageContent";var bI={Root:Xd,Avatar:xS,Content:Qd},CI=Object.assign(SS,bI),_S=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:h.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})});_S.displayName="CircleStopIcon";var Ya="Dialog",[bS]=bo(Ya),[EI,Nt]=bS(Ya),CS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=c.useRef(null),l=c.useRef(null),[u,d]=Ay({prop:r,defaultProp:s??!1,onChange:o,caller:Ya});return h.jsx(EI,{scope:t,triggerRef:a,contentRef:l,contentId:vi(),titleId:vi(),descriptionId:vi(),open:u,onOpenChange:d,onOpenToggle:c.useCallback(()=>d(p=>!p),[d]),modal:i,children:n})};CS.displayName=Ya;var ES="DialogTrigger",TS=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nt(ES,n),o=fe(t,s.triggerRef);return h.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tf(s.open),...r,ref:o,onClick:q(e.onClick,s.onOpenToggle)})});TS.displayName=ES;var Jd="DialogPortal",[TI,RS]=bS(Jd,{forceMount:void 0}),kS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Nt(Jd,t);return h.jsx(TI,{scope:t,forceMount:n,children:c.Children.map(r,i=>h.jsx(hn,{present:n||o.open,children:h.jsx(ow,{asChild:!0,container:s,children:i})}))})};kS.displayName=Jd;var oa="DialogOverlay",AS=c.forwardRef((e,t)=>{const n=RS(oa,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Nt(oa,e.__scopeDialog);return o.modal?h.jsx(hn,{present:r||o.open,children:h.jsx(kI,{...s,ref:t})}):null});AS.displayName=oa;var RI=pd("DialogOverlay.RemoveScroll"),kI=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nt(oa,n);return h.jsx(pw,{as:RI,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(se.div,{"data-state":tf(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),lr="DialogContent",PS=c.forwardRef((e,t)=>{const n=RS(lr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Nt(lr,e.__scopeDialog);return h.jsx(hn,{present:r||o.open,children:o.modal?h.jsx(AI,{...s,ref:t}):h.jsx(PI,{...s,ref:t})})});PS.displayName=lr;var AI=c.forwardRef((e,t)=>{const n=Nt(lr,e.__scopeDialog),r=c.useRef(null),s=fe(t,n.contentRef,r);return c.useEffect(()=>{const o=r.current;if(o)return ZR(o)},[]),h.jsx(IS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:q(e.onFocusOutside,o=>o.preventDefault())})}),PI=c.forwardRef((e,t)=>{const n=Nt(lr,e.__scopeDialog),r=c.useRef(!1),s=c.useRef(!1);return h.jsx(IS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),IS=c.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Nt(lr,n),l=c.useRef(null),u=fe(t,l);return f1(),h.jsxs(h.Fragment,{children:[h.jsx(Oy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:h.jsx(md,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":tf(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(II,{titleId:a.titleId}),h.jsx(MI,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Zd="DialogTitle",ef=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nt(Zd,n);return h.jsx(se.h2,{id:s.titleId,...r,ref:t})});ef.displayName=Zd;var NS="DialogDescription",MS=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nt(NS,n);return h.jsx(se.p,{id:s.descriptionId,...r,ref:t})});MS.displayName=NS;var jS="DialogClose",OS=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nt(jS,n);return h.jsx(se.button,{type:"button",...r,ref:t,onClick:q(e.onClick,()=>s.onOpenChange(!1))})});OS.displayName=jS;function tf(e){return e?"open":"closed"}var DS="DialogTitleWarning",[QM,LS]=WT(DS,{contentName:lr,titleName:Zd,docsSlug:"dialog"}),II=({titleId:e})=>{const t=LS(DS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},NI="DialogDescriptionWarning",MI=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LS(NI).contentName}}.`;return c.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},BS=CS,FS=TS,zS=kS,nf=AS,rf=PS,jI=ef,OI=MS,DI=OS,LI=BS,BI=FS,FI=zS,$S=c.forwardRef(({className:e,...t},n)=>h.jsx(nf,{ref:n,className:Z("aui-dialog-overlay",e),...t}));$S.displayName=nf.displayName;var US=c.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(FI,{children:[h.jsx($S,{}),h.jsx(rf,{ref:r,className:Z("aui-dialog-content",e),...n,children:t})]}));US.displayName=rf.displayName;var sf=W(mw,{className:"aui-attachment-root"}),zI=W("div",{className:"aui-attachment-content"});sf.displayName="AttachmentRoot";var $I=e=>{const[t,n]=c.useState(void 0);return c.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},HS=()=>{const{file:e,src:t}=Zi(_w(n=>{var s,o;if(n.type!=="image")return{};if(n.file)return{file:n.file};const r=(o=(s=n.content)==null?void 0:s.filter(i=>i.type==="image")[0])==null?void 0:o.image;return r?{src:r}:{}}));return $I(e)??t},UI=({src:e})=>{const[t,n]=c.useState(!1);return h.jsx("img",{src:e,style:{width:"auto",height:"auto",maxWidth:"75dvh",maxHeight:"75dvh",display:t?"block":"none",overflow:"clip"},onLoad:()=>n(!0),alt:"Preview"})},HI=({children:e})=>{const t=HS();return t?h.jsxs(LI,{children:[h.jsx(BI,{className:"aui-attachment-preview-trigger",asChild:!0,children:e}),h.jsxs(US,{children:[h.jsx(ef,{className:"aui-sr-only",children:"Image Attachment Preview"}),h.jsx(UI,{src:t})]})]}):e},VI=()=>{const e=Zi(n=>n.type==="image"),t=HS();return h.jsxs(Kd,{className:"aui-attachment-thumb",children:[h.jsx(Yd,{delayMs:e?200:0,children:h.jsx(cP,{})}),h.jsx(qd,{src:t})]})},VS=()=>{const e=Zi(n=>n.source!=="message"),t=Zi(n=>{const r=n.type;switch(r){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const s=r;throw new Error(`Unknown attachment type: ${s}`)}});return h.jsxs(Id,{children:[h.jsxs(sf,{children:[h.jsx(HI,{children:h.jsx(tS,{asChild:!0,children:h.jsxs(zI,{children:[h.jsx(VI,{}),h.jsxs("div",{className:"aui-attachment-text",children:[h.jsx("p",{className:"aui-attachment-name",children:h.jsx(Yu,{})}),h.jsx("p",{className:"aui-attachment-type",children:t})]})]})})}),e&&h.jsx(of,{})]}),h.jsx(Nd,{side:"top",children:h.jsx(Yu,{})})]})};VS.displayName="Attachment";var of=c.forwardRef((e,t)=>{const{strings:{composer:{removeAttachment:{tooltip:n="Remove file"}={}}={}}={}}=G();return h.jsx(Lk,{asChild:!0,children:h.jsx(Fe,{tooltip:n,className:"aui-attachment-remove",side:"top",...e,ref:t,children:e.children??h.jsx(iP,{})})})});of.displayName="AttachmentRemove";var WI={Root:sf,Remove:of},WS=Object.assign(VS,WI),YS=(e=!1)=>{const{composer:{allowAttachments:t=!0}={}}=G(),n=Pt(r=>r.capabilities.attachments);return t&&(!e||n)},GS=()=>{const e=YS(!0);return h.jsxs(af,{children:[e&&h.jsx(KS,{}),e&&h.jsx(uf,{}),h.jsx(lf,{autoFocus:!0}),h.jsx(cf,{})]})};GS.displayName="Composer";var af=W(Rd,{className:"aui-composer-root"});af.displayName="ComposerRoot";var YI=W(Ad,{rows:1,autoFocus:!0,className:"aui-composer-input"}),lf=c.forwardRef((e,t)=>{const{strings:{composer:{input:{placeholder:n="Write a message..."}={}}={}}={}}=G();return h.jsx(YI,{placeholder:n,...e,ref:t})});lf.displayName="ComposerInput";var GI=W("div",{className:"aui-composer-attachments"}),KS=({components:e})=>h.jsx(GI,{children:h.jsx(Nw,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??WS}})}),KI=W(Fe,{variant:"default",className:"aui-composer-attach"}),uf=c.forwardRef((e,t)=>{const{strings:{composer:{addAttachment:{tooltip:n="Attach file"}={}}={}}={}}=G(),r=YS();return h.jsx(PA,{disabled:!r,asChild:!0,children:h.jsx(KI,{tooltip:n,variant:"ghost",...e,ref:t,children:e.children??h.jsx(fP,{})})})});uf.displayName="ComposerAddAttachment";var qI=()=>Pt(t=>t.capabilities.cancel),cf=()=>qI()?h.jsxs(h.Fragment,{children:[h.jsx(lo,{running:!1,children:h.jsx(ia,{})}),h.jsx(lo,{running:!0,children:h.jsx(df,{})})]}):h.jsx(ia,{});cf.displayName="ComposerAction";var XI=W(Fe,{variant:"default",className:"aui-composer-send"}),ia=c.forwardRef((e,t)=>{const{strings:{composer:{send:{tooltip:n="Send"}={}}={}}={}}=G();return h.jsx(kw,{asChild:!0,children:h.jsx(XI,{tooltip:n,...e,ref:t,children:e.children??h.jsx(yP,{})})})});ia.displayName="ComposerSend";var QI=W(Fe,{variant:"default",className:"aui-composer-cancel"}),df=c.forwardRef((e,t)=>{const{strings:{composer:{cancel:{tooltip:n="Cancel"}={}}={}}={}}=G();return h.jsx(Pw,{asChild:!0,children:h.jsx(QI,{tooltip:n,...e,ref:t,children:e.children??h.jsx(_S,{})})})});df.displayName="ComposerCancel";var JI={Root:af,Input:lf,Action:cf,Send:ia,Cancel:df,AddAttachment:uf,Attachments:KS},ZI=Object.assign(GS,JI),qS=()=>h.jsxs(ff,{children:[h.jsxs(XS,{children:[h.jsx(QS,{}),h.jsx(hf,{})]}),h.jsx(pf,{})]});qS.displayName="ThreadWelcome";var eN=W("div",{className:"aui-thread-welcome-root"}),XS=W("div",{className:"aui-thread-welcome-center"}),ff=c.forwardRef((e,t)=>h.jsx(jw,{children:h.jsx(eN,{...e,ref:t})}));ff.displayName="ThreadWelcomeRoot";var QS=()=>{const{assistantAvatar:e={fallback:"A"}}=G();return h.jsx(Gd,{...e})},tN=W("p",{className:"aui-thread-welcome-message"}),hf=c.forwardRef(({message:e,...t},n)=>{const{welcome:{message:r}={},strings:{welcome:{message:s="How can I help you today?"}={}}={}}=G();return h.jsx(tN,{...t,ref:n,children:e??r??s})});hf.displayName="ThreadWelcomeMessage";var nN=W("div",{className:"aui-thread-welcome-suggestions"}),rN=W(zw,{className:"aui-thread-welcome-suggestion"}),JS=({suggestion:{text:e,prompt:t}})=>h.jsx(rN,{prompt:t,method:"replace",autoSend:!0,children:h.jsx("span",{className:"aui-thread-welcome-suggestion-text",children:e??t})}),pf=()=>{const e=Pt(r=>r.suggestions),{welcome:{suggestions:t}={}}=G(),n=e.length?e:t;return h.jsx(nN,{children:n==null?void 0:n.map((r,s)=>{const o=`${r.prompt}-${s}`;return h.jsx(JS,{suggestion:r},o)})})};pf.displayName="ThreadWelcomeSuggestions";var sN={Root:ff,Center:XS,Avatar:QS,Message:hf,Suggestions:pf,Suggestion:JS},oN=Object.assign(qS,sN),ZS=(e=!1)=>{const{userMessage:{allowEdit:t=!0}={}}=G(),n=Pt(r=>r.capabilities.edit);return t&&(!e||n)},ex=()=>ZS(!0)?h.jsx(mf,{hideWhenRunning:!0,autohide:"not-last",children:h.jsx(gf,{})}):null;ex.displayName="UserActionBar";var mf=W(fd,{className:"aui-user-action-bar-root"});mf.displayName="UserActionBarRoot";var gf=c.forwardRef((e,t)=>{const{strings:{userMessage:{edit:{tooltip:n="Edit"}={}}={}}={}}=G(),r=ZS();return h.jsx(FT,{disabled:!r,asChild:!0,children:h.jsx(Fe,{tooltip:n,...e,ref:t,children:e.children??h.jsx(pP,{})})})});gf.displayName="UserActionBarEdit";var iN={Root:mf,Edit:gf},aN=Object.assign(ex,iN),tx=()=>h.jsxs(vf,{children:[h.jsx(nx,{}),h.jsxs(Ln,{hasContent:!0,children:[h.jsx(aN,{}),h.jsx(yf,{})]}),h.jsx(cS,{})]});tx.displayName="UserMessage";var vf=W(Cd,{className:"aui-user-message-root"});vf.displayName="UserMessageRoot";var lN=W("div",{className:"aui-user-message-content"}),yf=c.forwardRef(({components:e,...t},n)=>h.jsx(lN,{...t,ref:n,children:h.jsx(Td,{components:{...e,Text:(e==null?void 0:e.Text)??wS.Text}})}));yf.displayName="UserMessageContent";var uN=W("div",{className:"aui-user-message-attachments"}),nx=({components:e})=>h.jsx(Ln,{hasAttachments:!0,children:h.jsx(uN,{children:h.jsx(Ew,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??WS}})})}),cN={Root:vf,Content:yf,Attachments:nx},dN=Object.assign(tx,cN),rx=()=>h.jsxs(wf,{children:[h.jsx(Sf,{}),h.jsxs(xf,{children:[h.jsx(_f,{}),h.jsx(bf,{})]})]});rx.displayName="EditComposer";var wf=W(Rd,{className:"aui-edit-composer-root"});wf.displayName="EditComposerRoot";var Sf=W(Ad,{className:"aui-edit-composer-input"});Sf.displayName="EditComposerInput";var xf=W("div",{className:"aui-edit-composer-footer"});xf.displayName="EditComposerFooter";var _f=c.forwardRef((e,t)=>{const{strings:{editComposer:{cancel:{label:n="Cancel"}={}}={}}={}}=G();return h.jsx(Pw,{asChild:!0,children:h.jsx(Wa,{variant:"ghost",...e,ref:t,children:e.children??n})})});_f.displayName="EditComposerCancel";var bf=c.forwardRef((e,t)=>{const{strings:{editComposer:{send:{label:n="Send"}={}}={}}={}}=G();return h.jsx(kw,{asChild:!0,children:h.jsx(Wa,{...e,ref:t,children:e.children??n})})});bf.displayName="EditComposerSend";var fN={Root:wf,Input:Sf,Footer:xf,Cancel:_f,Send:bf},hN=Object.assign(rx,fN),pN=e=>{const{components:{Composer:t=ZI,ThreadWelcome:n=oN,MessagesFooter:r,...s}={}}=e;return h.jsx(Cf,{config:e,children:h.jsxs(Ef,{children:[h.jsx(n,{}),h.jsx(Rf,{MessagesFooter:r,components:s}),h.jsx(sx,{}),h.jsxs(Tf,{children:[h.jsx(kf,{}),h.jsx(t,{})]})]})})},mN=W(Mw,{className:"aui-root aui-thread-root"}),Cf=c.forwardRef(({config:e,...t},n)=>h.jsx(Uw,{config:e,children:h.jsx(mN,{...t,ref:n})}));Cf.displayName="ThreadRoot";var Ef=W(Dw,{className:"aui-thread-viewport"});Ef.displayName="ThreadViewport";var Tf=W("div",{className:"aui-thread-viewport-footer"});Tf.displayName="ThreadViewportFooter";var Rf=({components:e,MessagesFooter:t,unstable_flexGrowDiv:n=!0,...r})=>h.jsxs(h.Fragment,{children:[h.jsx(zA,{components:{...e,UserMessage:(e==null?void 0:e.UserMessage)??dN,AssistantMessage:(e==null?void 0:e.AssistantMessage)??CI,EditComposer:(e==null?void 0:e.EditComposer)??hN},...r}),t&&h.jsx(t,{}),n&&h.jsx(lo,{empty:!1,children:h.jsx("div",{style:{flexGrow:1}})})]});Rf.displayName="ThreadMessages";var sx=()=>{const e=Pt(t=>t.suggestions);return h.jsx(lo,{empty:!1,running:!1,children:h.jsx("div",{className:"aui-thread-followup-suggestions",children:e==null?void 0:e.map((t,n)=>h.jsx(zw,{className:"aui-thread-followup-suggestion",prompt:t.prompt,method:"replace",autoSend:!0,children:t.prompt},n))})})},gN=W(Fe,{variant:"outline",className:"aui-thread-scroll-to-bottom"}),kf=c.forwardRef((e,t)=>{const{strings:{thread:{scrollToBottom:{tooltip:n="Scroll to bottom"}={}}={}}={}}=G();return h.jsx(UA,{asChild:!0,children:h.jsx(gN,{tooltip:n,...e,ref:t,children:e.children??h.jsx(KA,{})})})});kf.displayName="ThreadScrollToBottom";var vN={Root:Cf,Viewport:Ef,Messages:Rf,FollowupSuggestions:sx,ScrollToBottom:kf,ViewportFooter:Tf},yN=Object.assign(pN,vN);function wN(e,[t,n]){return Math.min(n,Math.max(t,e))}function SN(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var Af="ScrollArea",[ox]=bo(Af),[xN,mt]=ox(Af),ix=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=c.useState(null),[u,d]=c.useState(null),[p,f]=c.useState(null),[m,S]=c.useState(null),[w,b]=c.useState(null),[g,v]=c.useState(0),[y,x]=c.useState(0),[C,R]=c.useState(!1),[E,T]=c.useState(!1),I=fe(t,D=>l(D)),P=r1(s);return h.jsx(xN,{scope:n,type:r,dir:P,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:p,onContentChange:f,scrollbarX:m,onScrollbarXChange:S,scrollbarXEnabled:C,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:x,children:h.jsx(se.div,{dir:P,...i,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});ix.displayName=Af;var ax="ScrollAreaViewport",lx=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=mt(ax,n),a=c.useRef(null),l=fe(t,a,i.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(se.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:h.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});lx.displayName=ax;var Wt="ScrollAreaScrollbar",ux=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mt(Wt,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return c.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?h.jsx(_N,{...r,ref:t,forceMount:n}):s.type==="scroll"?h.jsx(bN,{...r,ref:t,forceMount:n}):s.type==="auto"?h.jsx(cx,{...r,ref:t,forceMount:n}):s.type==="always"?h.jsx(Pf,{...r,ref:t}):null});ux.displayName=Wt;var _N=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mt(Wt,e.__scopeScrollArea),[o,i]=c.useState(!1);return c.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),h.jsx(hn,{present:n||o,children:h.jsx(cx,{"data-state":o?"visible":"hidden",...r,ref:t})})}),bN=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mt(Wt,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Ka(()=>l("SCROLL_END"),100),[a,l]=SN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),c.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let p=u[d];const f=()=>{const m=u[d];p!==m&&(l("SCROLL"),i()),p=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,o,l,i]),h.jsx(hn,{present:n||a!=="hidden",children:h.jsx(Pf,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:q(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:q(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),cx=c.forwardRef((e,t)=>{const n=mt(Wt,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=c.useState(!1),a=e.orientation==="horizontal",l=Ka(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return es(n.viewport,l),es(n.content,l),h.jsx(hn,{present:r||o,children:h.jsx(Pf,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Pf=c.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=mt(Wt,e.__scopeScrollArea),o=c.useRef(null),i=c.useRef(0),[a,l]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mx(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function p(f,m){return AN(f,i.current,a,m)}return n==="horizontal"?h.jsx(CN,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollLeft,m=Zp(f,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):n==="vertical"?h.jsx(EN,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollTop,m=Zp(f,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),CN=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=mt(Wt,e.__scopeScrollArea),[i,a]=c.useState(),l=c.useRef(null),u=fe(t,l,o.onScrollbarXChange);return c.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(fx,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ga(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),vx(f,p)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:la(i.paddingLeft),paddingEnd:la(i.paddingRight)}})}})}),EN=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=mt(Wt,e.__scopeScrollArea),[i,a]=c.useState(),l=c.useRef(null),u=fe(t,l,o.onScrollbarYChange);return c.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(fx,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ga(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),vx(f,p)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:la(i.paddingTop),paddingEnd:la(i.paddingBottom)}})}})}),[TN,dx]=ox(Wt),fx=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:p,...f}=e,m=mt(Wt,n),[S,w]=c.useState(null),b=fe(t,I=>w(I)),g=c.useRef(null),v=c.useRef(""),y=m.viewport,x=r.content-r.viewport,C=xe(d),R=xe(l),E=Ka(p,10);function T(I){if(g.current){const P=I.clientX-g.current.left,D=I.clientY-g.current.top;u({x:P,y:D})}}return c.useEffect(()=>{const I=P=>{const D=P.target;(S==null?void 0:S.contains(D))&&C(P,x)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[y,S,x,C]),c.useEffect(R,[r,R]),es(S,E),es(m.content,E),h.jsx(TN,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:xe(o),onThumbPointerUp:xe(i),onThumbPositionChange:R,onThumbPointerDown:xe(a),children:h.jsx(se.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:q(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),g.current=S.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(I))}),onPointerMove:q(e.onPointerMove,T),onPointerUp:q(e.onPointerUp,I=>{const P=I.target;P.hasPointerCapture(I.pointerId)&&P.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),aa="ScrollAreaThumb",hx=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dx(aa,e.__scopeScrollArea);return h.jsx(hn,{present:n||s.hasThumb,children:h.jsx(RN,{ref:t,...r})})}),RN=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=mt(aa,n),i=dx(aa,n),{onThumbPositionChange:a}=i,l=fe(t,p=>i.onThumbChange(p)),u=c.useRef(void 0),d=Ka(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{const p=o.viewport;if(p){const f=()=>{if(d(),!u.current){const m=PN(p,a);u.current=m,a()}};return a(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[o.viewport,d,a]),h.jsx(se.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:q(e.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),S=p.clientX-m.left,w=p.clientY-m.top;i.onThumbPointerDown({x:S,y:w})}),onPointerUp:q(e.onPointerUp,i.onThumbPointerUp)})});hx.displayName=aa;var If="ScrollAreaCorner",px=c.forwardRef((e,t)=>{const n=mt(If,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(kN,{...e,ref:t}):null});px.displayName=If;var kN=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=mt(If,n),[o,i]=c.useState(0),[a,l]=c.useState(0),u=!!(o&&a);return es(s.scrollbarX,()=>{var p;const d=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),es(s.scrollbarY,()=>{var p;const d=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?h.jsx(se.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function la(e){return e?parseInt(e,10):0}function mx(e,t){const n=e/t;return isNaN(n)?0:n}function Ga(e){const t=mx(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function AN(e,t,n,r="ltr"){const s=Ga(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,p=r==="ltr"?[0,d]:[d*-1,0];return gx([l,u],p)(e)}function Zp(e,t,n="ltr"){const r=Ga(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],u=wN(e,l);return gx([0,i],[0,a])(u)}function gx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function vx(e,t){return e>0&&e<t}var PN=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ka(e,t){const n=xe(e),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function es(e,t){const n=xe(t);ht(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var IN=ix,NN=lx,em=ux,tm=hx,MN=px;const Un={asChild:{type:"boolean"}},_i={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},yx={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},jN=["1","2","3","4"],ON={...Un,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:jN,default:"3",responsive:!0},width:_i.width,minWidth:_i.minWidth,maxWidth:{..._i.maxWidth,default:"600px"},...yx},wx=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],To={color:{type:"enum",values:wx,default:void 0}},Nf={color:{type:"enum",values:wx,default:""}},Ro={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},DN=["normal","start","end","both"],Sx={trim:{type:"enum",className:"rt-r-lt",values:DN,responsive:!0}},LN=["left","center","right"],xx={align:{type:"enum",className:"rt-r-ta",values:LN,responsive:!0}},BN=["wrap","nowrap","pretty","balance"],_x={wrap:{type:"enum",className:"rt-r-tw",values:BN,responsive:!0}},bx={truncate:{type:"boolean",className:"rt-truncate"}},FN=["light","regular","medium","bold"],Cx={weight:{type:"enum",className:"rt-r-weight",values:FN,responsive:!0}},zN=["h1","h2","h3","h4","h5","h6"],$N=["1","2","3","4","5","6","7","8","9"],UN={as:{type:"enum",values:zN,default:"h1"},...Un,size:{type:"enum",className:"rt-r-size",values:$N,default:"6",responsive:!0},...Cx,...xx,...Sx,...bx,..._x,...To,...Ro},HN=["initial","xs","sm","md","lg","xl"],Mf=new Set(HN);function Ex(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fs(e){return typeof e=="object"&&e!==null&&Object.keys(e).some(t=>Mf.has(t))}function vn({className:e,customProperties:t,...n}){const r=ua({allowArbitraryValues:!0,className:e,...n}),s=VN({customProperties:t,...n});return[r,s]}function ua({allowArbitraryValues:e,value:t,className:n,propValues:r,parseValue:s=o=>o}){const o=[];if(t){if(typeof t=="string"&&r.includes(t))return nm(n,t,s);if(Fs(t)){const i=t;for(const a in i){if(!Ex(i,a)||!Mf.has(a))continue;const l=i[a];if(l!==void 0){if(r.includes(l)){const u=nm(n,l,s),d=a==="initial"?u:`${a}:${u}`;o.push(d)}else if(e){const u=a==="initial"?n:`${a}:${n}`;o.push(u)}}}return o.join(" ")}if(e)return n}}function nm(e,t,n){const r=e?"-":"",s=n(t),o=s==null?void 0:s.startsWith("-"),i=o?"-":"",a=o?s==null?void 0:s.substring(1):s;return`${i}${e}${r}${a}`}function VN({customProperties:e,value:t,propValues:n,parseValue:r=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(o=>[o,t]))),Fs(t)){const o=t;for(const i in o){if(!Ex(o,i)||!Mf.has(i))continue;const a=o[i];if(!n.includes(a))for(const l of e)s={[i==="initial"?l:`${l}-${i}`]:a,...s}}}for(const o in s){const i=s[o];i!==void 0&&(s[o]=r(i))}return s}}function ca(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function WN(...e){return Object.assign({},...e)}function pt(e,...t){let n,r;const s={...e},o=WN(...t);for(const i in o){let a=s[i];const l=o[i];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!Fs(a)&&(a=l.default),s[i]=a,"className"in l&&l.className){delete s[i];const u="responsive"in l;if(!a||Fs(a)&&!u)continue;if(Fs(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const d=ua({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});n=Z(n,d);continue}if(l.type==="string"||l.type==="enum | string"){const d=l.type==="string"?[]:l.values,[p,f]=vn({className:l.className,customProperties:l.customProperties,propValues:d,parseValue:l.parseValue,value:a});r=ca(r,f),n=Z(n,p);continue}if(l.type==="boolean"&&a){n=Z(n,l.className);continue}}}return s.className=Z(n,e.className),s.style=ca(r,e.style),s}const Vn=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Yt={m:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},jf=c.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="h1",color:i,...a}=pt(e,UN,Yt);return c.createElement(fr,{"data-accent-color":i,...a,ref:t,className:Z("rt-Heading",r)},s?n:c.createElement(o,null,n))});jf.displayName="Heading";const YN=["span","div","label","p"],GN=["1","2","3","4","5","6","7","8","9"],KN={as:{type:"enum",values:YN,default:"span"},...Un,size:{type:"enum",className:"rt-r-size",values:GN,responsive:!0},...Cx,...xx,...Sx,...bx,..._x,...To,...Ro},nn=c.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="span",color:i,...a}=pt(e,KN,Yt);return c.createElement(fr,{"data-accent-color":i,...a,ref:t,className:Z("rt-Text",r)},s?n:c.createElement(o,null,n))});nn.displayName="Text";function qN(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const XN=["none","small","medium","large","full"],qa={radius:{type:"enum",values:XN,default:void 0}},qe={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},yr=()=>{},Xu=c.createContext(void 0),Of=c.forwardRef((e,t)=>c.useContext(Xu)===void 0?c.createElement(Zw,{delayDuration:200},c.createElement(s1,{dir:"ltr"},c.createElement(Tx,{...e,ref:t}))):c.createElement(Df,{...e,ref:t}));Of.displayName="Theme";const Tx=c.forwardRef((e,t)=>{const{appearance:n=qe.appearance.default,accentColor:r=qe.accentColor.default,grayColor:s=qe.grayColor.default,panelBackground:o=qe.panelBackground.default,radius:i=qe.radius.default,scaling:a=qe.scaling.default,hasBackground:l=qe.hasBackground.default,...u}=e,[d,p]=c.useState(n);c.useEffect(()=>p(n),[n]);const[f,m]=c.useState(r);c.useEffect(()=>m(r),[r]);const[S,w]=c.useState(s);c.useEffect(()=>w(s),[s]);const[b,g]=c.useState(o);c.useEffect(()=>g(o),[o]);const[v,y]=c.useState(i);c.useEffect(()=>y(i),[i]);const[x,C]=c.useState(a);return c.useEffect(()=>C(a),[a]),c.createElement(Df,{...u,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:f,grayColor:S,panelBackground:b,radius:v,scaling:x,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:w,onPanelBackgroundChange:g,onRadiusChange:y,onScalingChange:C})});Tx.displayName="ThemeRoot";const Df=c.forwardRef((e,t)=>{const n=c.useContext(Xu),{asChild:r,isRoot:s,hasBackground:o,appearance:i=(n==null?void 0:n.appearance)??qe.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??qe.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??qe.grayColor.default,panelBackground:u=(n==null?void 0:n.panelBackground)??qe.panelBackground.default,radius:d=(n==null?void 0:n.radius)??qe.radius.default,scaling:p=(n==null?void 0:n.scaling)??qe.scaling.default,onAppearanceChange:f=yr,onAccentColorChange:m=yr,onGrayColorChange:S=yr,onPanelBackgroundChange:w=yr,onRadiusChange:b=yr,onScalingChange:g=yr,...v}=e,y=r?fr:"div",x=l==="auto"?qN(a):l,C=e.appearance==="light"||e.appearance==="dark",R=o===void 0?s||C:o;return c.createElement(Xu.Provider,{value:c.useMemo(()=>({appearance:i,accentColor:a,grayColor:l,resolvedGrayColor:x,panelBackground:u,radius:d,scaling:p,onAppearanceChange:f,onAccentColorChange:m,onGrayColorChange:S,onPanelBackgroundChange:w,onRadiusChange:b,onScalingChange:g}),[i,a,l,x,u,d,p,f,m,S,w,b,g])},c.createElement(y,{"data-is-root-theme":s?"true":"false","data-accent-color":a,"data-gray-color":x,"data-has-background":R?"true":"false","data-panel-background":u,"data-radius":d,"data-scaling":p,ref:t,...v,className:Z("radix-themes",{light:i==="light",dark:i==="dark"},v.className)}))});Df.displayName="ThemeImpl";const Rx=e=>{if(!c.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${c.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e};function QN(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=c.Children.only(r);return c.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}const JN=["1","2","3"],ZN=["solid","soft","surface","outline"],eM={...Un,size:{type:"enum",className:"rt-r-size",values:JN,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:ZN,default:"soft"},...Nf,...Ro,...qa},co=c.forwardRef((e,t)=>{const{asChild:n,className:r,color:s,radius:o,...i}=pt(e,eM,Yt),a=n?fr:"span";return c.createElement(a,{"data-accent-color":s,"data-radius":o,...i,ref:t,className:Z("rt-reset","rt-Badge",r)})});co.displayName="Badge";const tM=fr,Wn=["0","1","2","3","4","5","6","7","8","9"],bi={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:Wn,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:Wn,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:Wn,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:Wn,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:Wn,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:Wn,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:Wn,responsive:!0}},$l=["visible","hidden","clip","scroll","auto"],nM=["static","relative","absolute","fixed","sticky"],ws=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],rM=["0","1"],sM=["0","1"],oM=["start","center","end","baseline","stretch"],iM=["start","center","end","baseline","stretch"],aM={...bi,..._i,...yx,position:{type:"enum",className:"rt-r-position",values:nM,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:ws,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:ws,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:ws,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:ws,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:ws,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:$l,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:$l,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:$l,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:rM,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:sM,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0},alignSelf:{type:"enum",className:"rt-r-as",values:oM,responsive:!0},justifySelf:{type:"enum",className:"rt-r-js",values:iM,responsive:!0}},lM=["1","2","3","4"],uM=["classic","solid","soft","surface","outline","ghost"],rm={...Un,size:{type:"enum",className:"rt-r-size",values:lM,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:uM,default:"solid"},...Nf,...Ro,...qa,loading:{type:"boolean",className:"rt-loading",default:!1}},Ul=["0","1","2","3","4","5","6","7","8","9"],cM={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:Ul,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:Ul,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:Ul,responsive:!0}},dM=["div","span"],fM=["none","inline-flex","flex"],hM=["row","column","row-reverse","column-reverse"],pM=["start","center","end","baseline","stretch"],mM=["start","center","end","between"],gM=["nowrap","wrap","wrap-reverse"],kx={as:{type:"enum",values:dM,default:"div"},...Un,display:{type:"enum",className:"rt-r-display",values:fM,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:hM,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:pM,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:mM,parseValue:vM,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:gM,responsive:!0},...cM};function vM(e){return e==="between"?"space-between":e}const je=c.forwardRef((e,t)=>{const{className:n,asChild:r,as:s="div",...o}=pt(e,kx,aM,Yt);return c.createElement(r?tM:s,{...o,ref:t,className:Z("rt-Flex",n)})});je.displayName="Flex";const yM=["1","2","3"],wM={size:{type:"enum",className:"rt-r-size",values:yM,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},Ax=c.forwardRef((e,t)=>{const{className:n,children:r,loading:s,...o}=pt(e,wM,Yt);if(!s)return r;const i=c.createElement("span",{...o,ref:t,className:Z("rt-Spinner",n)},c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}));return r===void 0?i:c.createElement(je,{asChild:!0,position:"relative",align:"center",justify:"center"},c.createElement("span",null,c.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},r),c.createElement(je,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},c.createElement("span",null,i))))});Ax.displayName="Spinner";const SM=Ww;function Px(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]))}function xM(e){return e==="3"?"3":"2"}function _M(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const Ix=c.forwardRef((e,t)=>{const{size:n=rm.size.default}=e,{className:r,children:s,asChild:o,color:i,radius:a,disabled:l=e.loading,...u}=pt(e,rm,Yt),d=o?fr:"button";return c.createElement(d,{"data-disabled":l||void 0,"data-accent-color":i,"data-radius":a,...u,ref:t,className:Z("rt-reset","rt-BaseButton",r),disabled:l},e.loading?c.createElement(c.Fragment,null,c.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},s),c.createElement(SM,null,s),c.createElement(je,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},c.createElement("span",null,c.createElement(Ax,{size:Px(n,_M)})))):s)});Ix.displayName="BaseButton";const it=c.forwardRef(({className:e,...t},n)=>c.createElement(Ix,{...t,ref:n,className:Z("rt-Button",e)}));it.displayName="Button";const bM=["1","2","3"],CM=["soft","surface","outline"],sm={...Un,size:{type:"enum",className:"rt-r-size",values:bM,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:CM,default:"soft"},...Nf,...Ro},Nx=c.createContext({}),Qu=c.forwardRef((e,t)=>{const{size:n=sm.size.default}=e,{asChild:r,children:s,className:o,color:i,...a}=pt(e,sm,Yt),l=r?fr:"div";return c.createElement(l,{"data-accent-color":i,...a,className:Z("rt-CalloutRoot",o),ref:t},c.createElement(Nx.Provider,{value:c.useMemo(()=>({size:n}),[n])},s))});Qu.displayName="Callout.Root";const EM=c.forwardRef(({className:e,...t},n)=>c.createElement("div",{...t,className:Z("rt-CalloutIcon",e),ref:n}));EM.displayName="Callout.Icon";const Ju=c.forwardRef(({className:e,...t},n)=>{const{size:r}=c.useContext(Nx);return c.createElement(nn,{as:"p",size:Px(r,xM),...t,asChild:!1,ref:n,className:Z("rt-CalloutText",e)})});Ju.displayName="Callout.Text";var Mx=se;Mx.dispatchDiscreteCustomEvent=Iy;Mx.Root=se;const TM=["1","2","3"],Ss={...Un,size:{values:TM,default:"1"},...qa,scrollbars:{default:"both"}};function RM(e){const{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,...l}=e;return{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,rest:l}}const Yn=Yt.m.values;function kM(e){const[t,n]=vn({className:"rt-r-m",customProperties:["--margin"],propValues:Yn,value:e.m}),[r,s]=vn({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:Yn,value:e.mx}),[o,i]=vn({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:Yn,value:e.my}),[a,l]=vn({className:"rt-r-mt",customProperties:["--margin-top"],propValues:Yn,value:e.mt}),[u,d]=vn({className:"rt-r-mr",customProperties:["--margin-right"],propValues:Yn,value:e.mr}),[p,f]=vn({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:Yn,value:e.mb}),[m,S]=vn({className:"rt-r-ml",customProperties:["--margin-left"],propValues:Yn,value:e.ml});return[Z(t,r,o,a,u,p,m),ca(n,s,i,l,d,f,S)]}const jx=c.forwardRef((e,t)=>{const{rest:n,...r}=RM(e),[s,o]=kM(r),{asChild:i,children:a,className:l,style:u,type:d,scrollHideDelay:p=d!=="scroll"?0:void 0,dir:f,size:m=Ss.size.default,radius:S=Ss.radius.default,scrollbars:w=Ss.scrollbars.default,...b}=n;return c.createElement(IN,{type:d,scrollHideDelay:p,className:Z("rt-ScrollAreaRoot",s,l),style:ca(o,u),asChild:i},QN({asChild:i,children:a},g=>c.createElement(c.Fragment,null,c.createElement(NN,{...b,ref:t,className:"rt-ScrollAreaViewport"},g),c.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),w!=="vertical"?c.createElement(em,{"data-radius":S,orientation:"horizontal",className:Z("rt-ScrollAreaScrollbar",ua({className:"rt-r-size",value:m,propValues:Ss.size.values}))},c.createElement(tm,{className:"rt-ScrollAreaThumb"})):null,w!=="horizontal"?c.createElement(em,{"data-radius":S,orientation:"vertical",className:Z("rt-ScrollAreaScrollbar",ua({className:"rt-r-size",value:m,propValues:Ss.size.values}))},c.createElement(tm,{className:"rt-ScrollAreaThumb"})):null,w==="both"?c.createElement(MN,{className:"rt-ScrollAreaCorner"}):null)))});jx.displayName="ScrollArea";const Zu=e=>c.createElement(BS,{...e,modal:!0});Zu.displayName="Dialog.Root";const AM=c.forwardRef(({children:e,...t},n)=>c.createElement(FS,{...t,ref:n,asChild:!0},Rx(e)));AM.displayName="Dialog.Trigger";const ec=c.forwardRef(({align:e,...t},n)=>{const{align:r,...s}=ON,{className:o}=pt({align:e},{align:r}),{className:i,forceMount:a,container:l,...u}=pt(t,s);return c.createElement(zS,{container:l,forceMount:a},c.createElement(Of,{asChild:!0},c.createElement(nf,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},c.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},c.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${o}`},c.createElement(rf,{...u,ref:n,className:Z("rt-BaseDialogContent","rt-DialogContent",i)}))))))});ec.displayName="Dialog.Content";const tc=c.forwardRef((e,t)=>c.createElement(jI,{asChild:!0},c.createElement(jf,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));tc.displayName="Dialog.Title";const nc=c.forwardRef((e,t)=>c.createElement(OI,{asChild:!0},c.createElement(nn,{as:"p",size:"3",...e,asChild:!1,ref:t})));nc.displayName="Dialog.Description";const rc=c.forwardRef(({children:e,...t},n)=>c.createElement(DI,{...t,ref:n,asChild:!0},Rx(e)));rc.displayName="Dialog.Close";const PM=["horizontal","vertical"],IM=["1","2","3","4"],NM={orientation:{type:"enum",className:"rt-r-orientation",values:PM,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:IM,default:"1",responsive:!0},color:{...To.color,default:"gray"},decorative:{type:"boolean",default:!0}},Ox=c.forwardRef((e,t)=>{const{className:n,color:r,decorative:s,...o}=pt(e,NM,Yt);return c.createElement("span",{"data-accent-color":r,role:s?void 0:"separator",...o,ref:t,className:Z("rt-Separator",n)})});Ox.displayName="Separator";const MM=["1","2","3"],jM=["classic","surface","soft"],OM={size:{type:"enum",className:"rt-r-size",values:MM,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:jM,default:"surface"},...To,...qa},DM=["left","right"],LM={side:{type:"enum",values:DM},...To,gap:kx.gap,px:bi.px,pl:bi.pl,pr:bi.pr},ot=c.forwardRef((e,t)=>{const n=c.useRef(null),{children:r,className:s,color:o,radius:i,style:a,...l}=pt(e,OM,Yt);return c.createElement("div",{"data-accent-color":o,"data-radius":i,style:a,className:Z("rt-TextFieldRoot",s),onPointerDown:u=>{const d=u.target;if(d.closest("input, button, a"))return;const p=n.current;if(!p)return;const f=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?p.value.length:0;requestAnimationFrame(()=>{try{p.setSelectionRange(f,f)}catch{}p.focus()})}},c.createElement("input",{spellCheck:"false",...l,ref:Oa(n,t),className:"rt-reset rt-TextFieldInput"}),r)});ot.displayName="TextField.Root";const BM=c.forwardRef((e,t)=>{const{className:n,color:r,side:s,...o}=pt(e,LM);return c.createElement("div",{"data-accent-color":r,"data-side":s,...o,ref:t,className:Z("rt-TextFieldSlot",n)})});BM.displayName="TextField.Slot";function FM({appearance:e,onToggleAppearance:t,token:n,onTokenChange:r,sessionKeys:s,sessionKey:o,onSessionSelect:i,onOpenConfig:a,onNewSession:l}){const u=e==="dark";return h.jsxs("aside",{className:u?"flex h-full min-h-0 flex-col border-r border-slate-800 bg-slate-950 p-4":"flex h-full min-h-0 flex-col border-r border-slate-200 bg-white p-4",children:[h.jsxs(je,{justify:"between",align:"center",className:"mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:u?"h-7 w-7 rounded-md bg-teal-400":"h-7 w-7 rounded-md bg-slate-900"}),h.jsx(nn,{size:"5",weight:"bold",children:"MicroClaw"})]}),h.jsx(co,{color:n.trim()?"jade":"gray",variant:"surface",children:n.trim()?"Protected":"Local Open"})]}),h.jsxs(je,{direction:"column",gap:"2",className:"mb-4",children:[h.jsx(it,{size:"2",variant:"solid",color:"teal",onClick:l,children:"New Session"}),h.jsx(it,{size:"2",variant:"soft",onClick:()=>void a(),children:"Runtime Config"}),h.jsx(it,{size:"2",variant:"ghost",onClick:t,children:u?"Switch to Light":"Switch to Dark"})]}),h.jsx(ot,{value:n,onChange:d=>r(d.target.value),placeholder:"Bearer token (optional)"}),h.jsx(Ox,{size:"4",className:"my-4"}),h.jsxs(je,{justify:"between",align:"center",className:"mb-2",children:[h.jsx(nn,{size:"2",weight:"medium",color:"gray",children:"Sessions"}),h.jsx(co,{variant:"surface",children:s.length})]}),h.jsx("div",{className:u?"min-h-0 flex-1 rounded-xl border border-slate-800 bg-slate-900/60 p-2":"min-h-0 flex-1 rounded-xl border border-slate-200 bg-slate-50/70 p-2",children:h.jsx(jx,{type:"auto",style:{height:"100%"},children:h.jsx("div",{className:"flex flex-col gap-1.5 pr-1",children:s.map(d=>h.jsx("button",{type:"button",onClick:()=>i(d),className:o===d?u?"flex w-full items-center rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-left shadow-sm":"flex w-full items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-left shadow-sm":u?"flex w-full items-center rounded-lg border border-transparent px-3 py-2 text-left text-slate-300 hover:border-slate-700 hover:bg-slate-800":"flex w-full items-center rounded-lg border border-transparent px-3 py-2 text-left text-slate-600 hover:border-slate-200 hover:bg-white",children:h.jsx("span",{className:"max-w-[220px] truncate text-sm font-medium",children:d})},d))})})})]})}function zM(){return localStorage.getItem("microclaw_web_token")||""}function $M(e){localStorage.setItem("microclaw_web_token",e)}function Dx(){return localStorage.getItem("microclaw_appearance")==="light"?"light":"dark"}function UM(e){localStorage.setItem("microclaw_appearance",e)}typeof document<"u"&&document.documentElement.classList.toggle("dark",Dx()==="dark");function Lx(e,t={}){const n={...t.headers};return t.body&&!n["Content-Type"]&&(n["Content-Type"]="application/json"),e.trim()&&(n.Authorization=`Bearer ${e.trim()}`),n}async function wr(e,t,n={}){const r=await fetch(e,{...n,headers:Lx(t,n)}),s=await r.json().catch(()=>({}));if(!r.ok)throw new Error(String(s.error||s.message||`HTTP ${r.status}`));return s}async function*HM(e,t){if(!e.body)throw new Error("empty stream body");const n=e.body.getReader(),r=new TextDecoder;let s="",o="message",i=[];const a=()=>{if(i.length===0)return null;const u=i.join(`
`);i=[];let d={};try{d=JSON.parse(u)}catch{d={raw:u}}const p={event:o,payload:d};return o="message",p},l=u=>{if(u==="")return a();if(u.startsWith(":"))return null;const d=u.indexOf(":"),p=d>=0?u.slice(0,d):u;let f=d>=0?u.slice(d+1):"";return f.startsWith(" ")&&(f=f.slice(1)),p==="event"&&(o=f),p==="data"&&i.push(f),null};for(;;){if(t.aborted)return;const{done:u,value:d}=await n.read();for(s+=r.decode(d||new Uint8Array,{stream:!u});;){const p=s.indexOf(`
`);if(p<0)break;let f=s.slice(0,p);s=s.slice(p+1),f.endsWith("\r")&&(f=f.slice(0,-1));const m=l(f);m&&(yield m)}if(u){if(s.length>0){let f=s;f.endsWith("\r")&&(f=f.slice(0,-1));const m=l(f);m&&(yield m)}const p=a();p&&(yield p);return}}}function VM(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role!=="user")continue;const r=n.content.map(s=>s.type==="text"?s.text:"").join(`
`).trim();if(r.length>0)return r}return""}function WM(e){return e.map((t,n)=>({id:t.id||`history-${n}`,role:t.is_from_bot?"assistant":"user",content:t.content||"",createdAt:t.timestamp?new Date(t.timestamp):new Date}))}function YM({adapter:e,initialMessages:t,runtimeKey:n}){const r=PE(e,{initialMessages:t,maxSteps:100});return h.jsx(Sy,{runtime:r,children:h.jsx("div",{className:"aui-root h-full min-h-0",children:h.jsx(yN,{assistantMessage:{allowCopy:!0,allowReload:!1,allowSpeak:!1,allowFeedbackNegative:!1,allowFeedbackPositive:!1},userMessage:{allowEdit:!1},composer:{allowAttachments:!1},strings:{composer:{input:{placeholder:"Message MicroClaw..."}}}})})},n)}function GM(){const[e,t]=c.useState(Dx()),[n,r]=c.useState(zM()),[s,o]=c.useState([]),[i,a]=c.useState([]),[l,u]=c.useState("main"),[d,p]=c.useState([]),[f,m]=c.useState(0),[S,w]=c.useState("web-user"),[b,g]=c.useState(""),[v,y]=c.useState("Idle"),[x,C]=c.useState(""),[R,E]=c.useState(!1),[T,I]=c.useState(!1),[P,D]=c.useState(!1),[F,Y]=c.useState(""),[K,he]=c.useState(null),[O,z]=c.useState({}),[k,j]=c.useState(""),L=c.useMemo(()=>{const N=["main",...i,...s.map(Ee=>Ee.session_key)];return[...new Set(N)]},[s,i]);async function X(){const N=await wr("/api/sessions",n);o(Array.isArray(N.sessions)?N.sessions:[])}async function te(N=l){const Ee=new URLSearchParams({session_key:N,limit:"200"}),Te=await wr(`/api/history?${Ee.toString()}`,n),me=WM(Array.isArray(Te.messages)?Te.messages:[]);p(me),m(Kt=>Kt+1)}const pn=c.useMemo(()=>({run:async function*(N){const Ee=VM(N.messages);if(!Ee)return;E(!0),y("Sending..."),C(""),g("");const me=(await wr("/api/send_stream",n,{method:"POST",body:JSON.stringify({session_key:l,sender_name:S||"web-user",message:Ee}),signal:N.abortSignal})).run_id;if(!me)throw new Error("missing run_id");const Kt=new URLSearchParams({run_id:me}),qt=await fetch(`/api/stream?${Kt.toString()}`,{method:"GET",headers:Lx(n),cache:"no-store",signal:N.abortSignal});if(!qt.ok){const Ge=await qt.text().catch(()=>"");throw new Error(Ge||`HTTP ${qt.status}`)}for await(const Ge of HM(qt,N.abortSignal)){const ze=Ge.payload;if(Ge.event==="replay_meta"){if(ze.replay_truncated===!0){const Ie=typeof ze.oldest_event_id=="number"?ze.oldest_event_id:null,hr=Ie!==null?`Stream history was truncated. Recovery resumed from event #${Ie}.`:"Stream history was truncated. Recovery resumed from the earliest available event.";C(hr)}continue}if(Ge.event==="status"){const Ie=typeof ze.message=="string"?ze.message:"";Ie&&y(Ie);continue}if(Ge.event==="delta"){const Ie=typeof ze.delta=="string"?ze.delta:"";if(!Ie)continue;yield{content:[{type:"text",text:Ie}]};continue}if(Ge.event==="error"){const Ie=typeof ze.error=="string"?ze.error:"stream error";throw new Error(Ie)}if(Ge.event==="done"){y("Done");break}}E(!1),X()}}),[n,l,S]);function st(N){const Te=(N||"").trim().replace(/\s+/g," ")||`session-${new Date().toISOString().replace(/[-:TZ.]/g,"").slice(0,14)}`;a(me=>me.includes(Te)?me:[Te,...me]),u(Te),p([]),m(me=>me+1),C(""),g(""),y("Idle"),Y(""),D(!1)}function Hn(){t(N=>N==="dark"?"light":"dark")}async function gt(){try{await wr("/api/reset",n,{method:"POST",body:JSON.stringify({session_key:l})}),await te(l),y("Session reset")}catch(N){g(N instanceof Error?N.message:String(N))}}async function Gt(){var Ee,Te,me,Kt,qt,Ge,ze,Ie;j("");const N=await wr("/api/config",n);he(N.config||null),z({llm_provider:((Ee=N.config)==null?void 0:Ee.llm_provider)||"",model:((Te=N.config)==null?void 0:Te.model)||"",api_key:"",max_tokens:Number(((me=N.config)==null?void 0:me.max_tokens)??8192),max_tool_iterations:Number(((Kt=N.config)==null?void 0:Kt.max_tool_iterations)??100),show_thinking:!!((qt=N.config)!=null&&qt.show_thinking),web_enabled:!!((Ge=N.config)!=null&&Ge.web_enabled),web_host:String(((ze=N.config)==null?void 0:ze.web_host)||"127.0.0.1"),web_port:Number(((Ie=N.config)==null?void 0:Ie.web_port)??10961),web_auth_token:""}),I(!0)}async function ko(){try{const N={llm_provider:String(O.llm_provider||""),model:String(O.model||""),max_tokens:Number(O.max_tokens||8192),max_tool_iterations:Number(O.max_tool_iterations||100),show_thinking:!!O.show_thinking,web_enabled:!!O.web_enabled,web_host:String(O.web_host||"127.0.0.1"),web_port:Number(O.web_port||10961)},Ee=String(O.api_key||"").trim(),Te=String(O.web_auth_token||"").trim();Ee&&(N.api_key=Ee),Te&&(N.web_auth_token=Te),await wr("/api/config",n,{method:"PUT",body:JSON.stringify(N)}),j("Saved. Restart microclaw to apply changes.")}catch(N){j(`Save failed: ${N instanceof Error?N.message:String(N)}`)}}c.useEffect(()=>{$M(n)},[n]),c.useEffect(()=>{UM(e),document.documentElement.classList.toggle("dark",e==="dark")},[e]),c.useEffect(()=>{(async()=>{try{g(""),await Promise.all([X(),te(l)])}catch(N){g(N instanceof Error?N.message:String(N))}})()},[]),c.useEffect(()=>{te(l).catch(N=>g(N instanceof Error?N.message:String(N)))},[l]);const as=`${l}-${f}`;return h.jsx(Of,{appearance:e,accentColor:"teal",grayColor:"slate",radius:"medium",scaling:"100%",children:h.jsxs("div",{className:e==="dark"?"h-screen w-screen bg-slate-950":"h-screen w-screen bg-[radial-gradient(1200px_560px_at_-8%_-10%,#d1fae5_0%,transparent_58%),radial-gradient(1200px_560px_at_108%_-12%,#e0f2fe_0%,transparent_58%),#f8fafc]",children:[h.jsxs("div",{className:"grid h-full min-h-0 grid-cols-[320px_minmax(0,1fr)]",children:[h.jsx(FM,{appearance:e,onToggleAppearance:Hn,token:n,onTokenChange:r,sessionKeys:L,sessionKey:l,onSessionSelect:u,onOpenConfig:Gt,onNewSession:()=>D(!0)}),h.jsxs("main",{className:e==="dark"?"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-slate-900":"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-white/95",children:[h.jsxs("header",{className:e==="dark"?"sticky top-0 z-10 border-b border-slate-800 bg-slate-900/95 px-4 py-3 backdrop-blur-sm":"sticky top-0 z-10 border-b border-slate-200 bg-white/92 px-4 py-3 backdrop-blur-sm",children:[h.jsxs(je,{justify:"between",align:"center",gap:"2",wrap:"wrap",children:[h.jsxs(je,{align:"center",gap:"2",children:[h.jsx(jf,{size:"4",className:"capitalize",children:l}),h.jsx(co,{color:"teal",variant:"soft",children:"assistant-ui"}),h.jsx(co,{color:R?"teal":"gray",variant:"surface",children:R?"Streaming":"Idle"})]}),h.jsxs(je,{gap:"2",align:"center",children:[h.jsx(ot,{style:{width:170},value:S,onChange:N=>w(N.target.value),placeholder:"sender name"}),h.jsx(it,{size:"1",variant:"soft",onClick:()=>te(l).catch(N=>g(N instanceof Error?N.message:String(N))),children:"Refresh"}),h.jsx(it,{size:"1",variant:"soft",color:"orange",onClick:gt,children:"Reset Session"})]})]}),h.jsxs(nn,{size:"1",color:"gray",className:"mt-1",children:["Status: ",v]})]}),h.jsxs("div",{className:e==="dark"?"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#020617,#0f172a_22%)]":"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#f8fafc,white_20%)]",children:[h.jsxs("div",{className:"mx-auto w-full max-w-5xl px-3 pt-3",children:[x?h.jsx(Qu,{color:"orange",size:"1",variant:"soft",children:h.jsx(Ju,{children:x})}):null,b?h.jsx(Qu,{color:"red",size:"1",variant:"soft",className:x?"mt-2":"",children:h.jsx(Ju,{children:b})}):null]}),h.jsx("div",{className:"min-h-0 flex-1 px-1 pb-1",children:h.jsx(YM,{adapter:pn,initialMessages:d,runtimeKey:as},as)})]})]})]}),h.jsx(Zu,{open:P,onOpenChange:D,children:h.jsxs(ec,{maxWidth:"480px",children:[h.jsx(tc,{children:"New Session"}),h.jsx(nc,{size:"2",mb:"3",children:"Create a new local web chat session."}),h.jsxs(je,{direction:"column",gap:"3",children:[h.jsx(ot,{value:F,onChange:N=>Y(N.target.value),placeholder:"Session name (optional)",onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),st(F))}}),h.jsxs(je,{justify:"end",gap:"2",children:[h.jsx(rc,{children:h.jsx(it,{variant:"soft",children:"Cancel"})}),h.jsx(it,{onClick:()=>st(F),children:"Create"})]})]})]})}),h.jsx(Zu,{open:T,onOpenChange:I,children:h.jsxs(ec,{maxWidth:"640px",children:[h.jsx(tc,{children:"Runtime Config"}),h.jsx(nc,{size:"2",mb:"3",children:"Save writes to microclaw.config.yaml. Restart is required."}),K?h.jsxs(je,{direction:"column",gap:"2",children:[h.jsxs(nn,{size:"2",color:"gray",children:["Current provider: ",String(K.llm_provider||"")]}),h.jsx(ot,{value:String(O.llm_provider||""),onChange:N=>z({...O,llm_provider:N.target.value}),placeholder:"llm_provider"}),h.jsx(ot,{value:String(O.model||""),onChange:N=>z({...O,model:N.target.value}),placeholder:"model"}),h.jsx(ot,{value:String(O.api_key||""),onChange:N=>z({...O,api_key:N.target.value}),placeholder:"api_key (leave blank to keep existing)"}),h.jsx(ot,{value:String(O.max_tokens||8192),onChange:N=>z({...O,max_tokens:N.target.value}),placeholder:"max_tokens"}),h.jsx(ot,{value:String(O.max_tool_iterations||100),onChange:N=>z({...O,max_tool_iterations:N.target.value}),placeholder:"max_tool_iterations"}),h.jsx(ot,{value:String(O.web_host||"127.0.0.1"),onChange:N=>z({...O,web_host:N.target.value}),placeholder:"web_host"}),h.jsx(ot,{value:String(O.web_port||10961),onChange:N=>z({...O,web_port:N.target.value}),placeholder:"web_port"}),h.jsx(ot,{value:String(O.web_auth_token||""),onChange:N=>z({...O,web_auth_token:N.target.value}),placeholder:"web_auth_token (optional)"}),h.jsxs(je,{gap:"2",children:[h.jsxs(it,{variant:O.show_thinking?"solid":"soft",onClick:()=>z({...O,show_thinking:!O.show_thinking}),children:["show_thinking: ",O.show_thinking?"on":"off"]}),h.jsxs(it,{variant:O.web_enabled?"solid":"soft",onClick:()=>z({...O,web_enabled:!O.web_enabled}),children:["web_enabled: ",O.web_enabled?"on":"off"]})]}),k?h.jsx(nn,{size:"2",color:k.startsWith("Save failed")?"red":"green",children:k}):null,h.jsxs(je,{justify:"end",gap:"2",mt:"2",children:[h.jsx(rc,{children:h.jsx(it,{variant:"soft",children:"Close"})}),h.jsx(it,{onClick:()=>void ko(),children:"Save"})]})]}):h.jsx(nn,{size:"2",color:"gray",children:"Loading..."})]})})]})})}yv(document.getElementById("root")).render(h.jsx(GM,{}));
